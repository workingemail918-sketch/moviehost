var AO=Object.defineProperty,RO=Object.defineProperties;var NO=Object.getOwnPropertyDescriptors;var xD=Object.getOwnPropertySymbols,MO=Object.getPrototypeOf,PO=Object.prototype.hasOwnProperty,xO=Object.prototype.propertyIsEnumerable,kO=Reflect.get;var kD=(n,e,t)=>e in n?AO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,O=(n,e)=>{for(var t in e||={})PO.call(e,t)&&kD(n,t,e[t]);if(xD)for(var t of xD(e))xO.call(e,t)&&kD(n,t,e[t]);return n},te=(n,e)=>RO(n,NO(e));var qr=(n,e,t)=>kO(MO(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var Bg;function jl(){return Bg}function Nn(n){let e=Bg;return Bg=n,e}var OD=Symbol("NotFound");function is(n){return n===OD||n?.name==="\u0275NotFound"}var vt=null,Ul=!1,$g=1,OO=null,_t=Symbol("SIGNAL");function J(n){let e=vt;return vt=n,e}function zl(){return vt}var $i={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function os(n){if(Ul)throw new Error("");if(vt===null)return;vt.consumerOnSignalRead(n);let e=vt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=vt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:vt.producers,t!==void 0&&t.producer===n)){vt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===vt&&(!r||LO(i,vt)))return;let o=cs(vt),s={producer:n,consumer:vt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};vt.producersTail=s,e!==void 0?e.nextProducer=s:vt.producers=s,o&&jD(n,s)}function FD(){$g++}function ql(n){if(!(cs(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===$g)){if(!n.producerMustRecompute(n)&&!as(n)){Hl(n);return}n.producerRecomputeValue(n),Hl(n)}}function Hg(n){if(n.consumers===void 0)return;let e=Ul;Ul=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||FO(r)}}finally{Ul=e}}function zg(){return vt?.consumerAllowSignalWrites!==!1}function FO(n){n.dirty=!0,Hg(n),n.consumerMarkedDirty?.(n)}function Hl(n){n.dirty=!1,n.lastCleanEpoch=$g}function Hi(n){return n&&LD(n),J(n)}function LD(n){n.producersTail=void 0,n.recomputing=!0}function ss(n,e){J(e),n&&VD(n)}function VD(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(cs(n))do t=qg(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function as(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(ql(t),r!==t.version))return!0}return!1}function zi(n){if(cs(n)){let e=n.producers;for(;e!==void 0;)e=qg(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function jD(n,e){let t=n.consumersTail,r=cs(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)jD(i.producer,i)}function qg(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!cs(e)){let o=e.producers;for(;o!==void 0;)o=qg(o)}return t}function cs(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Gl(n){OO?.(n)}function LO(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Wl(n,e){return Object.is(n,e)}function Kl(n,e){let t=Object.create(VO);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(ql(t),os(t),t.value===dc)throw t.error;return t.value};return r[_t]=t,Gl(t),r}var Bl=Symbol("UNSET"),$l=Symbol("COMPUTING"),dc=Symbol("ERRORED"),VO=te(O({},$i),{value:Bl,dirty:!0,error:null,equal:Wl,kind:"computed",producerMustRecompute(n){return n.value===Bl||n.value===$l},producerRecomputeValue(n){if(n.value===$l)throw new Error("");let e=n.value;n.value=$l;let t=Hi(n),r,i=!1;try{r=n.computation(),J(null),i=e!==Bl&&e!==dc&&r!==dc&&n.equal(e,r)}catch(o){r=dc,n.error=o}finally{ss(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function jO(){throw new Error}var UD=jO;function BD(n){UD(n)}function Gg(n){UD=n}var UO=null;function Wg(n,e){let t=Object.create(Ql);t.value=n,e!==void 0&&(t.equal=e);let r=()=>$D(t);return r[_t]=t,Gl(t),[r,s=>us(t,s),s=>Kg(t,s)]}function $D(n){return os(n),n.value}function us(n,e){zg()||BD(n),n.equal(n.value,e)||(n.value=e,BO(n))}function Kg(n,e){zg()||BD(n),us(n,e(n.value))}var Ql=te(O({},$i),{equal:Wl,value:void 0,kind:"signal"});function BO(n){n.version++,FD(),Hg(n),UO?.(n)}function ie(n){return typeof n=="function"}function ls(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Yl=ls(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function qi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Oe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ie(r))try{r()}catch(o){e=o instanceof Yl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{HD(o)}catch(s){e=e??[],s instanceof Yl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Yl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)HD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&qi(t,e)}remove(e){let{_finalizers:t}=this;t&&qi(t,e),e instanceof n&&e._removeParent(this)}};Oe.EMPTY=(()=>{let n=new Oe;return n.closed=!0,n})();var Qg=Oe.EMPTY;function Zl(n){return n instanceof Oe||n&&"closed"in n&&ie(n.remove)&&ie(n.add)&&ie(n.unsubscribe)}function HD(n){ie(n)?n():n.unsubscribe()}var fn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ds={setTimeout(n,e,...t){let{delegate:r}=ds;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ds;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Jl(n){ds.setTimeout(()=>{let{onUnhandledError:e}=fn;if(e)e(n);else throw n})}function hc(){}var zD=Yg("C",void 0,void 0);function qD(n){return Yg("E",void 0,n)}function GD(n){return Yg("N",n,void 0)}function Yg(n,e,t){return{kind:n,value:e,error:t}}var Gi=null;function hs(n){if(fn.useDeprecatedSynchronousErrorHandling){let e=!Gi;if(e&&(Gi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Gi;if(Gi=null,t)throw r}}else n()}function WD(n){fn.useDeprecatedSynchronousErrorHandling&&Gi&&(Gi.errorThrown=!0,Gi.error=n)}var Wi=class extends Oe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Zl(e)&&e.add(this)):this.destination=zO}static create(e,t,r){return new sr(e,t,r)}next(e){this.isStopped?Jg(GD(e),this):this._next(e)}error(e){this.isStopped?Jg(qD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Jg(zD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},$O=Function.prototype.bind;function Zg(n,e){return $O.call(n,e)}var Xg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Xl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Xl(r)}else Xl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Xl(t)}}},sr=class extends Wi{constructor(e,t,r){super();let i;if(ie(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&fn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Zg(e.next,o),error:e.error&&Zg(e.error,o),complete:e.complete&&Zg(e.complete,o)}):i=e}this.destination=new Xg(i)}};function Xl(n){fn.useDeprecatedSynchronousErrorHandling?WD(n):Jl(n)}function HO(n){throw n}function Jg(n,e){let{onStoppedNotification:t}=fn;t&&ds.setTimeout(()=>t(n,e))}var zO={closed:!0,next:hc,error:HO,complete:hc};var fs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function At(n){return n}function ed(...n){return em(n)}function em(n){return n.length===0?At:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ee=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=GO(t)?t:new sr(t,r,i);return hs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=KD(r),new r((i,o)=>{let s=new sr({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[fs](){return this}pipe(...t){return em(t)(this)}toPromise(t){return t=KD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function KD(n){var e;return(e=n??fn.Promise)!==null&&e!==void 0?e:Promise}function qO(n){return n&&ie(n.next)&&ie(n.error)&&ie(n.complete)}function GO(n){return n&&n instanceof Wi||qO(n)&&Zl(n)}function tm(n){return ie(n?.lift)}function ue(n){return e=>{if(tm(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function oe(n,e,t,r,i){return new nm(n,e,t,r,i)}var nm=class extends Wi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ps(){return ue((n,e)=>{let t=null;n._refCount++;let r=oe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var gs=class extends ee{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,tm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Oe;let t=this.getSubject();e.add(this.source.subscribe(oe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Oe.EMPTY)}return e}refCount(){return ps()(this)}};var QD=ls(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Re=(()=>{class n extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new td(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new QD}next(t){hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Qg:(this.currentObservers=null,o.push(t),new Oe(()=>{this.currentObservers=null,qi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ee;return t.source=this,t}}return n.create=(e,t)=>new td(e,t),n})(),td=class extends Re{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Qg}};var Xe=class extends Re{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var fc={now(){return(fc.delegate||Date).now()},delegate:void 0};var pc=class extends Re{constructor(e=1/0,t=1/0,r=fc){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var nd=class extends Oe{constructor(e,t){super()}schedule(e,t=0){return this}};var gc={setInterval(n,e,...t){let{delegate:r}=gc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=gc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ms=class extends nd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return gc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&gc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,qi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ys=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ys.now=fc.now;var vs=class extends ys{constructor(e,t=ys.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Gr=new vs(ms),rm=Gr;var rd=class extends ms{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var id=class extends vs{};var im=new id(rd);var Et=new ee(n=>n.complete());function od(n){return n&&ie(n.schedule)}function om(n){return n[n.length-1]}function sd(n){return ie(om(n))?n.pop():void 0}function Mn(n){return od(om(n))?n.pop():void 0}function YD(n,e){return typeof om(n)=="number"?n.pop():e}function sm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function JD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function c(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function ZD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ki(n){return this instanceof Ki?(this.v=n,this):new Ki(n)}function XD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(w){return Promise.resolve(w).then(m,p)}}function a(m,w){r[m]&&(i[m]=function(N){return new Promise(function(S,M){o.push([m,N,S,M])>1||c(m,N)})},w&&(i[m]=w(i[m])))}function c(m,w){try{l(r[m](w))}catch(N){g(o[0][3],N)}}function l(m){m.value instanceof Ki?Promise.resolve(m.value.v).then(h,p):g(o[0][2],m)}function h(m){c("next",m)}function p(m){c("throw",m)}function g(m,w){m(w),o.shift(),o.length&&c(o[0][0],o[0][1])}}function eb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof ZD=="function"?ZD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var ad=n=>n&&typeof n.length=="number"&&typeof n!="function";function cd(n){return ie(n?.then)}function ud(n){return ie(n[fs])}function ld(n){return Symbol.asyncIterator&&ie(n?.[Symbol.asyncIterator])}function dd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function WO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hd=WO();function fd(n){return ie(n?.[hd])}function pd(n){return XD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ki(t.read());if(i)return yield Ki(void 0);yield yield Ki(r)}}finally{t.releaseLock()}})}function gd(n){return ie(n?.getReader)}function De(n){if(n instanceof ee)return n;if(n!=null){if(ud(n))return KO(n);if(ad(n))return QO(n);if(cd(n))return YO(n);if(ld(n))return tb(n);if(fd(n))return ZO(n);if(gd(n))return JO(n)}throw dd(n)}function KO(n){return new ee(e=>{let t=n[fs]();if(ie(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function QO(n){return new ee(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function YO(n){return new ee(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Jl)})}function ZO(n){return new ee(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function tb(n){return new ee(e=>{XO(n,e).catch(t=>e.error(t))})}function JO(n){return tb(pd(n))}function XO(n,e){var t,r,i,o;return JD(this,void 0,void 0,function*(){try{for(t=eb(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function jt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Wr(n,e=0){return ue((t,r)=>{t.subscribe(oe(r,i=>jt(r,n,()=>r.next(i),e),()=>jt(r,n,()=>r.complete(),e),i=>jt(r,n,()=>r.error(i),e)))})}function Kr(n,e=0){return ue((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function nb(n,e){return De(n).pipe(Kr(e),Wr(e))}function rb(n,e){return De(n).pipe(Kr(e),Wr(e))}function ib(n,e){return new ee(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function ob(n,e){return new ee(t=>{let r;return jt(t,e,()=>{r=n[hd](),jt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ie(r?.return)&&r.return()})}function md(n,e){if(!n)throw new Error("Iterable cannot be null");return new ee(t=>{jt(t,e,()=>{let r=n[Symbol.asyncIterator]();jt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function sb(n,e){return md(pd(n),e)}function ab(n,e){if(n!=null){if(ud(n))return nb(n,e);if(ad(n))return ib(n,e);if(cd(n))return rb(n,e);if(ld(n))return md(n,e);if(fd(n))return ob(n,e);if(gd(n))return sb(n,e)}throw dd(n)}function Ne(n,e){return e?ab(n,e):De(n)}function Q(...n){let e=Mn(n);return Ne(n,e)}function _s(n,e){let t=ie(n)?n:()=>n,r=i=>i.error(t());return new ee(e?i=>e.schedule(r,0,i):r)}function am(n){return!!n&&(n instanceof ee||ie(n.lift)&&ie(n.subscribe))}var ar=ls(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function cb(n){return n instanceof Date&&!isNaN(n)}function se(n,e){return ue((t,r)=>{let i=0;t.subscribe(oe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:e1}=Array;function t1(n,e){return e1(e)?n(...e):n(e)}function yd(n){return se(e=>t1(n,e))}var{isArray:n1}=Array,{getPrototypeOf:r1,prototype:i1,keys:o1}=Object;function vd(n){if(n.length===1){let e=n[0];if(n1(e))return{args:e,keys:null};if(s1(e)){let t=o1(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function s1(n){return n&&typeof n=="object"&&r1(n)===i1}function _d(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ed(...n){let e=Mn(n),t=sd(n),{args:r,keys:i}=vd(n);if(r.length===0)return Ne([],e);let o=new ee(a1(r,e,i?s=>_d(i,s):At));return t?o.pipe(yd(t)):o}function a1(n,e,t=At){return r=>{ub(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)ub(e,()=>{let l=Ne(n[c],e),h=!1;l.subscribe(oe(r,p=>{o[c]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function ub(n,e,t){n?jt(t,n,e):e()}function lb(n,e,t,r,i,o,s,a){let c=[],l=0,h=0,p=!1,g=()=>{p&&!c.length&&!l&&e.complete()},m=N=>l<r?w(N):c.push(N),w=N=>{o&&e.next(N),l++;let S=!1;De(t(N,h++)).subscribe(oe(e,M=>{i?.(M),o?m(M):e.next(M)},()=>{S=!0},void 0,()=>{if(S)try{for(l--;c.length&&l<r;){let M=c.shift();s?jt(e,s,()=>w(M)):w(M)}g()}catch(M){e.error(M)}}))};return n.subscribe(oe(e,m,()=>{p=!0,g()})),()=>{a?.()}}function et(n,e,t=1/0){return ie(e)?et((r,i)=>se((o,s)=>e(r,o,i,s))(De(n(r,i))),t):(typeof e=="number"&&(t=e),ue((r,i)=>lb(r,i,n,t)))}function Id(n=1/0){return et(At,n)}function db(){return Id(1)}function Es(...n){return db()(Ne(n,Mn(n)))}function mc(n){return new ee(e=>{De(n()).subscribe(e)})}function cm(...n){let e=sd(n),{args:t,keys:r}=vd(n),i=new ee(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let h=0;h<s;h++){let p=!1;De(t[h]).subscribe(oe(o,g=>{p||(p=!0,l--),a[h]=g},()=>c--,void 0,()=>{(!c||!p)&&(l||o.next(r?_d(r,a):a),o.complete())}))}});return e?i.pipe(yd(e)):i}function um(n=0,e,t=rm){let r=-1;return e!=null&&(od(e)?t=e:r=e),new ee(i=>{let o=cb(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function c1(...n){let e=Mn(n),t=YD(n,1/0),r=n;return r.length?r.length===1?De(r[0]):Id(t)(Ne(r,e)):Et}function dt(n,e){return ue((t,r)=>{let i=0;t.subscribe(oe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function hb(n){return ue((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(oe(t,l=>{r=!0,i=l,o||De(n(l)).subscribe(o=oe(t,a,c))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function u1(n,e=Gr){return hb(()=>um(n,e))}function Qr(n){return ue((e,t)=>{let r=null,i=!1,o;r=e.subscribe(oe(t,void 0,void 0,s=>{o=De(n(s,Qr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function fb(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(oe(s,h=>{let p=l++;c=a?n(c,h,p):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Yr(n,e){return ie(e)?et(n,e,1):et(n,1)}function l1(n,e=Gr){return ue((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+n,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}t.subscribe(oe(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Zr(n){return ue((e,t)=>{let r=!1;e.subscribe(oe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function cr(n){return n<=0?()=>Et:ue((e,t)=>{let r=0;e.subscribe(oe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function pb(n,e=At){return n=n??d1,ue((t,r)=>{let i,o=!0;t.subscribe(oe(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function d1(n,e){return n===e}function wd(n=h1){return ue((e,t)=>{let r=!1;e.subscribe(oe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function h1(){return new ar}function Qi(n){return ue((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ur(n,e){let t=arguments.length>=2;return r=>r.pipe(n?dt((i,o)=>n(i,o,r)):At,cr(1),t?Zr(e):wd(()=>new ar))}function Is(n){return n<=0?()=>Et:ue((e,t)=>{let r=[];e.subscribe(oe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function lm(n,e){let t=arguments.length>=2;return r=>r.pipe(n?dt((i,o)=>n(i,o,r)):At,Is(1),t?Zr(e):wd(()=>new ar))}function Td(n,e){return ue(fb(n,e,arguments.length>=2,!0))}function gb(n={}){let{connector:e=()=>new Re,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,l=0,h=!1,p=!1,g=()=>{a?.unsubscribe(),a=void 0},m=()=>{g(),s=c=void 0,h=p=!1},w=()=>{let N=s;m(),N?.unsubscribe()};return ue((N,S)=>{l++,!p&&!h&&g();let M=c=c??e();S.add(()=>{l--,l===0&&!p&&!h&&(a=dm(w,i))}),M.subscribe(S),!s&&l>0&&(s=new sr({next:V=>M.next(V),error:V=>{p=!0,g(),a=dm(m,t,V),M.error(V)},complete:()=>{h=!0,g(),a=dm(m,r),M.complete()}}),De(N).subscribe(s))})(o)}}function dm(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new sr({next:()=>{r.unsubscribe(),n()}});return De(e(...t)).subscribe(r)}function f1(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,gb({connector:()=>new pc(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function p1(n){return dt((e,t)=>n<=t)}function Dd(...n){let e=Mn(n);return ue((t,r)=>{(e?Es(n,t,e):Es(n,t)).subscribe(r)})}function It(n,e){return ue((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(oe(r,c=>{i?.unsubscribe();let l=0,h=o++;De(n(c,h)).subscribe(i=oe(r,p=>r.next(e?e(c,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function bd(n){return ue((e,t)=>{De(n).subscribe(oe(t,()=>t.complete(),hc)),!t.closed&&e.subscribe(t)})}function rt(n,e,t){let r=ie(n)||e||t?{next:n,error:e,complete:t}:n;return r?ue((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(oe(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):At}function mb(n){let e=J(null);try{return n()}finally{J(e)}}var yb=te(O({},$i),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function vb(n){if(n.dirty=!1,n.version>0&&!as(n))return;n.version++;let e=Hi(n);try{n.cleanup(),n.fn()}finally{ss(n,e)}}var Zi=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Tm=new Zi("20.3.15");var Rd="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",F=class extends Error{code;constructor(e,t){super(ei(e,t)),this.code=e}};function g1(n){return`NG0${Math.abs(n)}`}function ei(n,e){return`${g1(n)}${e?": "+e:""}`}var hr=globalThis;function _e(n){for(let e in n)if(n[e]===_e)return e;throw Error("")}function Ib(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function dr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(dr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Nd(n,e){return n?e?`${n} ${e}`:n:e||""}var m1=_e({__forward_ref__:_e});function fr(n){return n.__forward_ref__=fr,n.toString=function(){return dr(this())},n}function ht(n){return Dm(n)?n():n}function Dm(n){return typeof n=="function"&&n.hasOwnProperty(m1)&&n.__forward_ref__===fr}function B(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function tn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ic(n){return y1(n,Md)}function bm(n){return Ic(n)!==null}function y1(n,e){return n.hasOwnProperty(e)&&n[e]||null}function v1(n){let e=n?.[Md]??null;return e||null}function fm(n){return n&&n.hasOwnProperty(Sd)?n[Sd]:null}var Md=_e({\u0275prov:_e}),Sd=_e({\u0275inj:_e}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=B({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Cm(n){return n&&!!n.\u0275providers}var Sm=_e({\u0275cmp:_e}),Am=_e({\u0275dir:_e}),Rm=_e({\u0275pipe:_e}),Nm=_e({\u0275mod:_e}),vc=_e({\u0275fac:_e}),to=_e({__NG_ELEMENT_ID__:_e}),_b=_e({__NG_ENV_ID__:_e});function no(n){return typeof n=="string"?n:n==null?"":String(n)}function wb(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():no(n)}var Tb=_e({ngErrorCode:_e}),_1=_e({ngErrorMessage:_e}),E1=_e({ngTokenPath:_e});function Mm(n,e){return Db("",-200,e)}function Pd(n,e){throw new F(-201,!1)}function Db(n,e,t){let r=new F(e,n);return r[Tb]=e,r[_1]=n,t&&(r[E1]=t),r}function I1(n){return n[Tb]}var pm;function bb(){return pm}function Rt(n){let e=pm;return pm=n,e}function Pm(n,e,t){let r=Ic(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Pd(n,"Injector")}var w1={},Yi=w1,gm="__NG_DI_FLAG__",mm=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Ji(t)||0;try{return this.injector.get(e,r&8?null:Yi,r)}catch(i){if(is(i))return i;throw i}}};function T1(n,e=0){let t=jl();if(t===void 0)throw new F(-203,!1);if(t===null)return Pm(n,void 0,e);{let r=D1(e),i=t.retrieve(n,r);if(is(i)){if(r.optional)return null;throw i}return i}}function z(n,e=0){return(bb()||T1)(ht(n),e)}function P(n,e){return z(n,Ji(e))}function Ji(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function D1(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function ym(n){let e=[];for(let t=0;t<n.length;t++){let r=ht(n[t]);if(Array.isArray(r)){if(r.length===0)throw new F(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=b1(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(z(i,o))}else e.push(z(r))}return e}function Cb(n,e){return n[gm]=e,n.prototype[gm]=e,n}function b1(n){return n[gm]}function Jr(n,e){let t=n.hasOwnProperty(vc);return t?n[vc]:null}function Sb(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function Ab(n){return n.flat(Number.POSITIVE_INFINITY)}function xd(n,e){n.forEach(t=>Array.isArray(t)?xd(t,e):e(t))}function xm(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function wc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Rb(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function Nb(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function kd(n,e,t){let r=Ts(n,e);return r>=0?n[r|1]=t:(r=~r,Nb(n,r,e,t)),r}function Od(n,e){let t=Ts(n,e);if(t>=0)return n[t|1]}function Ts(n,e){return C1(n,e,1)}function C1(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var ti={},Nt=[],pr=new j(""),km=new j("",-1),Om=new j(""),_c=class{get(e,t=Yi){if(t===Yi){let i=Db("",-201);throw i.name="\u0275NotFound",i}return t}};function Fm(n){return n[Nm]||null}function gr(n){return n[Sm]||null}function Lm(n){return n[Am]||null}function Mb(n){return n[Rm]||null}function Mt(n){return{\u0275providers:n}}function Pb(n){return Mt([{provide:pr,multi:!0,useValue:n}])}function xb(...n){return{\u0275providers:Vm(!0,n),\u0275fromNgModule:!0}}function Vm(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return xd(e,s=>{let a=s;Ad(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&kb(i,o),t}function kb(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];jm(i,o=>{e(o,r)})}}function Ad(n,e,t,r){if(n=ht(n),!n)return!1;let i=null,o=fm(n),s=!o&&gr(n);if(!o&&!s){let c=n.ngModule;if(o=fm(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Ad(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{xd(o.imports,h=>{Ad(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&kb(l,e)}if(!a){let l=Jr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Nt},i),e({provide:Om,useValue:i,multi:!0},i),e({provide:pr,useValue:()=>z(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;jm(c,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function jm(n,e){for(let t of n)Cm(t)&&(t=t.\u0275providers),Array.isArray(t)?jm(t,e):e(t)}var S1=_e({provide:String,useValue:_e});function Ob(n){return n!==null&&typeof n=="object"&&S1 in n}function A1(n){return!!(n&&n.useExisting)}function R1(n){return!!(n&&n.useFactory)}function Xi(n){return typeof n=="function"}function Fb(n){return!!n.useClass}var Tc=new j(""),Cd={},Eb={},hm;function Ds(){return hm===void 0&&(hm=new _c),hm}var Fe=class{},eo=class extends Fe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,_m(e,s=>this.processProvider(s)),this.records.set(km,ws(void 0,this)),i.has("environment")&&this.records.set(Fe,ws(void 0,this));let o=this.records.get(Tc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Om,Nt,{self:!0}))}retrieve(e,t){let r=Ji(t)||0;try{return this.get(e,Yi,r)}catch(i){if(is(i))return i;throw i}}destroy(){yc(this),this._destroyed=!0;let e=J(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(e)}}onDestroy(e){return yc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){yc(this);let t=Nn(this),r=Rt(void 0),i;try{return e()}finally{Nn(t),Rt(r)}}get(e,t=Yi,r){if(yc(this),e.hasOwnProperty(_b))return e[_b](this);let i=Ji(r),o,s=Nn(this),a=Rt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=k1(e)&&Ic(e);h&&this.injectableDefInScope(h)?l=ws(vm(e),Cd):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let c=i&2?Ds():this.parent;return t=i&8&&t===Yi?null:t,c.get(e,t)}catch(c){let l=I1(c);throw l===-200||l===-201?new F(l,null):c}finally{Rt(a),Nn(s)}}resolveInjectorInitializers(){let e=J(null),t=Nn(this),r=Rt(void 0),i;try{let o=this.get(pr,Nt,{self:!0});for(let s of o)s()}finally{Nn(t),Rt(r),J(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(dr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ht(e);let t=Xi(e)?e:ht(e&&e.provide),r=M1(e);if(!Xi(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ws(void 0,Cd,!0),i.factory=()=>ym(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=J(null);try{if(t.value===Eb)throw Mm(dr(e));return t.value===Cd&&(t.value=Eb,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&x1(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{J(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=ht(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function vm(n){let e=Ic(n),t=e!==null?e.factory:Jr(n);if(t!==null)return t;if(n instanceof j)throw new F(204,!1);if(n instanceof Function)return N1(n);throw new F(204,!1)}function N1(n){if(n.length>0)throw new F(204,!1);let t=v1(n);return t!==null?()=>t.factory(n):()=>new n}function M1(n){if(Ob(n))return ws(void 0,n.useValue);{let e=Um(n);return ws(e,Cd)}}function Um(n,e,t){let r;if(Xi(n)){let i=ht(n);return Jr(i)||vm(i)}else if(Ob(n))r=()=>ht(n.useValue);else if(R1(n))r=()=>n.useFactory(...ym(n.deps||[]));else if(A1(n))r=(i,o)=>z(ht(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=ht(n&&(n.useClass||n.provide));if(P1(n))r=()=>new i(...ym(n.deps));else return Jr(i)||vm(i)}return r}function yc(n){if(n.destroyed)throw new F(205,!1)}function ws(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function P1(n){return!!n.deps}function x1(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function k1(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function _m(n,e){for(let t of n)Array.isArray(t)?_m(t,e):t&&Cm(t)?_m(t.\u0275providers,e):e(t)}function $e(n,e){let t;n instanceof eo?(yc(n),t=n):t=new mm(n);let r,i=Nn(t),o=Rt(void 0);try{return e()}finally{Nn(i),Rt(o)}}function Lb(){return bb()!==void 0||jl()!=null}var gn=0,q=1,X=2,tt=3,nn=4,Pt=5,ro=6,bs=7,He=8,mr=9,Pn=10,Ce=11,Cs=12,Bm=13,io=14,xt=15,ni=16,oo=17,xn=18,Dc=19,$m=20,lr=21,Fd=22,yr=23,qt=24,so=25,ao=26,xe=27,Vb=1,Hm=6,ri=7,bc=8,co=9,Ve=10;function kn(n){return Array.isArray(n)&&typeof n[Vb]=="object"}function mn(n){return Array.isArray(n)&&n[Vb]===!0}function zm(n){return(n.flags&4)!==0}function vr(n){return n.componentOffset>-1}function Cc(n){return(n.flags&1)===1}function On(n){return!!n.template}function Ss(n){return(n[X]&512)!==0}function uo(n){return(n[X]&256)===256}var qm="svg",jb="math";function rn(n){for(;Array.isArray(n);)n=n[gn];return n}function Gm(n,e){return rn(e[n])}function on(n,e){return rn(e[n.index])}function Sc(n,e){return n.data[e]}function Ld(n,e){return n[e]}function Wm(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function sn(n,e){let t=e[n];return kn(t)?t:t[gn]}function Ub(n){return(n[X]&4)===4}function Vd(n){return(n[X]&128)===128}function Bb(n){return mn(n[tt])}function yn(n,e){return e==null?null:n[e]}function Km(n){n[oo]=0}function Qm(n){n[X]&1024||(n[X]|=1024,Vd(n)&&ii(n))}function $b(n,e){for(;n>0;)e=e[io],n--;return e}function Ac(n){return!!(n[X]&9216||n[qt]?.dirty)}function jd(n){n[Pn].changeDetectionScheduler?.notify(8),n[X]&64&&(n[X]|=1024),Ac(n)&&ii(n)}function ii(n){n[Pn].changeDetectionScheduler?.notify(0);let e=Xr(n);for(;e!==null&&!(e[X]&8192||(e[X]|=8192,!Vd(e)));)e=Xr(e)}function Ym(n,e){if(uo(n))throw new F(911,!1);n[lr]===null&&(n[lr]=[]),n[lr].push(e)}function Hb(n,e){if(n[lr]===null)return;let t=n[lr].indexOf(e);t!==-1&&n[lr].splice(t,1)}function Xr(n){let e=n[tt];return mn(e)?e[tt]:e}function Zm(n){return n[bs]??=[]}function Jm(n){return n.cleanup??=[]}function zb(n,e,t,r){let i=Zm(e);i.push(t),n.firstCreatePass&&Jm(n).push(r,i.length-1)}var le={lFrame:aC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Em=!1;function qb(){return le.lFrame.elementDepthCount}function Gb(){le.lFrame.elementDepthCount++}function Wb(){le.lFrame.elementDepthCount--}function Xm(){return le.bindingsEnabled}function ey(){return le.skipHydrationRootTNode!==null}function Kb(n){return le.skipHydrationRootTNode===n}function Qb(){le.skipHydrationRootTNode=null}function Y(){return le.lFrame.lView}function Me(){return le.lFrame.tView}function Yb(n){return le.lFrame.contextLView=n,n[He]}function Zb(n){return le.lFrame.contextLView=null,n}function ft(){let n=ty();for(;n!==null&&n.type===64;)n=n.parent;return n}function ty(){return le.lFrame.currentTNode}function Jb(){let n=le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function As(n,e){let t=le.lFrame;t.currentTNode=n,t.isParent=e}function ny(){return le.lFrame.isParent}function ry(){le.lFrame.isParent=!1}function Xb(){return le.lFrame.contextLView}function iy(){return Em}function Rs(n){let e=Em;return Em=n,e}function Ud(){let n=le.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function eC(){return le.lFrame.bindingIndex}function tC(n){return le.lFrame.bindingIndex=n}function oi(){return le.lFrame.bindingIndex++}function Bd(n){let e=le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function nC(){return le.lFrame.inI18n}function rC(n,e){let t=le.lFrame;t.bindingIndex=t.bindingRootIndex=n,$d(e)}function iC(){return le.lFrame.currentDirectiveIndex}function $d(n){le.lFrame.currentDirectiveIndex=n}function oC(n){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function oy(){return le.lFrame.currentQueryIndex}function Hd(n){le.lFrame.currentQueryIndex=n}function O1(n){let e=n[q];return e.type===2?e.declTNode:e.type===1?n[Pt]:null}function sy(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=O1(o),i===null||(o=o[io],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=le.lFrame=sC();return r.currentTNode=e,r.lView=n,!0}function zd(n){let e=sC(),t=n[q];le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function sC(){let n=le.lFrame,e=n===null?null:n.child;return e===null?aC(n):e}function aC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function cC(){let n=le.lFrame;return le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var ay=cC;function qd(){let n=cC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function uC(n){return(le.lFrame.contextLView=$b(n,le.lFrame.contextLView))[He]}function Fn(){return le.lFrame.selectedIndex}function si(n){le.lFrame.selectedIndex=n}function Rc(){let n=le.lFrame;return Sc(n.tView,n.selectedIndex)}function lC(){le.lFrame.currentNamespace=qm}function dC(){F1()}function F1(){le.lFrame.currentNamespace=null}function hC(){return le.lFrame.currentNamespace}var fC=!0;function Gd(){return fC}function Wd(n){fC=n}function Im(n,e=null,t=null,r){let i=cy(n,e,t,r);return i.resolveInjectorInitializers(),i}function cy(n,e=null,t=null,r,i=new Set){let o=[t||Nt,xb(n)];return r=r||(typeof n=="object"?void 0:dr(n)),new eo(o,e||Ds(),r||null,i)}var Le=class n{static THROW_IF_NOT_FOUND=Yi;static NULL=new _c;static create(e,t){if(Array.isArray(e))return Im({name:""},t,e,"");{let r=e.name??"";return Im({name:r},e.parent,e.providers,r)}}static \u0275prov=B({token:n,providedIn:"any",factory:()=>z(km)});static __NG_ELEMENT_ID__=-1},Ge=new j(""),Gt=(()=>{class n{static __NG_ELEMENT_ID__=L1;static __NG_ENV_ID__=t=>t}return n})(),Ec=class extends Gt{_lView;constructor(e){super(),this._lView=e}get destroyed(){return uo(this._lView)}onDestroy(e){let t=this._lView;return Ym(t,e),()=>Hb(t,e)}};function L1(){return new Ec(Y())}var en=class{_console=console;handleError(e){this._console.error("ERROR",e)}},kt=new j("",{providedIn:"root",factory:()=>{let n=P(Fe),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(en),e.handleError(t))}}}),pC={provide:pr,useValue:()=>void P(en),multi:!0},V1=new j("",{providedIn:"root",factory:()=>{let n=P(Ge).defaultView;if(!n)return;let e=P(kt),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),P(Gt).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function j1(){return Mt([Pb(()=>void P(V1))])}function uy(n){return typeof n=="function"&&n[_t]!==void 0}function Wt(n,e){let[t,r,i]=Wg(n,e?.equal),o=t,s=o[_t];return o.set=r,o.update=i,o.asReadonly=ly.bind(o),o}function ly(){let n=this[_t];if(n.readonlyFn===void 0){let e=()=>this();e[_t]=n,n.readonlyFn=e}return n.readonlyFn}function dy(n){return uy(n)&&typeof n.set=="function"}var Ns=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=U1}return n})();function U1(){return new Ns(Y(),ft())}var pn=class{},Nc=new j("",{providedIn:"root",factory:()=>!1});var hy=new j(""),fy=new j(""),Ln=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Xe(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ee(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),_r=(()=>{class n{internalPendingTasks=P(Ln);scheduler=P(pn);errorHandler=P(kt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})();function lo(...n){}var Mc=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>new wm})}return n})(),wm=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Ls(n){return{toString:n}.toString()}var Kd="__parameters__";function G1(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function W1(n,e,t){return Ls(()=>{let r=G1(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,h){let p=c.hasOwnProperty(Kd)?c[Kd]:Object.defineProperty(c,Kd,{value:[]})[Kd];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Kt=Cb(W1("Optional"),8);function K1(n){return typeof n=="function"}var nh=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function GC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Un=(()=>{let n=()=>WC;return n.ngInherit=!0,n})();function WC(n){return n.type.prototype.ngOnChanges&&(n.setInput=Y1),Q1}function Q1(){let n=QC(this),e=n?.current;if(e){let t=n.previous;if(t===ti)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Y1(n,e,t,r,i){let o=this.declaredInputs[r],s=QC(n)||Z1(n,{previous:ti,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new nh(l&&l.currentValue,t,c===ti),GC(n,e,i,t)}var KC="__ngSimpleChanges__";function QC(n){return n[KC]||null}function Z1(n,e){return n[KC]=e}var gC=[];var Ie=function(n,e=null,t){for(let r=0;r<gC.length;r++){let i=gC[r];i(n,e,t)}};function J1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=WC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function YC(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Jd(n,e,t){ZC(n,e,3,t)}function Xd(n,e,t,r){(n[X]&3)===t&&ZC(n,e,t,r)}function py(n,e){let t=n[X];(t&3)===e&&(t&=16383,t+=1,n[X]=t)}function ZC(n,e,t,r){let i=r!==void 0?n[oo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[oo]+=65536),(a<o||o==-1)&&(X1(n,t,e,c),n[oo]=(n[oo]&4294901760)+c+2),c++}function mC(n,e){Ie(4,n,e);let t=J(null);try{e.call(n)}finally{J(t),Ie(5,n,e)}}function X1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[X]>>14<n[oo]>>16&&(n[X]&3)===e&&(n[X]+=16384,mC(a,o)):mC(a,o)}var Ps=-1,fo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function eF(n){return(n.flags&8)!==0}function tF(n){return(n.flags&16)!==0}function nF(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];rF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function JC(n){return n===3||n===4||n===6}function rF(n){return n.charCodeAt(0)===64}function kc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?yC(n,t,i,null,e[++r]):yC(n,t,i,null,null))}}return n}function yC(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function XC(n){return n!==Ps}function rh(n){return n&32767}function iF(n){return n>>16}function ih(n,e){let t=iF(n),r=e;for(;t>0;)r=r[io],t--;return r}var Cy=!0;function oh(n){let e=Cy;return Cy=n,e}var oF=256,eS=oF-1,tS=5,sF=0,Vn={};function aF(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(to)&&(r=t[to]),r==null&&(r=t[to]=sF++);let i=r&eS,o=1<<i;e.data[n+(i>>tS)]|=o}function sh(n,e){let t=nS(n,e);if(t!==-1)return t;let r=e[q];r.firstCreatePass&&(n.injectorIndex=e.length,gy(r.data,n),gy(e,null),gy(r.blueprint,null));let i=nv(n,e),o=n.injectorIndex;if(XC(i)){let s=rh(i),a=ih(i,e),c=a[q].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function gy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function nS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function nv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=aS(i),r===null)return Ps;if(t++,i=i[io],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ps}function Sy(n,e,t){aF(n,e,t)}function cF(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(JC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function rS(n,e,t){if(t&8||n!==void 0)return n;Pd(e,"NodeInjector")}function iS(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[mr],o=Rt(void 0);try{return i?i.get(e,r,t&8):Pm(e,r,t&8)}finally{Rt(o)}}return rS(r,e,t)}function oS(n,e,t,r=0,i){if(n!==null){if(e[X]&2048&&!(r&2)){let s=hF(n,e,t,r,Vn);if(s!==Vn)return s}let o=sS(n,e,t,r,Vn);if(o!==Vn)return o}return iS(e,t,r,i)}function sS(n,e,t,r,i){let o=lF(t);if(typeof o=="function"){if(!sy(e,n,r))return r&1?rS(i,t,r):iS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Pd(t);else return s}finally{ay()}}else if(typeof o=="number"){let s=null,a=nS(n,e),c=Ps,l=r&1?e[xt][Pt]:null;for((a===-1||r&4)&&(c=a===-1?nv(n,e):e[a+8],c===Ps||!_C(r,!1)?a=-1:(s=e[q],a=rh(c),e=ih(c,e)));a!==-1;){let h=e[q];if(vC(o,a,h.data)){let p=uF(a,e,t,s,r,l);if(p!==Vn)return p}c=e[a+8],c!==Ps&&_C(r,e[q].data[a+8]===l)&&vC(o,a,e)?(s=h,a=rh(c),e=ih(c,e)):a=-1}}return i}function uF(n,e,t,r,i,o){let s=e[q],a=s.data[n+8],c=r==null?vr(a)&&Cy:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=eh(a,s,t,c,l);return h!==null?Oc(e,s,h,a,i):Vn}function eh(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let m=p;m<g;m++){let w=s[m];if(m<c&&t===w||m>=c&&w.type===t)return m}if(i){let m=s[c];if(m&&On(m)&&m.type===t)return c}return null}function Oc(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof fo){let a=o;if(a.resolving){let m=wb(s[t]);throw Mm(m)}let c=oh(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?Rt(a.injectImpl):null,g=sy(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&J1(t,s[t],e)}finally{p!==null&&Rt(p),oh(c),a.resolving=!1,ay()}}return o}function lF(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(to)?n[to]:void 0;return typeof e=="number"?e>=0?e&eS:dF:e}function vC(n,e,t){let r=1<<n;return!!(t[e+(n>>tS)]&r)}function _C(n,e){return!(n&2)&&!(n&1&&e)}var ho=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return oS(this._tNode,this._lView,e,Ji(r),t)}};function dF(){return new ho(ft(),Y())}function Vs(n){return Ls(()=>{let e=n.prototype.constructor,t=e[vc]||Ay(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[vc]||Ay(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ay(n){return Dm(n)?()=>{let e=Ay(ht(n));return e&&e()}:Jr(n)}function hF(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[X]&2048&&!Ss(s);){let a=sS(o,s,t,r|2,Vn);if(a!==Vn)return a;let c=o.parent;if(!c){let l=s[$m];if(l){let h=l.get(t,Vn,r);if(h!==Vn)return h}c=aS(s),s=s[io]}o=c}return i}function aS(n){let e=n[q],t=e.type;return t===2?e.declTNode:t===1?n[Pt]:null}function Uc(n){return cF(ft(),n)}function fF(){return js(ft(),Y())}function js(n,e){return new En(on(n,e))}var En=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=fF}return n})();function pF(n){return n instanceof En?n.nativeElement:n}function gF(){return this._results[Symbol.iterator]()}var ah=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Re}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=Ab(e);(this._changesDetected=!Sb(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=gF};function cS(n){return(n.flags&128)===128}var rv=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(rv||{}),uS=new Map,mF=0;function yF(){return mF++}function vF(n){uS.set(n[Dc],n)}function Ry(n){uS.delete(n[Dc])}var EC="__ngContext__";function xs(n,e){kn(e)?(n[EC]=e[Dc],vF(e)):n[EC]=e}function lS(n){return hS(n[Cs])}function dS(n){return hS(n[nn])}function hS(n){for(;n!==null&&!mn(n);)n=n[nn];return n}var Ny;function iv(n){Ny=n}function fS(){if(Ny!==void 0)return Ny;if(typeof document<"u")return document;throw new F(210,!1)}var Th=new j("",{providedIn:"root",factory:()=>_F}),_F="ng",Dh=new j(""),_o=new j("",{providedIn:"platform",factory:()=>"unknown"});var EF=new j(""),bh=new j("",{providedIn:"root",factory:()=>fS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var IF="h",wF="b";var pS="r";var gS="di";var mS=!1,yS=new j("",{providedIn:"root",factory:()=>mS});var TF=(n,e,t,r)=>{};function DF(n,e,t,r){TF(n,e,t,r)}function Ch(n){return(n.flags&32)===32}var bF=()=>null;function vS(n,e,t=!1){return bF(n,e,t)}function _S(n,e){let t=n.contentQueries;if(t!==null){let r=J(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Hd(o),a.contentQueries(2,e[s],s)}}}finally{J(r)}}}function My(n,e,t){Hd(0);let r=J(null);try{e(n,t)}finally{J(r)}}function ES(n,e,t){if(zm(e)){let r=J(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{J(r)}}}var Er=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Er||{});var Qd;function CF(){if(Qd===void 0&&(Qd=null,hr.trustedTypes))try{Qd=hr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Qd}function IC(n){return CF()?.createScriptURL(n)||n}var ch=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Rd})`}};function Bc(n){return n instanceof ch?n.changingThisBreaksApplicationSecurity:n}function ov(n,e){let t=IS(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Rd})`)}return t===e}function IS(n){return n instanceof ch&&n.getTypeName()||null}var SF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wS(n){return n=String(n),n.match(SF)?n:"unsafe:"+n}function AF(n,e){return n.createText(e)}function RF(n,e,t){n.setValue(e,t)}function TS(n,e,t){return n.createElement(e,t)}function uh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function DS(n,e,t){n.appendChild(e,t)}function wC(n,e,t,r,i){r!==null?uh(n,e,t,r,i):DS(n,e,t)}function bS(n,e,t,r){n.removeChild(null,e,t,r)}function NF(n,e,t){n.setAttribute(e,"style",t)}function MF(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function CS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&nF(n,e,r),i!==null&&MF(n,e,i),o!==null&&NF(n,e,o)}var Sh=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Sh||{});function SS(n){let e=RS();return e?e.sanitize(Sh.URL,n)||"":ov(n,"URL")?Bc(n):wS(no(n))}function AS(n){let e=RS();if(e)return IC(e.sanitize(Sh.RESOURCE_URL,n)||"");if(ov(n,"ResourceURL"))return IC(Bc(n));throw new F(904,!1)}function PF(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?AS:SS}function sv(n,e,t){return PF(e,t)(n)}function RS(){let n=Y();return n&&n[Pn].sanitizer}function NS(n){return n instanceof Function?n():n}function xF(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var MS="ng-template";function kF(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&xF(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(av(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function av(n){return n.type===4&&n.value!==MS}function OF(n,e,t){let r=n.type===4&&!t?MS:n.value;return e===r}function FF(n,e,t){let r=4,i=n.attrs,o=i!==null?jF(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!vn(r)&&!vn(c))return!1;if(s&&vn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!OF(n,c,t)||c===""&&e.length===1){if(vn(r))return!1;s=!0}}else if(r&8){if(i===null||!kF(n,i,c,t)){if(vn(r))return!1;s=!0}}else{let l=e[++a],h=LF(c,i,av(n),t);if(h===-1){if(vn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(vn(r))return!1;s=!0}}}}return vn(r)||s}function vn(n){return(n&1)===0}function LF(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return UF(e,n)}function PS(n,e,t=!1){for(let r=0;r<e.length;r++)if(FF(n,e[r],t))return!0;return!1}function VF(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function jF(n){for(let e=0;e<n.length;e++){let t=n[e];if(JC(t))return e}return n.length}function UF(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function BF(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function TC(n,e){return n?":not("+e.trim()+")":e}function $F(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!vn(s)&&(e+=TC(o,i),i=""),r=s,o=o||!vn(r);t++}return i!==""&&(e+=TC(o,i)),e}function HF(n){return n.map($F).join(",")}function zF(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!vn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Ot={};function cv(n,e,t,r,i,o,s,a,c,l,h){let p=xe+r,g=p+i,m=qF(p,g),w=typeof l=="function"?l():l;return m[q]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:h}}function qF(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ot);return t}function GF(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=cv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function uv(n,e,t,r,i,o,s,a,c,l,h){let p=e.blueprint.slice();return p[gn]=i,p[X]=r|4|128|8|64|1024,(l!==null||n&&n[X]&2048)&&(p[X]|=2048),Km(p),p[tt]=p[io]=n,p[He]=t,p[Pn]=s||n&&n[Pn],p[Ce]=a||n&&n[Ce],p[mr]=c||n&&n[mr]||null,p[Pt]=o,p[Dc]=yF(),p[ro]=h,p[$m]=l,p[xt]=e.type==2?n[xt]:p,p}function WF(n,e,t){let r=on(e,n),i=GF(t),o=n[Pn].rendererFactory,s=lv(n,uv(n,i,null,xS(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function xS(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function kS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function lv(n,e){return n[Cs]?n[Bm][nn]=e:n[Cs]=e,n[Bm]=e,e}function KF(n=1){OS(Me(),Y(),Fn()+n,!1)}function OS(n,e,t,r){if(!r)if((e[X]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Jd(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Xd(e,o,0,t)}si(t)}var Ah=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Ah||{});function Py(n,e,t,r){let i=J(null);try{let[o,s,a]=n.inputs[t],c=null;(s&Ah.SignalBased)!==0&&(c=e[o][_t]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):GC(e,c,o,r)}finally{J(i)}}var jn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(jn||{}),QF;function dv(n,e){return QF(n,e)}var po=new Set,Rh=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Rh||{}),Eo=new j(""),DC=new Set;function Ir(n){DC.has(n)||(DC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var FS=!1,xy=class extends Re{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Lb()&&(this.destroyRef=P(Gt,{optional:!0})??void 0,this.pendingTasks=P(Ln,{optional:!0})??void 0)}emit(e){let t=J(null);try{super.next(e)}finally{J(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Oe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ze=xy;function LS(n){let e,t;function r(){n=lo;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function bC(n){return queueMicrotask(()=>n()),()=>{n=lo}}var hv="isAngularZone",lh=hv+"_ID",YF=0,ye=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ze(!1);onMicrotaskEmpty=new ze(!1);onStable=new ze(!1);onError=new ze(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=FS}=e;if(typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,XF(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(hv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new F(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,ZF,lo,lo);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},ZF={};function fv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function JF(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){LS(()=>{n.callbackScheduled=!1,ky(n),n.isCheckStableRunning=!0,fv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),ky(n)}function XF(n){let e=()=>{JF(n)},t=YF++;n._inner=n._inner.fork({name:"angular",properties:{[hv]:!0,[lh]:t,[lh+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(eL(c))return r.invokeTask(o,s,a,c);try{return CC(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),SC(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return CC(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!tL(c)&&e(),SC(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,ky(n),fv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function ky(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function CC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function SC(n){n._nesting--,fv(n)}var dh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ze;onMicrotaskEmpty=new ze;onStable=new ze;onError=new ze;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function eL(n){return VS(n,"__ignore_ng_zone__")}function tL(n){return VS(n,"__scheduler_tick__")}function VS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var pv=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),jS=[0,1,2,3],US=(()=>{class n{ngZone=P(ye);scheduler=P(pn);errorHandler=P(en,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){P(Eo,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ie(16),this.executing=!0;for(let r of jS)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ie(17)}register(t){let{view:r}=t;r!==void 0?((r[so]??=[]).push(t),ii(r),r[X]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Rh.AFTER_NEXT_RENDER,t):t()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),hh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[so];e&&(this.view[so]=e.filter(t=>t!==this))}};function gv(n,e){let t=e?.injector??P(Le);return Ir("NgAfterNextRender"),rL(n,t,e,!0)}function nL(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function rL(n,e,t,r){let i=e.get(pv);i.impl??=e.get(US);let o=e.get(Eo,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Gt):null,a=e.get(Ns,null,{optional:!0}),c=new hh(i.impl,nL(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var BS=new j("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function $S(n,e,t){let r=n.get(BS);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function iL(n,e){let t=n.get(BS);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)t.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function oL(n,e){for(let[t,r]of e)$S(n,r.animateFns)}function AC(n,e,t,r){let i=n?.[ao]?.enter;e!==null&&i&&i.has(t.index)&&oL(r,i)}function Ms(n,e,t,r,i,o,s,a){if(i!=null){let c,l=!1;mn(i)?c=i:kn(i)&&(l=!0,i=i[gn]);let h=rn(i);n===0&&r!==null?(AC(a,r,o,t),s==null?DS(e,r,h):uh(e,r,h,s||null,!0)):n===1&&r!==null?(AC(a,r,o,t),uh(e,r,h,s||null,!0)):n===2?RC(a,o,t,p=>{bS(e,h,l,p)}):n===3&&RC(a,o,t,()=>{e.destroyNode(h)}),c!=null&&mL(e,n,t,c,o,r,s)}}function sL(n,e){HS(n,e),e[gn]=null,e[Pt]=null}function aL(n,e,t,r,i,o){r[gn]=i,r[Pt]=e,Mh(n,r,t,1,i,o)}function HS(n,e){e[Pn].changeDetectionScheduler?.notify(9),Mh(n,e,e[Ce],2,null,null)}function cL(n){let e=n[Cs];if(!e)return my(n[q],n);for(;e;){let t=null;if(kn(e))t=e[Cs];else{let r=e[Ve];r&&(t=r)}if(!t){for(;e&&!e[nn]&&e!==n;)kn(e)&&my(e[q],e),e=e[tt];e===null&&(e=n),kn(e)&&my(e[q],e),t=e&&e[nn]}e=t}}function mv(n,e){let t=n[co],r=t.indexOf(e);t.splice(r,1)}function Nh(n,e){if(uo(e))return;let t=e[Ce];t.destroyNode&&Mh(n,e,t,3,null,null),cL(e)}function my(n,e){if(uo(e))return;let t=J(null);try{e[X]&=-129,e[X]|=256,e[qt]&&zi(e[qt]),dL(n,e),lL(n,e),e[q].type===1&&e[Ce].destroy();let r=e[ni];if(r!==null&&mn(e[tt])){r!==e[tt]&&mv(r,e);let i=e[xn];i!==null&&i.detachView(n)}Ry(e)}finally{J(t)}}function RC(n,e,t,r){let i=n?.[ao];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&po.add(n),$S(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:h}=l();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),uL(n,r)}else n&&po.delete(n),r(!1)},i)}function uL(n,e){let t=n[ao]?.running;if(t){t.then(()=>{n[ao].running=void 0,po.delete(n),e(!0)});return}e(!1)}function lL(n,e){let t=n.cleanup,r=e[bs];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[bs]=null);let i=e[lr];if(i!==null){e[lr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[yr];if(o!==null){e[yr]=null;for(let s of o)s.destroy()}}function dL(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof fo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ie(4,a,c);try{c.call(a)}finally{Ie(5,a,c)}}else{Ie(4,i,o);try{o.call(i)}finally{Ie(5,i,o)}}}}}function zS(n,e,t){return hL(n,e.parent,t)}function hL(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[gn];if(vr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Er.None||i===Er.Emulated)return null}return on(r,t)}function qS(n,e,t){return pL(n,e,t)}function fL(n,e,t){return n.type&40?on(n,t):null}var pL=fL,NC;function yv(n,e,t,r){let i=zS(n,r,e),o=e[Ce],s=r.parent||e[Pt],a=qS(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)wC(o,i,t[c],a,!1);else wC(o,i,t,a,!1);NC!==void 0&&NC(o,r,e,t,i)}function Pc(n,e){if(e!==null){let t=e.type;if(t&3)return on(e,n);if(t&4)return Oy(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Pc(n,r);{let i=n[e.index];return mn(i)?Oy(-1,i):rn(i)}}else{if(t&128)return Pc(n,e.next);if(t&32)return dv(e,n)()||rn(n[e.index]);{let r=GS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Xr(n[xt]);return Pc(i,r)}else return Pc(n,e.next)}}}return null}function GS(n,e){if(e!==null){let r=n[xt][Pt],i=e.projection;return r.projection[i]}return null}function Oy(n,e){let t=Ve+n+1;if(t<e.length){let r=e[t],i=r[q].firstChild;if(i!==null)return Pc(r,i)}return e[ri]}function vv(n,e,t,r,i,o,s){for(;t!=null;){let a=r[mr];if(t.type===128){t=t.next;continue}let c=r[t.index],l=t.type;if(s&&e===0&&(c&&xs(rn(c),r),t.flags|=2),!Ch(t))if(l&8)vv(n,e,t.child,r,i,o,!1),Ms(e,n,a,i,c,t,o,r);else if(l&32){let h=dv(t,r),p;for(;p=h();)Ms(e,n,a,i,p,t,o,r);Ms(e,n,a,i,c,t,o,r)}else l&16?WS(n,e,r,t,i,o):Ms(e,n,a,i,c,t,o,r);t=s?t.projectionNext:t.next}}function Mh(n,e,t,r,i,o){vv(t,r,n.firstChild,e,i,o,!1)}function gL(n,e,t){let r=e[Ce],i=zS(n,t,e),o=t.parent||e[Pt],s=qS(o,t,e);WS(r,0,e,t,i,s)}function WS(n,e,t,r,i,o){let s=t[xt],c=s[Pt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let h=c[l];Ms(e,n,t[mr],i,h,r,o,t)}else{let l=c,h=s[tt];cS(r)&&(l.flags|=128),vv(n,e,l,h,i,o,!0)}}function mL(n,e,t,r,i,o,s){let a=r[ri],c=rn(r);a!==c&&Ms(e,n,t,o,a,i,s);for(let l=Ve;l<r.length;l++){let h=r[l];Mh(h[q],h,n,e,o,a)}}function yL(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:jn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=jn.Important),n.setStyle(t,r,i,o))}}function KS(n,e,t,r,i){let o=Fn(),s=r&2;try{si(-1),s&&e.length>xe&&OS(n,e,xe,!1),Ie(s?2:0,i,t),t(r,i)}finally{si(o),Ie(s?3:1,i,t)}}function _v(n,e,t){TL(n,e,t),(t.flags&64)===64&&DL(n,e,t)}function Ev(n,e,t=on){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function vL(n,e,t,r){let o=r.get(yS,mS)||t===Er.ShadowDom,s=n.selectRootElement(e,o);return _L(s),s}function _L(n){EL(n)}var EL=()=>null;function IL(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function QS(n,e,t,r,i,o){let s=e[q];if(Ph(n,s,e,t,r)){vr(n)&&YS(e,n.index);return}n.type&3&&(t=IL(t)),wL(n,e,t,r,i,o)}function wL(n,e,t,r,i,o){if(n.type&3){let s=on(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function YS(n,e){let t=sn(e,n);t[X]&16||(t[X]|=64)}function TL(n,e,t){let r=t.directiveStart,i=t.directiveEnd;vr(t)&&WF(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||sh(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=Oc(e,n,s,t);if(xs(c,e),o!==null&&SL(e,s-r,c,a,t,o),On(a)){let l=sn(t.index,e);l[He]=Oc(e,n,s,t)}}}function DL(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=iC();try{si(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];$d(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&bL(c,l)}}finally{si(-1),$d(s)}}function bL(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function ZS(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];PS(e,o.selectors,!1)&&(r??=[],On(o)?r.unshift(o):r.push(o))}return r}function CL(n,e,t,r,i,o){let s=on(n,e);JS(e[Ce],s,o,n.value,t,r,i)}function JS(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?no(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function SL(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Py(r,t,c,l)}}function AL(n,e,t,r,i){let o=xe+t,s=e[q],a=i(s,e,n,r,t);e[o]=a,As(n,!0);let c=n.type===2;return c?(CS(e[Ce],a,n),(qb()===0||Cc(n))&&xs(a,e),Gb()):xs(a,e),Gd()&&(!c||!Ch(n))&&yv(s,e,a,n),n}function RL(n){let e=n;return ny()?ry():(e=e.parent,As(e,!1)),e}function NL(n,e){let t=n[mr];if(!t)return;let r;try{r=t.get(kt,null)}catch{r=null}r?.(e)}function Ph(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],h=s[c+1],p=e.data[l];Py(p,t[l],h,i),a=!0}if(o)for(let c of o){let l=t[c],h=e.data[c];Py(h,l,r,i),a=!0}return a}function ML(n,e){let t=sn(e,n),r=t[q];PL(r,t);let i=t[gn];i!==null&&t[ro]===null&&(t[ro]=vS(i,t[mr])),Ie(18),Iv(r,t,t[He]),Ie(19,t[He])}function PL(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Iv(n,e,t){zd(e);try{let r=n.viewQuery;r!==null&&My(1,r,t);let i=n.template;i!==null&&KS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[xn]?.finishViewCreation(n),n.staticContentQueries&&_S(n,e),n.staticViewQueries&&My(2,n.viewQuery,t);let o=n.components;o!==null&&xL(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[X]&=-5,qd()}}function xL(n,e){for(let t=0;t<e.length;t++)ML(n,e[t])}function $c(n,e,t,r){let i=J(null);try{let o=e.tView,a=n[X]&4096?4096:16,c=uv(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[ni]=l;let h=n[xn];return h!==null&&(c[xn]=h.createEmbeddedView(o)),Iv(o,c,t),c}finally{J(i)}}function ks(n,e){return!e||e.firstChild===null||cS(n)}function Fc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(rn(o)),mn(o)&&XS(o,r);let s=t.type;if(s&8)Fc(n,e,t.child,r);else if(s&32){let a=dv(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=GS(e,t);if(Array.isArray(a))r.push(...a);else{let c=Xr(e[xt]);Fc(c[q],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function XS(n,e){for(let t=Ve;t<n.length;t++){let r=n[t],i=r[q].firstChild;i!==null&&Fc(r[q],r,i,e)}n[ri]!==n[gn]&&e.push(n[ri])}function eA(n){if(n[so]!==null){for(let e of n[so])e.impl.addSequence(e);n[so].length=0}}var tA=[];function kL(n){return n[qt]??OL(n)}function OL(n){let e=tA.pop()??Object.create(LL);return e.lView=n,e}function FL(n){n.lView[qt]!==n&&(n.lView=null,tA.push(n))}var LL=te(O({},$i),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ii(n.lView)},consumerOnSignalRead(){this.lView[qt]=this}});function VL(n){let e=n[qt]??Object.create(jL);return e.lView=n,e}var jL=te(O({},$i),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Xr(n.lView);for(;e&&!nA(e[q]);)e=Xr(e);e&&Qm(e)},consumerOnSignalRead(){this.lView[qt]=this}});function nA(n){return n.type!==2}function rA(n){if(n[yr]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[yr])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[X]&8192)}}var UL=100;function iA(n,e=0){let r=n[Pn].rendererFactory,i=!1;i||r.begin?.();try{BL(n,e)}finally{i||r.end?.()}}function BL(n,e){let t=iy();try{Rs(!0),Fy(n,e);let r=0;for(;Ac(n);){if(r===UL)throw new F(103,!1);r++,Fy(n,1)}}finally{Rs(t)}}function $L(n,e,t,r){if(uo(e))return;let i=e[X],o=!1,s=!1;zd(e);let a=!0,c=null,l=null;o||(nA(n)?(l=kL(e),c=Hi(l)):zl()===null?(a=!1,l=VL(e),c=Hi(l)):e[qt]&&(zi(e[qt]),e[qt]=null));try{Km(e),tC(n.bindingStartIndex),t!==null&&KS(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let m=n.preOrderCheckHooks;m!==null&&Jd(e,m,null)}else{let m=n.preOrderHooks;m!==null&&Xd(e,m,0,null),py(e,0)}if(s||HL(e),rA(e),oA(e,0),n.contentQueries!==null&&_S(n,e),!o)if(h){let m=n.contentCheckHooks;m!==null&&Jd(e,m)}else{let m=n.contentHooks;m!==null&&Xd(e,m,1),py(e,1)}qL(n,e);let p=n.components;p!==null&&aA(e,p,0);let g=n.viewQuery;if(g!==null&&My(2,g,r),!o)if(h){let m=n.viewCheckHooks;m!==null&&Jd(e,m)}else{let m=n.viewHooks;m!==null&&Xd(e,m,2),py(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Fd]){for(let m of e[Fd])m();e[Fd]=null}o||(eA(e),e[X]&=-73)}catch(h){throw o||ii(e),h}finally{l!==null&&(ss(l,c),a&&FL(l)),qd()}}function oA(n,e){for(let t=lS(n);t!==null;t=dS(t))for(let r=Ve;r<t.length;r++){let i=t[r];sA(i,e)}}function HL(n){for(let e=lS(n);e!==null;e=dS(e)){if(!(e[X]&2))continue;let t=e[co];for(let r=0;r<t.length;r++){let i=t[r];Qm(i)}}}function zL(n,e,t){Ie(18);let r=sn(e,n);sA(r,t),Ie(19,r[He])}function sA(n,e){Vd(n)&&Fy(n,e)}function Fy(n,e){let r=n[q],i=n[X],o=n[qt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&as(o)),s||=!1,o&&(o.dirty=!1),n[X]&=-9217,s)$L(r,n,r.template,n[He]);else if(i&8192){let a=J(null);try{rA(n),oA(n,1);let c=r.components;c!==null&&aA(n,c,1),eA(n)}finally{J(a)}}}function aA(n,e,t){for(let r=0;r<e.length;r++)zL(n,e[r],t)}function qL(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)si(~i);else{let o=i,s=t[++r],a=t[++r];rC(s,o);let c=e[o];Ie(24,c),a(2,c),Ie(25,c)}}}finally{si(-1)}}function wv(n,e){let t=iy()?64:1088;for(n[Pn].changeDetectionScheduler?.notify(e);n;){n[X]|=t;let r=Xr(n);if(Ss(n)&&!r)return n;n=r}return null}function cA(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function uA(n,e){let t=Ve+e;if(t<n.length)return n[t]}function Hc(n,e,t,r=!0){let i=e[q];if(GL(i,e,n,t),r){let s=Oy(t,n),a=e[Ce],c=a.parentNode(n[ri]);c!==null&&aL(i,n[Pt],a,e,c,s)}let o=e[ro];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function lA(n,e){let t=Lc(n,e);return t!==void 0&&Nh(t[q],t),t}function Lc(n,e){if(n.length<=Ve)return;let t=Ve+e,r=n[t];if(r){let i=r[ni];i!==null&&i!==n&&mv(i,r),e>0&&(n[t-1][nn]=r[nn]);let o=wc(n,Ve+e);sL(r[q],r);let s=o[xn];s!==null&&s.detachView(o[q]),r[tt]=null,r[nn]=null,r[X]&=-129}return r}function GL(n,e,t,r){let i=Ve+r,o=t.length;r>0&&(t[i-1][nn]=e),r<o-Ve?(e[nn]=t[i],xm(t,Ve+r,e)):(t.push(e),e[nn]=null),e[tt]=t;let s=e[ni];s!==null&&t!==s&&dA(s,e);let a=e[xn];a!==null&&a.insertView(n),jd(e),e[X]|=128}function dA(n,e){let t=n[co],r=e[tt];if(kn(r))n[X]|=2;else{let i=r[tt][xt];e[xt]!==i&&(n[X]|=2)}t===null?n[co]=[e]:t.push(e)}var ai=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[q];return Fc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[He]}set context(e){this._lView[He]=e}get destroyed(){return uo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[tt];if(mn(e)){let t=e[bc],r=t?t.indexOf(this):-1;r>-1&&(Lc(e,r),wc(t,r))}this._attachedToViewContainer=!1}Nh(this._lView[q],this._lView)}onDestroy(e){Ym(this._lView,e)}markForCheck(){wv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[X]&=-129}reattach(){jd(this._lView),this._lView[X]|=128}detectChanges(){this._lView[X]|=1024,iA(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ss(this._lView),t=this._lView[ni];t!==null&&!e&&mv(t,this._lView),HS(this._lView[q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e;let t=Ss(this._lView),r=this._lView[ni];r!==null&&!t&&dA(r,this._lView),jd(this._lView)}};var ci=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=WL;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=$c(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new ai(o)}}return n})();function WL(){return Tv(ft(),Y())}function Tv(n,e){return n.type&4?new ci(e,n,js(n,e)):null}function zc(n,e,t,r,i){let o=n.data[e];if(o===null)o=KL(n,e,t,r,i),nC()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Jb();o.injectorIndex=s===null?-1:s.injectorIndex}return As(o,!0),o}function KL(n,e,t,r,i){let o=ty(),s=ny(),a=s?o:o&&o.parent,c=n.data[e]=YL(n,a,t,e,r,i);return QL(n,c,o,s),c}function QL(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function YL(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return ey()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var UZ=new RegExp(`^(\\d+)*(${wF}|${IF})*(.*)`);function ZL(n){let e=n[Hm]??[],r=n[tt][Ce],i=[];for(let o of e)o.data[gS]!==void 0?i.push(o):JL(o,r);n[Hm]=i}function JL(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[pS];for(;t<i;){let o=r.nextSibling;bS(e,r,!1),r=o,t++}}}var XL=()=>null,eV=()=>null;function fh(n,e){return XL(n,e)}function hA(n,e,t){return eV(n,e,t)}var fA=class{},xh=class{},Ly=class{resolveComponentFactory(e){throw new F(917,!1)}},qc=class{static NULL=new Ly},go=class{},Io=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>tV()}return n})();function tV(){let n=Y(),e=ft(),t=sn(e.index,n);return(kn(t)?t:n)[Ce]}var pA=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>null})}return n})();var th={},Vy=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,th,r);return i!==th||t===th?i:this.parentInjector.get(e,t,r)}};function MC(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Nd(i,a);else if(o==2){let c=a,l=e[++s];r=Nd(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ae(n,e=0){let t=Y();if(t===null)return z(n,e);let r=ft();return oS(r,t,ht(n),e)}function gA(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,c=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,c,l]=h.resolveHostDirectives(s);break}iV(n,e,t,a,o,c,l)}o!==null&&r!==null&&nV(t,r,o)}function nV(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new F(-301,!1);r.push(e[i],o)}}function rV(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function iV(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let g=0;g<a;g++){let m=r[g];!c&&On(m)&&(c=!0,rV(n,t,g)),Sy(sh(t,e),n,m.type)}lV(t,n.data.length,a);for(let g=0;g<a;g++){let m=r[g];m.providersResolver&&m.providersResolver(m)}let l=!1,h=!1,p=kS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let m=r[g];if(t.mergedAttrs=kc(t.mergedAttrs,m.hostAttrs),sV(n,t,e,p,m),uV(p,m,i),s!==null&&s.has(m)){let[N,S]=s.get(m);t.directiveToIndex.set(m.type,[p,N+t.directiveStart,S+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let w=m.type.prototype;!l&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(w.ngOnChanges||w.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}oV(n,t,o)}function oV(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))PC(0,e,i,r),PC(1,e,i,r),kC(e,r,!1);else{let o=t.get(i);xC(0,e,o,r),xC(1,e,o,r),kC(e,r,!0)}}}function PC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),mA(e,o)}}function xC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),mA(e,s)}}function mA(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function kC(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||av(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let h of l)if(h===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function sV(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Jr(i.type,!0)),s=new fo(o,On(i),ae,null);n.blueprint[r]=s,t[r]=s,aV(n,e,r,kS(n,t,i.hostVars,Ot),i)}function aV(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;cV(s)!=a&&s.push(a),s.push(t,r,o)}}function cV(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function uV(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;On(e)&&(t[""]=n)}}function lV(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function yA(n,e,t,r,i,o,s,a){let c=e[q],l=c.consts,h=yn(l,s),p=zc(c,n,t,r,h);return o&&gA(c,e,p,yn(l,a),i),p.mergedAttrs=kc(p.mergedAttrs,p.attrs),p.attrs!==null&&MC(p,p.attrs,!1),p.mergedAttrs!==null&&MC(p,p.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,p),p}function vA(n,e){YC(n,e),zm(e)&&n.queries.elementEnd(e)}function Dv(n){return EA(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function _A(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function EA(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function bv(n,e,t){return n[e]=t}function dV(n,e){return n[e]}function an(n,e,t){if(t===Ot)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Cv(n,e,t,r){let i=an(n,e,t);return an(n,e+1,r)||i}function hV(n,e,t,r,i){let o=Cv(n,e,t,r);return an(n,e+2,i)||o}function yy(n,e,t){return function r(i){let o=vr(n)?sn(n.index,e):e;wv(o,5);let s=e[He],a=OC(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=OC(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function OC(n,e,t,r){let i=J(null);try{return Ie(6,e,t),t(r)!==!1}catch(o){return NL(n,o),!1}finally{Ie(7,e,t),J(i)}}function fV(n,e,t,r,i,o,s,a){let c=Cc(n),l=!1,h=null;if(!r&&c&&(h=gV(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=on(n,t),g=r?r(p):p;DF(t,g,o,a);let m=i.listen(g,o,a);if(!pV(o)){let w=r?N=>r(rn(N[n.index])):n.index;IA(w,e,t,o,a,m,!1)}}return l}function pV(n){return n.startsWith("animation")||n.startsWith("transition")}function gV(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[bs],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function IA(n,e,t,r,i,o,s){let a=e.firstCreatePass?Jm(e):null,c=Zm(t),l=c.length;c.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function FC(n,e,t,r,i,o){let s=e[t],a=e[q],l=a.data[t].outputs[r],p=s[l].subscribe(o);IA(n.index,a,e,i,o,p,!0)}var jy=Symbol("BINDING");var ph=class extends qc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=gr(e);return new mo(t,this.ngModule)}};function mV(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Ah.SignalBased)!==0};return i&&(o.transform=i),o})}function yV(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function vV(n,e,t){let r=e instanceof Fe?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Vy(t,r):t}function _V(n){let e=n.get(go,null);if(e===null)throw new F(407,!1);let t=n.get(pA,null),r=n.get(pn,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function EV(n,e){let t=wA(n);return TS(e,t,t==="svg"?qm:t==="math"?jb:null)}function wA(n){return(n.selectors[0][0]||"div").toLowerCase()}var mo=class extends xh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=mV(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=yV(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=HF(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Ie(22);let a=J(null);try{let c=this.componentDef,l=IV(r,c,s,o),h=vV(c,i||this.ngModule,e),p=_V(h),g=p.rendererFactory.createRenderer(null,c),m=r?vL(g,r,c.encapsulation,h):EV(c,g),w=s?.some(LC)||o?.some(M=>typeof M!="function"&&M.bindings.some(LC)),N=uv(null,l,null,512|xS(c),null,null,p,g,h,null,vS(m,h,!0));N[xe]=m,zd(N);let S=null;try{let M=yA(xe,N,2,"#host",()=>l.directiveRegistry,!0,0);CS(g,m,M),xs(m,N),_v(l,N,M),ES(l,M,N),vA(l,M),t!==void 0&&TV(M,this.ngContentSelectors,t),S=sn(M.index,N),N[He]=S[He],Iv(l,N,null)}catch(M){throw S!==null&&Ry(S),Ry(N),M}finally{Ie(23),qd()}return new gh(this.componentType,N,!!w)}finally{J(a)}}};function IV(n,e,t,r){let i=n?["ng-version","20.3.15"]:zF(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[jy].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[jy].requiredVars;let m=h+1;g.create&&(g.targetIdx=m,(o??=[]).push(g)),g.update&&(g.targetIdx=m,(s??=[]).push(g))}}let c=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=Lm(p);c.push(g)}return cv(0,null,wV(o,s),1,a,c,null,null,null,[i],null)}function wV(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function LC(n){let e=n[jy].kind;return e==="input"||e==="twoWay"}var gh=class extends fA{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Sc(t[q],xe),this.location=js(this._tNode,t),this.instance=sn(this._tNode.index,t)[He],this.hostView=this.changeDetectorRef=new ai(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Ph(r,i[q],i,e,t);this.previousInputValues.set(e,t);let s=sn(r.index,i);wv(s,1)}get injector(){return new ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function TV(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var wr=(()=>{class n{static __NG_ELEMENT_ID__=DV}return n})();function DV(){let n=ft();return DA(n,Y())}var bV=wr,TA=class extends bV{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return js(this._hostTNode,this._hostLView)}get injector(){return new ho(this._hostTNode,this._hostLView)}get parentInjector(){let e=nv(this._hostTNode,this._hostLView);if(XC(e)){let t=ih(e,this._hostLView),r=rh(e),i=t[q].data[r+8];return new ho(i,t)}else return new ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=VC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ve}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=fh(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,ks(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let c=e&&!K1(e),l;if(c)l=t;else{let S=t||{};l=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef,s=S.directives,a=S.bindings}let h=c?e:new mo(gr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let M=(c?p:this.parentInjector).get(Fe,null);M&&(o=M)}let g=gr(h.componentType??{}),m=fh(this._lContainer,g?.id??null),w=m?.firstChild??null,N=h.create(p,i,w,o,s,a);return this.insertImpl(N.hostView,l,ks(this._hostTNode,m)),N}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Bb(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[tt],l=new TA(c,c[Pt],c[tt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Hc(s,i,o,r),e.attachToViewContainerRef(),xm(vy(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=VC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Lc(this._lContainer,t);r&&(wc(vy(this._lContainer),t),Nh(r[q],r))}detach(e){let t=this._adjustIndex(e,-1),r=Lc(this._lContainer,t);return r&&wc(vy(this._lContainer),t)!=null?new ai(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function VC(n){return n[bc]}function vy(n){return n[bc]||(n[bc]=[])}function DA(n,e){let t,r=e[n.index];return mn(r)?t=r:(t=cA(r,e,null,n),e[n.index]=t,lv(e,t)),SV(t,e,n,r),new TA(t,n,e)}function CV(n,e){let t=n[Ce],r=t.createComment(""),i=on(e,n),o=t.parentNode(i);return uh(t,o,r,t.nextSibling(i),!1),r}var SV=NV,AV=()=>!1;function RV(n,e,t){return AV(n,e,t)}function NV(n,e,t,r){if(n[ri])return;let i;t.type&8?i=rn(r):i=CV(e,t),n[ri]=i}var Uy=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},By=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Sv(e,t).matches!==null&&this.queries[t].setDirty()}},mh=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=VV(e):this.predicate=e}},$y=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Hy=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,MV(t,o)),this.matchTNodeWithReadOption(e,t,eh(t,e,o,!1,!1))}else r===ci?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,eh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===En||i===wr||i===ci&&t.type&4)this.addMatch(t.index,-2);else{let o=eh(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function MV(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function PV(n,e){return n.type&11?js(n,e):n.type&4?Tv(n,e):null}function xV(n,e,t,r){return t===-1?PV(e,n):t===-2?kV(n,e,r):Oc(n,n[q],t,e)}function kV(n,e,t){if(t===En)return js(e,n);if(t===ci)return Tv(e,n);if(t===wr)return DA(e,n)}function bA(n,e,t,r){let i=e[xn].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let h=o[l];a.push(xV(e,h,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function zy(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=bA(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-c];for(let p=Ve;p<h.length;p++){let g=h[p];g[ni]===g[tt]&&zy(g[q],g,l,r)}if(h[co]!==null){let p=h[co];for(let g=0;g<p.length;g++){let m=p[g];zy(m[q],m,l,r)}}}}}return r}function OV(n,e){return n[xn].queries[e].queryList}function CA(n,e,t){let r=new ah((t&4)===4);return zb(n,e,r,r.destroy),(e[xn]??=new By).queries.push(new Uy(r))-1}function FV(n,e,t){let r=Me();return r.firstCreatePass&&(SA(r,new mh(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),CA(r,Y(),e)}function LV(n,e,t,r){let i=Me();if(i.firstCreatePass){let o=ft();SA(i,new mh(e,t,r),o.index),jV(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return CA(i,Y(),t)}function VV(n){return n.split(",").map(e=>e.trim())}function SA(n,e,t){n.queries===null&&(n.queries=new $y),n.queries.track(new Hy(e,t))}function jV(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Sv(n,e){return n.queries.getByIndex(e)}function UV(n,e){let t=n[q],r=Sv(t,e);return r.crossesNgTemplate?zy(t,n,e,[]):bA(t,n,r,e)}var yo=class{},kh=class{};var yh=class extends yo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ph(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Fm(e);this._bootstrapComponents=NS(o.bootstrap),this._r3Injector=cy(e,t,[{provide:yo,useValue:this},{provide:qc,useValue:this.componentFactoryResolver},...r],dr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},vh=class extends kh{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new yh(this.moduleType,e,[])}};var Vc=class extends yo{injector;componentFactoryResolver=new ph(this);instance=null;constructor(e){super();let t=new eo([...e.providers,{provide:yo,useValue:this},{provide:qc,useValue:this.componentFactoryResolver}],e.parent||Ds(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Gc(n,e,t=null){return new Vc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var BV=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Vm(!1,t.type),i=r.length>0?Gc([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:n,providedIn:"environment",factory:()=>new n(z(Fe))})}return n})();function Av(n){return Ls(()=>{let e=AA(n),t=te(O({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===rv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(BV).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Er.Emulated,styles:n.styles||Nt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Ir("NgStandalone"),RA(t);let r=n.dependencies;return t.directiveDefs=jC(r,$V),t.pipeDefs=jC(r,Mb),t.id=qV(t),t})}function $V(n){return gr(n)||Lm(n)}function In(n){return Ls(()=>({type:n.type,bootstrap:n.bootstrap||Nt,declarations:n.declarations||Nt,imports:n.imports||Nt,exports:n.exports||Nt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function HV(n,e){if(n==null)return ti;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Ah.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function zV(n){if(n==null)return ti;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function it(n){return Ls(()=>{let e=AA(n);return RA(e),e})}function Wc(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function AA(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||ti,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Nt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:HV(n.inputs,e),outputs:zV(n.outputs),debugInfo:null}}function RA(n){n.features?.forEach(e=>e(n))}function jC(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function qV(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function GV(n){return Object.getPrototypeOf(n.prototype).constructor}function Bn(n){let e=GV(n.type),t=!0,r=[n];for(;e;){let i;if(On(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=_y(n.inputs),s.declaredInputs=_y(n.declaredInputs),s.outputs=_y(n.outputs);let a=i.hostBindings;a&&ZV(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&QV(n,c),l&&YV(n,l),WV(n,i),Ib(n.outputs,i.outputs),On(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Bn&&(t=!1)}}e=Object.getPrototypeOf(e)}KV(r)}function WV(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function KV(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=kc(i.hostAttrs,t=kc(t,i.hostAttrs))}}function _y(n){return n===ti?{}:n===Nt?[]:n}function QV(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function YV(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function ZV(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function NA(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=kc(n.mergedAttrs,n.attrs);let h=n.tView=cv(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),As(n,!1);let c=XV(t,e,n,r);Gd()&&yv(t,e,c,n),xs(c,e);let l=cA(c,e,c,n);e[r+xe]=l,lv(e,l),RV(l,n,e)}function JV(n,e,t,r,i,o,s,a,c,l,h){let p=t+xe,g;return e.firstCreatePass?(g=zc(e,p,4,s||null,a||null),Xm()&&gA(e,n,g,yn(e.consts,l),ZS),YC(e,g)):g=e.data[p],NA(g,n,e,t,r,i,o,c),Cc(g)&&_v(e,n,g),l!=null&&Ev(n,g,h),g}function Os(n,e,t,r,i,o,s,a,c,l,h){let p=t+xe,g;if(e.firstCreatePass){if(g=zc(e,p,4,s||null,a||null),l!=null){let m=yn(e.consts,l);g.localNames=[];for(let w=0;w<m.length;w+=2)g.localNames.push(m[w],-1)}}else g=e.data[p];return NA(g,n,e,t,r,i,o,c),l!=null&&Ev(n,g,h),g}function MA(n,e,t,r,i,o,s,a){let c=Y(),l=Me(),h=yn(l.consts,o);return JV(c,l,n,e,t,r,i,h,void 0,s,a),MA}function PA(n,e,t,r,i,o,s,a){let c=Y(),l=Me(),h=yn(l.consts,o);return Os(c,l,n,e,t,r,i,h,void 0,s,a),PA}var XV=ej;function ej(n,e,t,r){return Wd(!0),e[Ce].createComment("")}var Rv=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Nv=new j("");function ui(n){return!!n&&typeof n.then=="function"}function Mv(n){return!!n&&typeof n.subscribe=="function"}var xA=new j("");var Pv=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=P(xA,{optional:!0})??[];injector=P(Le);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=$e(this.injector,i);if(ui(o))t.push(o);else if(Mv(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Oh=new j("");function kA(){Gg(()=>{let n="";throw new F(600,n)})}function OA(n){return n.isBoundToModule}var tj=10;var li=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(kt);afterRenderManager=P(pv);zonelessEnabled=P(Nc);rootEffectScheduler=P(Mc);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Re;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=P(Ln);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(se(t=>!t))}constructor(){P(Eo,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=P(Fe);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Le.NULL){return this._injector.get(ye).run(()=>{Ie(10);let s=t instanceof xh;if(!this._injector.get(Pv).done){let w="";throw new F(405,w)}let c;s?c=t:c=this._injector.get(qc).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let l=OA(c)?void 0:this._injector.get(yo),h=r||c.selector,p=c.create(i,[],h,l),g=p.location.nativeElement,m=p.injector.get(Nv,null);return m?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),xc(this.components,p),m?.unregisterApplication(g)}),this._loadComponent(p),Ie(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ie(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Rh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new F(101,!1);let t=J(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,J(t),this.afterTick.next(),Ie(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(go,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<tj;)Ie(14),this.synchronizeOnce(),Ie(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ac(i))continue;let o=r&&!this.zonelessEnabled?0:1;iA(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ac(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;xc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Oh,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>xc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new F(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function FA(n,e){let t=Y(),r=oi();if(an(t,r,e)){let i=Me(),o=Rc();if(Ph(o,i,t,n,e))vr(o)&&YS(t,o.index);else{let a=on(o,t);JS(t[Ce],a,null,o.value,n,e,null)}}return FA}function Kc(n,e,t,r){let i=Y(),o=oi();if(an(i,o,e)){let s=Me(),a=Rc();CL(a,i,n,e,t,r)}return Kc}var WZ=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var qy=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function Ey(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function nj(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=n.at(o),h=e[o],p=Ey(o,l,o,h,t);if(p!==0){p<0&&n.updateValue(o,h),o++;continue}let g=n.at(s),m=e[c],w=Ey(s,g,c,m,t);if(w!==0){w<0&&n.updateValue(s,m),s--,c--;continue}let N=t(o,l),S=t(s,g),M=t(o,h);if(Object.is(M,S)){let V=t(c,m);Object.is(V,N)?(n.swap(o,s),n.updateValue(s,m),c--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(r??=new _h,i??=BC(n,o,s,t),Gy(n,r,o,M))n.updateValue(o,h),o++,s++;else if(i.has(M))r.set(N,n.detach(o)),s--;else{let V=n.create(o,e[o]);n.attach(o,V),o++,s++}}for(;o<=c;)UC(n,r,t,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let h=n.at(o),p=l.value,g=Ey(o,h,o,p,t);if(g!==0)g<0&&n.updateValue(o,p),o++,l=c.next();else{r??=new _h,i??=BC(n,o,s,t);let m=t(o,p);if(Gy(n,r,o,m))n.updateValue(o,p),o++,s++,l=c.next();else if(!i.has(m))n.attach(o,n.create(o,p)),o++,s++,l=c.next();else{let w=t(o,h);r.set(w,n.detach(o)),s--}}}for(;!l.done;)UC(n,r,t,n.length,l.value),l=c.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(c=>{n.destroy(c)})}function Gy(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function UC(n,e,t,r,i){if(Gy(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function BC(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var _h=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function rj(n,e,t,r,i,o,s,a){Ir("NgControlFlow");let c=Y(),l=Me(),h=yn(l.consts,o);return Os(c,l,n,e,t,r,i,h,256,s,a),xv}function xv(n,e,t,r,i,o,s,a){Ir("NgControlFlow");let c=Y(),l=Me(),h=yn(l.consts,o);return Os(c,l,n,e,t,r,i,h,512,s,a),xv}function ij(n,e){Ir("NgControlFlow");let t=Y(),r=oi(),i=t[r]!==Ot?t[r]:-1,o=i!==-1?Eh(t,xe+i):void 0,s=0;if(an(t,r,n)){let a=J(null);try{if(o!==void 0&&lA(o,s),n!==-1){let c=xe+n,l=Eh(t,c),h=Yy(t[q],c),p=hA(l,h,t),g=$c(t,h,e,{dehydratedView:p});Hc(l,g,s,ks(h,p))}}finally{J(a)}}else if(o!==void 0){let a=uA(o,s);a!==void 0&&(a[He]=e)}}var Wy=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Ve}};function oj(n){return n}function sj(n,e){return e}var Ky=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function aj(n,e,t,r,i,o,s,a,c,l,h,p,g){Ir("NgControlFlow");let m=Y(),w=Me(),N=c!==void 0,S=Y(),M=a?s.bind(S[xt][He]):s,V=new Ky(N,M);S[xe+n]=V,Os(m,w,n+1,e,t,r,i,yn(w.consts,o),256),N&&Os(m,w,n+2,c,l,h,p,yn(w.consts,g),512)}var Qy=class extends qy{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Ve}at(e){return this.getLView(e)[He].$implicit}attach(e,t){let r=t[ro];this.needsIndexUpdate||=e!==this.length,Hc(this.lContainer,t,e,ks(this.templateTNode,r)),uj(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,lj(this.lContainer,e),dj(this.lContainer,e)}create(e,t){let r=fh(this.lContainer,this.templateTNode.tView.ssrId),i=$c(this.hostLView,this.templateTNode,new Wy(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Nh(e[q],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[He].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[He].$index=e}getLView(e){return hj(this.lContainer,e)}};function cj(n){let e=J(null),t=Fn();try{let r=Y(),i=r[q],o=r[t],s=t+1,a=Eh(r,s);if(o.liveCollection===void 0){let l=Yy(i,s);o.liveCollection=new Qy(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(nj(c,n,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=oi(),h=c.length===0;if(an(r,l,h)){let p=t+2,g=Eh(r,p);if(h){let m=Yy(i,p),w=hA(g,m,r),N=$c(r,m,void 0,{dehydratedView:w});Hc(g,N,0,ks(m,w))}else i.firstUpdatePass&&ZL(g),lA(g,0)}}}finally{J(e)}}function Eh(n,e){return n[e]}function uj(n,e){if(n.length<=Ve)return;let t=Ve+e,r=n[t],i=r?r[ao]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[mr];iL(o,i),po.delete(r),i.detachedLeaveAnimationFns=void 0}}function lj(n,e){if(n.length<=Ve)return;let t=Ve+e,r=n[t],i=r?r[ao]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function dj(n,e){return Lc(n,e)}function hj(n,e){return uA(n,e)}function Yy(n,e){return Sc(n,e)}function LA(n,e,t){let r=Y(),i=oi();if(an(r,i,e)){let o=Me(),s=Rc();QS(s,r,n,e,r[Ce],t)}return LA}function Zy(n,e,t,r,i){Ph(e,n,t,i?"class":"style",r)}function kv(n,e,t,r){let i=Y(),o=i[q],s=n+xe,a=o.firstCreatePass?yA(s,i,2,e,ZS,Xm(),t,r):o.data[s];if(AL(a,i,n,e,fj),Cc(a)){let c=i[q];_v(c,i,a),ES(c,a,i)}return r!=null&&Ev(i,a),kv}function Ov(){let n=Me(),e=ft(),t=RL(e);return n.firstCreatePass&&vA(n,t),Kb(t)&&Qb(),Wb(),t.classesWithoutHost!=null&&eF(t)&&Zy(n,t,Y(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&tF(t)&&Zy(n,t,Y(),t.stylesWithoutHost,!1),Ov}function Fh(n,e,t,r){return kv(n,e,t,r),Ov(),Fh}var fj=(n,e,t,r,i)=>(Wd(!0),TS(e[Ce],r,hC()));function pj(){return Y()}var Yd=void 0;function gj(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var mj=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yd,"{1} 'at' {0}",Yd],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",gj],Iy={};function Ut(n){let e=yj(n),t=$C(e);if(t)return t;let r=e.split("-")[0];if(t=$C(r),t)return t;if(r==="en")return mj;throw new F(701,!1)}function $C(n){return n in Iy||(Iy[n]=hr.ng&&hr.ng.common&&hr.ng.common.locales&&hr.ng.common.locales[n]),Iy[n]}var je=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(je||{});function yj(n){return n.toLowerCase().replace(/_/g,"-")}var Qc="en-US";var vj=Qc;function VA(n){typeof n=="string"&&(vj=n.toLowerCase().replace(/_/g,"-"))}function wo(n,e,t){let r=Y(),i=Me(),o=ft();return jA(i,r,r[Ce],o,n,e,t),wo}function jA(n,e,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=yy(r,e,o),fV(r,n,e,s,t,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],m=h[p+1];c??=yy(r,e,o),FC(r,e,g,m,i,c)}if(l&&l.length)for(let p of l)c??=yy(r,e,o),FC(r,e,p,i,i,c)}}function _j(n=1){return uC(n)}function Ej(n,e){let t=null,r=VF(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?PS(n,o,!0):BF(r,o))return i}return t}function Ij(n){let e=Y()[xt][Pt];if(!e.projection){let t=n?n.length:1,r=e.projection=Rb(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?Ej(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function wj(n,e=0,t,r,i,o){let s=Y(),a=Me(),c=r?n+1:null;c!==null&&Os(s,a,c,r,i,o,null,t);let l=zc(a,xe+n,16,null,t||null);l.projection===null&&(l.projection=e),ry();let p=!s[ro]||ey();s[xt][Pt].projection[l.projection]===null&&c!==null?Tj(s,a,c):p&&!Ch(l)&&gL(a,s,l)}function Tj(n,e,t){let r=xe+t,i=e.data[r],o=n[r],s=fh(o,i.tView.ssrId),a=$c(n,i,void 0,{dehydratedView:s});Hc(o,a,0,ks(i,s))}function UA(n,e,t,r){LV(n,e,t,r)}function Dj(n,e,t){FV(n,e,t)}function BA(n){let e=Y(),t=Me(),r=oy();Hd(r+1);let i=Sv(t,r);if(n.dirty&&Ub(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=UV(e,r);n.reset(o,pF),n.notifyOnChanges()}return!0}return!1}function $A(){return OV(Y(),oy())}function bj(n){let e=Xb();return Ld(e,xe+n)}function Zd(n,e){return n<<17|e<<2}function vo(n){return n>>17&32767}function Cj(n){return(n&2)==2}function Sj(n,e){return n&131071|e<<17}function Jy(n){return n|2}function Fs(n){return(n&131068)>>2}function wy(n,e){return n&-131069|e<<2}function Aj(n){return(n&1)===1}function Xy(n){return n|1}function Rj(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=vo(s),c=Fs(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Ts(p,h)>0)&&(l=!0)}else h=t;if(i)if(c!==0){let g=vo(n[a+1]);n[r+1]=Zd(g,a),g!==0&&(n[g+1]=wy(n[g+1],r)),n[a+1]=Sj(n[a+1],r)}else n[r+1]=Zd(a,0),a!==0&&(n[a+1]=wy(n[a+1],r)),a=r;else n[r+1]=Zd(c,0),a===0?a=r:n[c+1]=wy(n[c+1],r),c=r;l&&(n[r+1]=Jy(n[r+1])),HC(n,h,r,!0),HC(n,h,r,!1),Nj(e,h,n,r,o),s=Zd(a,c),o?e.classBindings=s:e.styleBindings=s}function Nj(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Ts(o,e)>=0&&(t[r+1]=Xy(t[r+1]))}function HC(n,e,t,r){let i=n[t+1],o=e===null,s=r?vo(i):Fs(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];Mj(c,e)&&(a=!0,n[s+1]=r?Xy(l):Jy(l)),s=r?vo(l):Fs(l)}a&&(n[t+1]=r?Jy(i):Xy(i))}function Mj(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ts(n,e)>=0:!1}var _n={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Pj(n){return n.substring(_n.key,_n.keyEnd)}function xj(n){return kj(n),HA(n,zA(n,0,_n.textEnd))}function HA(n,e){let t=_n.textEnd;return t===e?-1:(e=_n.keyEnd=Oj(n,_n.key=e,t),zA(n,e,t))}function kj(n){_n.key=0,_n.keyEnd=0,_n.value=0,_n.valueEnd=0,_n.textEnd=n.length}function zA(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Oj(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function qA(n,e,t){return GA(n,e,t,!1),qA}function Yc(n,e){return GA(n,e,null,!0),Yc}function Fj(n){Vj(zj,Lj,n,!0)}function Lj(n,e){for(let t=xj(e);t>=0;t=HA(e,t))kd(n,Pj(e),!0)}function GA(n,e,t,r){let i=Y(),o=Me(),s=Bd(2);if(o.firstUpdatePass&&KA(o,n,s,r),e!==Ot&&an(i,s,e)){let a=o.data[Fn()];QA(o,a,i,i[Ce],n,i[s+1]=Gj(e,t),r,s)}}function Vj(n,e,t,r){let i=Me(),o=Bd(2);i.firstUpdatePass&&KA(i,null,o,r);let s=Y();if(t!==Ot&&an(s,o,t)){let a=i.data[Fn()];if(YA(a,r)&&!WA(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=Nd(c,t||"")),Zy(i,a,s,t,r)}else qj(i,a,s,s[Ce],s[o+1],s[o+1]=Hj(n,e,t),r,o)}}function WA(n,e){return e>=n.expandoStartIndex}function KA(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Fn()],s=WA(n,t);YA(o,r)&&e===null&&!s&&(e=!1),e=jj(i,o,e,r),Rj(i,o,e,t,s,r)}}function jj(n,e,t,r){let i=oC(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Ty(null,n,e,t,r),t=jc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Ty(i,n,e,t,r),o===null){let c=Uj(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Ty(null,n,e,c[1],r),c=jc(c,e.attrs,r),Bj(n,e,r,c))}else o=$j(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function Uj(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Fs(r)!==0)return n[vo(r)]}function Bj(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[vo(i)]=r}function $j(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=jc(r,s,t)}return jc(r,e.attrs,t)}function Ty(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=jc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function jc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),kd(n,s,t?!0:e[++o]))}return n===void 0?null:n}function Hj(n,e,t){if(t==null||t==="")return Nt;let r=[],i=Bc(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function zj(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&kd(n,r,t)}function qj(n,e,t,r,i,o,s,a){i===Ot&&(i=Nt);let c=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=c<i.length?i[c+1]:void 0,m=l<o.length?o[l+1]:void 0,w=null,N;h===p?(c+=2,l+=2,g!==m&&(w=p,N=m)):p===null||h!==null&&h<p?(c+=2,w=h):(l+=2,w=p,N=m),w!==null&&QA(n,e,t,r,w,N,s,a),h=c<i.length?i[c]:null,p=l<o.length?o[l]:null}}function QA(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],h=Aj(l)?zC(c,e,t,i,Fs(l),s):void 0;if(!Ih(h)){Ih(o)||Cj(l)&&(o=zC(c,null,t,i,a,s));let p=Gm(Fn(),t);yL(r,s,p,i,o)}}function zC(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),h=l?c[1]:c,p=h===null,g=t[i+1];g===Ot&&(g=p?Nt:void 0);let m=p?Od(g,r):h===r?g:void 0;if(l&&!Ih(m)&&(m=Od(c,r)),Ih(m)&&(a=m,s))return a;let w=n[i+1];i=s?vo(w):Fs(w)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Od(c,r))}return a}function Ih(n){return n!==void 0}function Gj(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=dr(Bc(n)))),n}function YA(n,e){return(n.flags&(e?8:16))!==0}function Wj(n,e=""){let t=Y(),r=Me(),i=n+xe,o=r.firstCreatePass?zc(r,i,1,e,null):r.data[i],s=Kj(r,t,o,e,n);t[i]=s,Gd()&&yv(r,t,s,o),As(o,!1)}var Kj=(n,e,t,r,i)=>(Wd(!0),AF(e[Ce],r));function ZA(n,e,t,r=""){return an(n,oi(),t)?e+no(t)+r:Ot}function Qj(n,e,t,r,i,o=""){let s=eC(),a=Cv(n,s,t,i);return Bd(2),a?e+no(t)+r+no(i)+o:Ot}function JA(n){return Fv("",n),JA}function Fv(n,e,t){let r=Y(),i=ZA(r,n,e,t);return i!==Ot&&e0(r,Fn(),i),Fv}function XA(n,e,t,r,i){let o=Y(),s=Qj(o,n,e,t,r,i);return s!==Ot&&e0(o,Fn(),s),XA}function e0(n,e,t){let r=Gm(e,n);RF(n[Ce],r,t)}function t0(n,e,t){dy(e)&&(e=e());let r=Y(),i=oi();if(an(r,i,e)){let o=Me(),s=Rc();QS(s,r,n,e,r[Ce],t)}return t0}function Yj(n,e){let t=dy(n);return t&&n.set(e),t}function n0(n,e){let t=Y(),r=Me(),i=ft();return jA(r,t,t[Ce],i,n,e),n0}function Zj(n,e,t=""){return ZA(Y(),n,e,t)}function Jj(n,e,t){let r=Me();if(r.firstCreatePass){let i=On(n);ev(t,r.data,r.blueprint,i,!0),ev(e,r.data,r.blueprint,i,!1)}}function ev(n,e,t,r,i){if(n=ht(n),Array.isArray(n))for(let o=0;o<n.length;o++)ev(n[o],e,t,r,i);else{let o=Me(),s=Y(),a=ft(),c=Xi(n)?n:ht(n.provide),l=Um(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Xi(n)||!n.multi){let m=new fo(l,i,ae,null),w=by(c,e,i?h:h+g,p);w===-1?(Sy(sh(a,s),o,c),Dy(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[w]=m,s[w]=m)}else{let m=by(c,e,h+g,p),w=by(c,e,h,h+g),N=m>=0&&t[m],S=w>=0&&t[w];if(i&&!S||!i&&!N){Sy(sh(a,s),o,c);let M=tU(i?eU:Xj,t.length,i,r,l,n);!i&&S&&(t[w].providerFactory=M),Dy(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(M),s.push(M)}else{let M=r0(t[i?w:m],l,!i&&r);Dy(o,n,m>-1?m:w,M)}!i&&r&&S&&t[w].componentProviders++}}}function Dy(n,e,t,r){let i=Xi(e),o=Fb(e);if(i||o){let c=(o?ht(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,c]):l[h+1].push(r,c)}else l.push(t,c)}}}function r0(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function by(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Xj(n,e,t,r,i){return tv(this.multi,[])}function eU(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Oc(r,r[q],this.providerFactory.index,i);s=c.slice(0,a),tv(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],tv(o,s);return s}function tv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function tU(n,e,t,r,i,o){let s=new fo(n,t,ae,null);return s.multi=[],s.index=e,s.componentProviders=0,r0(s,i,r&&!t),s}function Us(n,e=[]){return t=>{t.providersResolver=(r,i)=>Jj(r,i?i(n):n,e)}}function nU(n,e,t){let r=Ud()+n,i=Y();return i[r]===Ot?bv(i,r,t?e.call(t):e()):dV(i,r)}function i0(n,e){let t=n[e];return t===Ot?void 0:t}function rU(n,e,t,r,i,o,s){let a=e+t;return Cv(n,a,i,o)?bv(n,a+2,s?r.call(s,i,o):r(i,o)):i0(n,a+2)}function iU(n,e,t,r,i,o,s,a){let c=e+t;return hV(n,c,i,o,s)?bv(n,c+3,a?r.call(a,i,o,s):r(i,o,s)):i0(n,c+3)}function oU(n,e){let t=Me(),r,i=n+xe;t.firstCreatePass?(r=sU(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Jr(r.type,!0)),s,a=Rt(ae);try{let c=oh(!1),l=o();return oh(c),Wm(t,Y(),i,l),l}finally{Rt(a)}}function sU(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function aU(n,e,t,r){let i=n+xe,o=Y(),s=Ld(o,i);return o0(o,i)?rU(o,Ud(),e,s.transform,t,r,s):s.transform(t,r)}function cU(n,e,t,r,i){let o=n+xe,s=Y(),a=Ld(s,o);return o0(s,o)?iU(s,Ud(),e,a.transform,t,r,i,a):a.transform(t,r,i)}function o0(n,e){return n[q].data[e].pure}var wh=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Lv=(()=>{class n{compileModuleSync(t){return new vh(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Fm(t),o=NS(i.declarations).reduce((s,a)=>{let c=gr(a);return c&&s.push(new mo(c)),s},[]);return new wh(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var uU=(()=>{class n{zone=P(ye);changeDetectionScheduler=P(pn);applicationRef=P(li);applicationErrorHandler=P(kt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),s0=new j("",{factory:()=>!1});function Vv({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ye(te(O({},jv()),{scheduleInRootZone:t})),[{provide:ye,useFactory:n},{provide:pr,multi:!0,useFactory:()=>{let r=P(uU,{optional:!0});return()=>r.initialize()}},{provide:pr,multi:!0,useFactory:()=>{let r=P(dU);return()=>{r.initialize()}}},e===!0?{provide:hy,useValue:!0}:[],{provide:fy,useValue:t??FS},{provide:kt,useFactory:()=>{let r=P(ye),i=P(Fe),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(en),o.handleError(s))})}}}]}function lU(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Vv({ngZoneFactory:()=>{let i=jv(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Ir("NgZone_CoalesceEvent"),new ye(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Mt([{provide:s0,useValue:!0},{provide:Nc,useValue:!1},r])}function jv(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var dU=(()=>{class n{subscription=new Oe;initialized=!1;zone=P(ye);pendingTasks=P(Ln);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var a0=(()=>{class n{applicationErrorHandler=P(kt);appRef=P(li);taskService=P(Ln);ngZone=P(ye);zonelessEnabled=P(Nc);tracing=P(Eo,{optional:!0});disableScheduling=P(hy,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Oe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(lh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(fy,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof dh||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?bC:LS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(lh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,bC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hU(){return typeof $localize<"u"&&$localize.locale||Qc}var Bs=new j("",{providedIn:"root",factory:()=>P(Bs,{optional:!0,skipSelf:!0})||hU()});function ot(n){return mb(n)}function $s(n,e){return Kl(n,e?.equal)}var Uv=class{[_t];constructor(e){this[_t]=e}destroy(){this[_t].destroy()}};function fU(n,e){let t=e?.injector??P(Le),r=e?.manualCleanup!==!0?t.get(Gt):null,i,o=t.get(Ns,null,{optional:!0}),s=t.get(pn);return o!==null?(i=mU(o.view,s,n),r instanceof Ec&&r._lView===o.view&&(r=null)):i=yU(n,t.get(Mc),s),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Uv(i)}var c0=te(O({},yb),{cleanupFns:void 0,zone:null,onDestroyFn:lo,run(){let n=Rs(!1);try{vb(this)}finally{Rs(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=J(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],J(n)}}}),pU=te(O({},c0),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){zi(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),gU=te(O({},c0),{consumerMarkedDirty(){this.view[X]|=8192,ii(this.view),this.notifier.notify(13)},destroy(){zi(this),this.onDestroyFn(),this.cleanup(),this.view[yr]?.delete(this)}});function mU(n,e,t){let r=Object.create(gU);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=u0(r,t),n[yr]??=new Set,n[yr].add(r),r.consumerMarkedDirty(r),r}function yU(n,e,t){let r=Object.create(pU);return r.fn=u0(r,n),r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function u0(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}var f0=Symbol("InputSignalNode#UNSET"),MU=te(O({},Ql),{transformFn:void 0,applyValueToInputSignal(n,e){us(n,e)}});function p0(n,e){let t=Object.create(MU);t.value=n,t.transformFn=e?.transform;function r(){if(os(t),t.value===f0){let i=null;throw new F(-950,i)}return t.value}return r[_t]=t,r}var Vh=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Uc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},PU=new j("");PU.__NG_ELEMENT_ID__=n=>{let e=ft();if(e===null)throw new F(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new F(204,!1)};function l0(n,e){return p0(n,e)}function xU(n){return p0(f0,n)}var g0=(l0.required=xU,l0);var Bv=new j(""),kU=new j("");function Zc(n){return!n.moduleRef}function OU(n){let e=Zc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ye);return t.run(()=>{Zc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(kt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Zc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Bv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Bv);s.add(o),n.moduleRef.onDestroy(()=>{xc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return LU(r,t,()=>{let o=e.get(Ln),s=o.add(),a=e.get(Pv);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Bs,Qc);if(VA(c||Qc),!e.get(kU,!0))return Zc(n)?e.get(li):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Zc(n)){let h=e.get(li);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return FU?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var FU;function LU(n,e,t){try{let r=t();return ui(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Lh=null;function VU(n=[],e){return Le.create({name:e,providers:[{provide:Tc,useValue:"platform"},{provide:Bv,useValue:new Set([()=>Lh=null])},...n]})}function jU(n=[]){if(Lh)return Lh;let e=VU(n);return Lh=e,kA(),UU(e),e}function UU(n){let e=n.get(Dh,null);$e(n,()=>{e?.forEach(t=>t())})}function Gv(){return!1}var Hs=(()=>{class n{static __NG_ELEMENT_ID__=BU}return n})();function BU(n){return $U(ft(),Y(),(n&16)===16)}function $U(n,e,t){if(vr(n)&&!t){let r=sn(n.index,e);return new ai(r,r)}else if(n.type&175){let r=e[xt];return new ai(r,e)}return null}var $v=class{constructor(){}supports(e){return Dv(e)}create(e){return new Hv(e)}},HU=(n,e)=>e,Hv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||HU}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<d0(r,i,o)?t:r,a=d0(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=c-i;if(l!=h){for(let g=0;g<l;g++){let m=g<o.length?o[g]:o[g]=0,w=m+g;h<=w&&w<l&&(o[g]=m+1)}let p=s.previousIndex;o[p]=h-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Dv(e))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,_A(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new zv(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new jh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new jh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},zv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},qv=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},jh=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new qv,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function d0(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function h0(){return new Wv([new $v])}var Wv=(()=>{class n{factories;static \u0275prov=B({token:n,providedIn:"root",factory:h0});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=P(n,{optional:!0,skipSelf:!0});return n.create(t,r||h0())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new F(901,!1)}}return n})();function m0(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Ie(8);try{let o=i?.injector??jU(r),s=[Vv({}),{provide:pn,useExisting:a0},pC,...t||[]],a=new Vc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return OU({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Ie(9)}}function zs(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function tie(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function nie(n,e){let t=gr(n),r=e.elementInjector||Ds();return new mo(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}var _0=null;function cn(){return _0}function Kv(n){_0??=n}var Jc=class{},Qv=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(E0),providedIn:"platform"})}return n})();var E0=(()=>{class n extends Qv{_location;_history;_doc=P(Ge);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cn().getBaseHref(this._doc)}onPopState(t){let r=cn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=cn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function I0(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function y0(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function di(n){return n&&n[0]!=="?"?`?${n}`:n}var qs=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(T0),providedIn:"root"})}return n})(),w0=new j(""),T0=(()=>{class n extends qs{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(Ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return I0(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+di(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+di(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+di(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(z(Qv),z(w0,8))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gs=(()=>{class n{_subject=new Re;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=GU(y0(v0(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+di(r))}normalize(t){return n.stripTrailingSlash(qU(this._basePath,v0(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+di(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+di(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=di;static joinWithSlash=I0;static stripTrailingSlash=y0;static \u0275fac=function(r){return new(r||n)(z(qs))};static \u0275prov=B({token:n,factory:()=>zU(),providedIn:"root"})}return n})();function zU(){return new Gs(z(qs))}function qU(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function v0(n){return n.replace(/\/index.html$/,"")}function GU(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var t_=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(t_||{});var wt=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(wt||{}),we=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(we||{}),Bt=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(Bt||{}),$t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function A0(n){return Ut(n)[je.LocaleId]}function R0(n,e,t){let r=Ut(n),i=[r[je.DayPeriodsFormat],r[je.DayPeriodsStandalone]],o=un(i,e);return un(o,t)}function N0(n,e,t){let r=Ut(n),i=[r[je.DaysFormat],r[je.DaysStandalone]],o=un(i,e);return un(o,t)}function M0(n,e,t){let r=Ut(n),i=[r[je.MonthsFormat],r[je.MonthsStandalone]],o=un(i,e);return un(o,t)}function P0(n,e){let r=Ut(n)[je.Eras];return un(r,e)}function Xc(n,e){let t=Ut(n);return un(t[je.DateFormat],e)}function eu(n,e){let t=Ut(n);return un(t[je.TimeFormat],e)}function tu(n,e){let r=Ut(n)[je.DateTimeFormat];return un(r,e)}function $n(n,e){let t=Ut(n),r=t[je.NumberSymbols][e];if(typeof r>"u"){if(e===$t.CurrencyDecimal)return t[je.NumberSymbols][$t.Decimal];if(e===$t.CurrencyGroup)return t[je.NumberSymbols][$t.Group]}return r}function x0(n,e){return Ut(n)[je.NumberFormats][e]}function k0(n){if(!n[je.ExtraData])throw new F(2303,!1)}function O0(n){let e=Ut(n);return k0(e),(e[je.ExtraData][2]||[]).map(r=>typeof r=="string"?Yv(r):[Yv(r[0]),Yv(r[1])])}function F0(n,e,t){let r=Ut(n);k0(r);let i=[r[je.ExtraData][0],r[je.ExtraData][1]],o=un(i,e)||[];return un(o,t)||[]}function un(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new F(2304,!1)}function Yv(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var WU=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Uh={},KU=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function L0(n,e,t,r){let i=r2(n);e=Tr(t,e)||e;let s=[],a;for(;e;)if(a=KU.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=j0(r,c),i=n2(i,r));let l="";return s.forEach(h=>{let p=e2(h);l+=p?p(i,t,c):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function qh(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Tr(n,e){let t=A0(n);if(Uh[t]??={},Uh[t][e])return Uh[t][e];let r="";switch(e){case"shortDate":r=Xc(n,Bt.Short);break;case"mediumDate":r=Xc(n,Bt.Medium);break;case"longDate":r=Xc(n,Bt.Long);break;case"fullDate":r=Xc(n,Bt.Full);break;case"shortTime":r=eu(n,Bt.Short);break;case"mediumTime":r=eu(n,Bt.Medium);break;case"longTime":r=eu(n,Bt.Long);break;case"fullTime":r=eu(n,Bt.Full);break;case"short":let i=Tr(n,"shortTime"),o=Tr(n,"shortDate");r=Bh(tu(n,Bt.Short),[i,o]);break;case"medium":let s=Tr(n,"mediumTime"),a=Tr(n,"mediumDate");r=Bh(tu(n,Bt.Medium),[s,a]);break;case"long":let c=Tr(n,"longTime"),l=Tr(n,"longDate");r=Bh(tu(n,Bt.Long),[c,l]);break;case"full":let h=Tr(n,"fullTime"),p=Tr(n,"fullDate");r=Bh(tu(n,Bt.Full),[h,p]);break}return r&&(Uh[t][e]=r),r}function Bh(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Tn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function QU(n,e){return Tn(n,3).substring(0,e)}function We(n,e,t=0,r=!1,i=!1){return function(o,s){let a=YU(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return QU(a,e);let c=$n(s,$t.MinusSign);return Tn(a,e,c,r,i)}}function YU(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new F(2301,!1)}}function Se(n,e,t=wt.Format,r=!1){return function(i,o){return ZU(i,o,n,e,t,r)}}function ZU(n,e,t,r,i,o){switch(t){case 2:return M0(e,i,r)[n.getMonth()];case 1:return N0(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let l=O0(e),h=F0(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[m,w]=g,N=s>=m.hours&&a>=m.minutes,S=s<w.hours||s===w.hours&&a<w.minutes;if(m.hours<w.hours){if(N&&S)return!0}else if(N||S)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return R0(e,i,r)[s<12?0:1];case 3:return P0(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new F(2302,!1)}}function $h(n){return function(e,t,r){let i=-1*r,o=$n(t,$t.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Tn(s,2,o)+Tn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Tn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Tn(s,2,o)+":"+Tn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Tn(s,2,o)+":"+Tn(Math.abs(i%60),2,o);default:throw new F(2310,!1)}}}var JU=0,zh=4;function XU(n){let e=qh(n,JU,1).getDay();return qh(n,0,1+(e<=zh?zh:zh+7)-e)}function V0(n){let e=n.getDay(),t=e===0?-3:zh-e;return qh(n.getFullYear(),n.getMonth(),n.getDate()+t)}function Zv(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=V0(t),s=XU(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Tn(i,n,$n(r,$t.MinusSign))}}function Hh(n,e=!1){return function(t,r){let o=V0(t).getFullYear();return Tn(o,n,$n(r,$t.MinusSign),e)}}var Jv={};function e2(n){if(Jv[n])return Jv[n];let e;switch(n){case"G":case"GG":case"GGG":e=Se(3,we.Abbreviated);break;case"GGGG":e=Se(3,we.Wide);break;case"GGGGG":e=Se(3,we.Narrow);break;case"y":e=We(0,1,0,!1,!0);break;case"yy":e=We(0,2,0,!0,!0);break;case"yyy":e=We(0,3,0,!1,!0);break;case"yyyy":e=We(0,4,0,!1,!0);break;case"Y":e=Hh(1);break;case"YY":e=Hh(2,!0);break;case"YYY":e=Hh(3);break;case"YYYY":e=Hh(4);break;case"M":case"L":e=We(1,1,1);break;case"MM":case"LL":e=We(1,2,1);break;case"MMM":e=Se(2,we.Abbreviated);break;case"MMMM":e=Se(2,we.Wide);break;case"MMMMM":e=Se(2,we.Narrow);break;case"LLL":e=Se(2,we.Abbreviated,wt.Standalone);break;case"LLLL":e=Se(2,we.Wide,wt.Standalone);break;case"LLLLL":e=Se(2,we.Narrow,wt.Standalone);break;case"w":e=Zv(1);break;case"ww":e=Zv(2);break;case"W":e=Zv(1,!0);break;case"d":e=We(2,1);break;case"dd":e=We(2,2);break;case"c":case"cc":e=We(7,1);break;case"ccc":e=Se(1,we.Abbreviated,wt.Standalone);break;case"cccc":e=Se(1,we.Wide,wt.Standalone);break;case"ccccc":e=Se(1,we.Narrow,wt.Standalone);break;case"cccccc":e=Se(1,we.Short,wt.Standalone);break;case"E":case"EE":case"EEE":e=Se(1,we.Abbreviated);break;case"EEEE":e=Se(1,we.Wide);break;case"EEEEE":e=Se(1,we.Narrow);break;case"EEEEEE":e=Se(1,we.Short);break;case"a":case"aa":case"aaa":e=Se(0,we.Abbreviated);break;case"aaaa":e=Se(0,we.Wide);break;case"aaaaa":e=Se(0,we.Narrow);break;case"b":case"bb":case"bbb":e=Se(0,we.Abbreviated,wt.Standalone,!0);break;case"bbbb":e=Se(0,we.Wide,wt.Standalone,!0);break;case"bbbbb":e=Se(0,we.Narrow,wt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Se(0,we.Abbreviated,wt.Format,!0);break;case"BBBB":e=Se(0,we.Wide,wt.Format,!0);break;case"BBBBB":e=Se(0,we.Narrow,wt.Format,!0);break;case"h":e=We(3,1,-12);break;case"hh":e=We(3,2,-12);break;case"H":e=We(3,1);break;case"HH":e=We(3,2);break;case"m":e=We(4,1);break;case"mm":e=We(4,2);break;case"s":e=We(5,1);break;case"ss":e=We(5,2);break;case"S":e=We(6,1);break;case"SS":e=We(6,2);break;case"SSS":e=We(6,3);break;case"Z":case"ZZ":case"ZZZ":e=$h(0);break;case"ZZZZZ":e=$h(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=$h(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=$h(2);break;default:return null}return Jv[n]=e,e}function j0(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function t2(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function n2(n,e,t){let i=n.getTimezoneOffset(),o=j0(e,i);return t2(n,-1*(o-i))}function r2(n){if(D0(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return qh(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(WU))return i2(r)}let e=new Date(n);if(!D0(e))throw new F(2311,!1);return e}function i2(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function D0(n){return n instanceof Date&&!isNaN(n.valueOf())}var o2=/^(\d+)?\.((\d+)(-(\d+))?)?$/,b0=22,Gh=".",nu="0",s2=";",a2=",",Xv="#";function c2(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=$n(t,$t.Infinity);else{let l=d2(n);s&&(l=l2(l));let h=e.minInt,p=e.minFrac,g=e.maxFrac;if(o){let V=o.match(o2);if(V===null)throw new F(2306,!1);let H=V[1],K=V[3],be=V[5];H!=null&&(h=e_(H)),K!=null&&(p=e_(K)),be!=null?g=e_(be):K!=null&&p>g&&(g=p)}h2(l,p,g);let m=l.digits,w=l.integerLen,N=l.exponent,S=[];for(c=m.every(V=>!V);w<h;w++)m.unshift(0);for(;w<0;w++)m.unshift(0);w>0?S=m.splice(w,m.length):(S=m,m=[0]);let M=[];for(m.length>=e.lgSize&&M.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)M.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&M.unshift(m.join("")),a=M.join($n(t,r)),S.length&&(a+=$n(t,i)+S.join("")),N&&(a+=$n(t,$t.Exponential)+"+"+N)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function U0(n,e,t){let r=x0(e,t_.Decimal),i=u2(r,$n(e,$t.MinusSign));return c2(n,i,e,$t.Group,$t.Decimal,t)}function u2(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(s2),i=r[0],o=r[1],s=i.indexOf(Gh)!==-1?i.split(Gh):[i.substring(0,i.lastIndexOf(nu)+1),i.substring(i.lastIndexOf(nu)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(Xv));for(let h=0;h<c.length;h++){let p=c.charAt(h);p===nu?t.minFrac=t.maxFrac=h+1:p===Xv?t.maxFrac=h+1:t.posSuf+=p}let l=a.split(a2);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(Xv);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function l2(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function d2(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Gh))>-1&&(e=e.replace(Gh,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===nu;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===nu;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>b0&&(r=r.splice(0,b0-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function h2(n,e,t){if(e>t)throw new F(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=e+n.integerLen,h=r.reduceRight(function(p,g,m,w){return g=g+p,w[m]=g<10?g:g-10,c&&(w[m]===0&&m>=l?w.pop():c=!1),g>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}function e_(n){let e=parseInt(n);if(isNaN(e))throw new F(2305,!1);return e}var Wh=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},B0=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Wh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),C0(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);C0(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ae(wr),ae(ci),ae(Wv))};static \u0275dir=it({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function C0(n,e){n.context.$implicit=e.item}var f2=(()=>{class n{_viewContainer;_context=new Kh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){S0(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){S0(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ae(wr),ae(ci))};static \u0275dir=it({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Kh=class{$implicit=null;ngIf=null};function S0(n,e){if(n&&!n.createEmbeddedView)throw new F(2020,!1)}function n_(n,e){return new F(2100,!1)}var p2="mediumDate",$0=new j(""),H0=new j(""),g2=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??p2,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return L0(t,s,o||this.locale,a)}catch(s){throw n_(n,s.message)}}static \u0275fac=function(r){return new(r||n)(ae(Bs,16),ae($0,24),ae(H0,24))};static \u0275pipe=Wc({name:"date",type:n,pure:!0})}return n})();var m2=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!y2(t))return null;i||=this._locale;try{let o=v2(t);return U0(o,i,r)}catch(o){throw n_(n,o.message)}}static \u0275fac=function(r){return new(r||n)(ae(Bs,16))};static \u0275pipe=Wc({name:"number",type:n,pure:!0})}return n})();function y2(n){return!(n==null||n===""||n!==n)}function v2(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new F(2309,!1);return n}var _2=(()=>{class n{transform(t,r,i){if(t==null)return null;if(!(typeof t=="string"||Array.isArray(t)))throw n_(n,t);return t.slice(r,i)}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Wc({name:"slice",type:n,pure:!1})}return n})();var z0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=In({type:n});static \u0275inj=tn({})}return n})();function ru(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var To=class{};var r_="browser";function uoe(n){return n===r_}var iu=class{_doc;constructor(e){this._doc=e}manager},Qh=(()=>{class n extends iu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(z(Ge))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Zh=new j(""),c_=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Qh));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Qh);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new F(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(z(Zh),z(ye))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),i_="ng-app-id";function q0(n){for(let e of n)e.remove()}function G0(n,e){let t=e.createElement("style");return t.textContent=n,t}function I2(n,e,t,r){let i=n.head?.querySelectorAll(`style[${i_}="${e}"],link[${i_}="${e}"]`);if(i)for(let o of i)o.removeAttribute(i_),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function s_(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var u_=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,I2(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,G0);r?.forEach(i=>this.addUsage(i,this.external,s_))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(q0(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])q0(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,G0(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,s_(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(z(Ge),z(Th),z(bh,8),z(_o))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),o_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},l_=/%COMP%/g;var K0="%COMP%",w2=`_nghost-${K0}`,T2=`_ngcontent-${K0}`,D2=!0,b2=new j("",{providedIn:"root",factory:()=>D2});function C2(n){return T2.replace(l_,n)}function S2(n){return w2.replace(l_,n)}function Q0(n,e){return e.map(t=>t.replace(l_,n))}var d_=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new ou(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Yh?i.applyToHost(t):i instanceof su&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Er.Emulated:o=new Yh(c,l,r,this.appId,h,s,a,p,g);break;case Er.ShadowDom:return new a_(c,l,t,r,s,a,this.nonce,p,g);default:o=new su(c,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(z(c_),z(u_),z(Th),z(b2),z(Ge),z(ye),z(bh),z(Eo,8))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),ou=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(o_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(W0(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(W0(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new F(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=o_[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=o_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(jn.DashCase|jn.Important)?e.style.setProperty(t,r,i&jn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&jn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=cn().getGlobalEventTarget(this.doc,e),!e))throw new F(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function W0(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var a_=class extends ou{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=Q0(i.id,h);for(let g of h){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=g,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let g of p){let m=s_(g,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},su=class extends ou{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?Q0(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&po.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Yh=class extends su{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,c,l,h),this.contentAttr=C2(h),this.hostAttr=S2(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Jh=class n extends Jc{supportsDOMEvents=!0;static makeCurrent(){Kv(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=A2();return t==null?null:R2(t)}resetBaseElement(){au=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ru(document.cookie,e)}},au=null;function A2(){return au=au||document.head.querySelector("base"),au?au.getAttribute("href"):null}function R2(n){return new URL(n,document.baseURI).pathname}var N2=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Y0=["alt","control","meta","shift"],M2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},P2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Z0=(()=>{class n extends iu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Y0.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=M2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Y0.forEach(s=>{if(s!==i){let a=P2[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(z(Ge))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function x2(n,e,t){let r=O({rootComponent:n,platformRef:t?.platformRef},k2(e));return m0(r)}function k2(n){return{appProviders:[...j2,...n?.providers??[]],platformProviders:V2}}function O2(){Jh.makeCurrent()}function F2(){return new en}function L2(){return iv(document),document}var V2=[{provide:_o,useValue:r_},{provide:Dh,useValue:O2,multi:!0},{provide:Ge,useFactory:L2}];var j2=[{provide:Tc,useValue:"root"},{provide:en,useFactory:F2},{provide:Zh,useClass:Qh,multi:!0,deps:[Ge]},{provide:Zh,useClass:Z0,multi:!0,deps:[Ge]},d_,u_,c_,{provide:go,useExisting:d_},{provide:To,useClass:N2},[]];var Qs=class{},cu=class{},hi=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var ef=class{encodeKey(e){return J0(e)}encodeValue(e){return J0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function U2(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var B2=/%(\d[a-f0-9])/gi,$2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function J0(n){return encodeURIComponent(n).replace(B2,(e,t)=>$2[t]??e)}function Xh(n){return`${n}`}var Dr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new ef,e.fromString){if(e.fromObject)throw new F(2805,!1);this.map=U2(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Xh):[Xh(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Xh(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Xh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var tf=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function H2(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function X0(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function eR(n){return typeof Blob<"u"&&n instanceof Blob}function tR(n){return typeof FormData<"u"&&n instanceof FormData}function z2(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var nR="Content-Type",rR="Accept",iR="X-Request-URL",oR="text/plain",sR="application/json",q2=`${sR}, ${oR}, */*`,Ws=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(H2(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new F(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new hi,this.context??=new tf,!this.params)this.params=new Dr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||X0(this.body)||eR(this.body)||tR(this.body)||z2(this.body)?this.body:this.body instanceof Dr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||tR(this.body)?null:eR(this.body)?this.body.type||null:X0(this.body)?null:typeof this.body=="string"?oR:this.body instanceof Dr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?sR:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,l=e.redirect||this.redirect,h=e.credentials||this.credentials,p=e.referrer||this.referrer,g=e.integrity||this.integrity,m=e.transferCache??this.transferCache,w=e.timeout??this.timeout,N=e.body!==void 0?e.body:this.body,S=e.withCredentials??this.withCredentials,M=e.reportProgress??this.reportProgress,V=e.headers||this.headers,H=e.params||this.params,K=e.context??this.context;return e.setHeaders!==void 0&&(V=Object.keys(e.setHeaders).reduce((be,he)=>be.set(he,e.setHeaders[he]),V)),e.setParams&&(H=Object.keys(e.setParams).reduce((be,he)=>be.set(he,e.setParams[he]),H)),new n(t,r,N,{params:H,headers:V,context:K,reportProgress:M,responseType:i,withCredentials:S,transferCache:m,keepalive:o,cache:a,priority:s,timeout:w,mode:c,redirect:l,credentials:h,referrer:p,integrity:g})}},Do=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Do||{}),Ys=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,r="OK"){this.headers=e.headers||new hi,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},nf=class n extends Ys{constructor(e={}){super(e)}type=Do.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},uu=class n extends Ys{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Do.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},Ks=class extends Ys{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},G2=200,W2=204;function h_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var of=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ws)o=t;else{let c;i.headers instanceof hi?c=i.headers:c=new hi(i.headers);let l;i.params&&(i.params instanceof Dr?l=i.params:l=new Dr({fromObject:i.params})),o=new Ws(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=Q(o).pipe(Yr(c=>this.handler.handle(c)));if(t instanceof Ws||i.observe==="events")return s;let a=s.pipe(dt(c=>c instanceof uu));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(se(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new F(2806,!1);return c.body}));case"blob":return a.pipe(se(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new F(2807,!1);return c.body}));case"text":return a.pipe(se(c=>{if(c.body!==null&&typeof c.body!="string")throw new F(2808,!1);return c.body}));case"json":default:return a.pipe(se(c=>c.body))}case"response":return a;default:throw new F(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Dr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,h_(i,r))}post(t,r,i={}){return this.request("POST",t,h_(i,r))}put(t,r,i={}){return this.request("PUT",t,h_(i,r))}static \u0275fac=function(r){return new(r||n)(z(Qs))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var K2=new j("");function Q2(n,e){return e(n)}function Y2(n,e,t){return(r,i)=>$e(t,()=>e(r,o=>n(o,i)))}var aR=new j(""),cR=new j(""),uR=new j("",{providedIn:"root",factory:()=>!0});var rf=(()=>{class n extends Qs{backend;injector;chain=null;pendingTasks=P(_r);contributeToStability=P(uR);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(aR),...this.injector.get(cR,[])]));this.chain=r.reduceRight((i,o)=>Y2(i,o,this.injector),Q2)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Qi(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(z(cu),z(Fe))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var Z2=/^\)\]\}',?\n/,J2=RegExp(`^${iR}:`,"m");function X2(n){return"responseURL"in n&&n.responseURL?n.responseURL:J2.test(n.getAllResponseHeaders())?n.getResponseHeader(iR):null}var f_=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new F(-2800,!1);let r=this.xhrFactory;return Q(null).pipe(It(()=>new ee(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((S,M)=>s.setRequestHeader(S,M.join(","))),t.headers.has(rR)||s.setRequestHeader(rR,q2),!t.headers.has(nR)){let S=t.detectContentTypeHeader();S!==null&&s.setRequestHeader(nR,S)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let S=t.responseType.toLowerCase();s.responseType=S!=="json"?S:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let S=s.statusText||"OK",M=new hi(s.getAllResponseHeaders()),V=X2(s)||t.url;return c=new nf({headers:M,status:s.status,statusText:S,url:V}),c},h=()=>{let{headers:S,status:M,statusText:V,url:H}=l(),K=null;M!==W2&&(K=typeof s.response>"u"?s.responseText:s.response),M===0&&(M=K?G2:0);let be=M>=200&&M<300;if(t.responseType==="json"&&typeof K=="string"){let he=K;K=K.replace(Z2,"");try{K=K!==""?JSON.parse(K):null}catch(D){K=he,be&&(be=!1,K={error:D,text:K})}}be?(o.next(new uu({body:K,headers:S,status:M,statusText:V,url:H||void 0})),o.complete()):o.error(new Ks({error:K,headers:S,status:M,statusText:V,url:H||void 0}))},p=S=>{let{url:M}=l(),V=new Ks({error:S,status:s.status||0,statusText:s.statusText||"Unknown Error",url:M||void 0});o.error(V)},g=p;t.timeout&&(g=S=>{let{url:M}=l(),V=new Ks({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:M||void 0});o.error(V)});let m=!1,w=S=>{m||(o.next(l()),m=!0);let M={type:Do.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(M.total=S.total),t.responseType==="text"&&s.responseText&&(M.partialText=s.responseText),o.next(M)},N=S=>{let M={type:Do.UploadProgress,loaded:S.loaded};S.lengthComputable&&(M.total=S.total),o.next(M)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",g),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",w),a!==null&&s.upload&&s.upload.addEventListener("progress",N)),s.send(a),o.next({type:Do.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",g),t.reportProgress&&(s.removeEventListener("progress",w),a!==null&&s.upload&&s.upload.removeEventListener("progress",N)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(z(To))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),lR=new j(""),eB="XSRF-TOKEN",tB=new j("",{providedIn:"root",factory:()=>eB}),nB="X-XSRF-TOKEN",rB=new j("",{providedIn:"root",factory:()=>nB}),lu=class{},iB=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ru(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(z(Ge),z(tB))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),oB=/^(?:https?:)?\/\//i;function sB(n,e){if(!P(lR)||n.method==="GET"||n.method==="HEAD"||oB.test(n.url))return e(n);let t=P(lu).getToken(),r=P(rB);return t!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,t)})),e(n)}function aB(...n){let e=[of,f_,rf,{provide:Qs,useExisting:rf},{provide:cu,useFactory:()=>P(K2,{optional:!0})??P(f_)},{provide:aR,useValue:sB,multi:!0},{provide:lR,useValue:!0},{provide:lu,useClass:iB}];for(let t of n)e.push(...t.\u0275providers);return Mt(e)}var dR=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(z(Ge))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ne="primary",bu=Symbol("RouteTitle"),v_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function So(n){return new v_(n)}function _R(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function lB(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Hn(n[t],e[t]))return!1;return!0}function Hn(n,e){let t=n?__(n):void 0,r=e?__(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!ER(n[i],e[i]))return!1;return!0}function __(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function ER(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function IR(n){return n.length>0?n[n.length-1]:null}function Sr(n){return am(n)?n:ui(n)?Ne(Promise.resolve(n)):Q(n)}var dB={exact:TR,subset:DR},wR={exact:hB,subset:fB,ignored:()=>!0};function hR(n,e,t){return dB[t.paths](n.root,e.root,t.matrixParams)&&wR[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function hB(n,e){return Hn(n,e)}function TR(n,e,t){if(!bo(n.segments,e.segments)||!cf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!TR(n.children[r],e.children[r],t))return!1;return!0}function fB(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ER(n[t],e[t]))}function DR(n,e,t){return bR(n,e,e.segments,t)}function bR(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!bo(i,t)||e.hasChildren()||!cf(i,t,r))}else if(n.segments.length===t.length){if(!bo(n.segments,t)||!cf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!DR(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!bo(n.segments,i)||!cf(n.segments,i,r)||!n.children[ne]?!1:bR(n.children[ne],e,o,r)}}function cf(n,e,t){return e.every((r,i)=>wR[t](n[i].parameters,r.parameters))}var qn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ve([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=So(this.queryParams),this._queryParamMap}toString(){return mB.serialize(this)}},ve=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uf(this)}},fi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=So(this.parameters),this._parameterMap}toString(){return SR(this)}};function pB(n,e){return bo(n,e)&&n.every((t,r)=>Hn(t.parameters,e[r].parameters))}function bo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function gB(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ne&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ne&&(t=t.concat(e(i,r)))}),t}var Cu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new Ao,providedIn:"root"})}return n})(),Ao=class{parse(e){let t=new I_(e);return new qn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${du(e.root,!0)}`,r=_B(e.queryParams),i=typeof e.fragment=="string"?`#${yB(e.fragment)}`:"";return`${t}${r}${i}`}},mB=new Ao;function uf(n){return n.segments.map(e=>SR(e)).join("/")}function du(n,e){if(!n.hasChildren())return uf(n);if(e){let t=n.children[ne]?du(n.children[ne],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ne&&r.push(`${i}:${du(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=gB(n,(r,i)=>i===ne?[du(n.children[ne],!1)]:[`${i}:${du(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ne]!=null?`${uf(n)}/${t[0]}`:`${uf(n)}/(${t.join("//")})`}}function CR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sf(n){return CR(n).replace(/%3B/gi,";")}function yB(n){return encodeURI(n)}function E_(n){return CR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lf(n){return decodeURIComponent(n)}function fR(n){return lf(n.replace(/\+/g,"%20"))}function SR(n){return`${E_(n.path)}${vB(n.parameters)}`}function vB(n){return Object.entries(n).map(([e,t])=>`;${E_(e)}=${E_(t)}`).join("")}function _B(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${sf(t)}=${sf(i)}`).join("&"):`${sf(t)}=${sf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var EB=/^[^\/()?;#]+/;function p_(n){let e=n.match(EB);return e?e[0]:""}var IB=/^[^\/()?;=#]+/;function wB(n){let e=n.match(IB);return e?e[0]:""}var TB=/^[^=?&#]+/;function DB(n){let e=n.match(TB);return e?e[0]:""}var bB=/^[^&#]+/;function CB(n){let e=n.match(bB);return e?e[0]:""}var I_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ne]=new ve(e,t)),r}parseSegment(){let e=p_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new fi(lf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=wB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=p_(this.remaining);i&&(r=i,this.capture(r))}e[lf(t)]=lf(r)}parseQueryParam(e){let t=DB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=CB(this.remaining);s&&(r=s,this.capture(r))}let i=fR(t),o=fR(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=p_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new F(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ne);let s=this.parseChildren();t[o??ne]=Object.keys(s).length===1&&s[ne]?s[ne]:new ve([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}};function AR(n){return n.segments.length>0?new ve([],{[ne]:n}):n}function RR(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=RR(i);if(r===ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ve(n.segments,e);return SB(t)}function SB(n){if(n.numberOfChildren===1&&n.children[ne]){let e=n.children[ne];return new ve(n.segments.concat(e.segments),e.children)}return n}function pi(n){return n instanceof qn}function NR(n,e,t=null,r=null){let i=MR(n);return PR(i,e,t,r)}function MR(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new ve(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=AR(r);return e??i}function PR(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return g_(i,i,i,t,r);let o=AB(e);if(o.toRoot())return g_(i,i,new ve([],{}),t,r);let s=RB(o,i,n),a=s.processChildren?fu(s.segmentGroup,s.index,o.commands):kR(s.segmentGroup,s.index,o.commands);return g_(i,s.segmentGroup,a,t,r)}function df(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function mu(n){return typeof n=="object"&&n!=null&&n.outlets}function g_(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=xR(n,e,t);let a=AR(RR(s));return new qn(a,o,i)}function xR(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=xR(o,e,t)}),new ve(n.segments,r)}var hf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&df(r[0]))throw new F(4003,!1);let i=r.find(mu);if(i&&i!==IR(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function AB(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new hf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new hf(t,e,r)}var Xs=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function RB(n,e,t){if(n.isAbsolute)return new Xs(e,!0,0);if(!t)return new Xs(e,!1,NaN);if(t.parent===null)return new Xs(t,!0,0);let r=df(n.commands[0])?0:1,i=t.segments.length-1+r;return NB(t,i,n.numberOfDoubleDots)}function NB(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new F(4005,!1);i=r.segments.length}return new Xs(r,!1,i-o)}function MB(n){return mu(n[0])?n[0].outlets:{[ne]:n}}function kR(n,e,t){if(n??=new ve([],{}),n.segments.length===0&&n.hasChildren())return fu(n,e,t);let r=PB(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ve(n.segments.slice(0,r.pathIndex),{});return o.children[ne]=new ve(n.segments.slice(r.pathIndex),n.children),fu(o,0,i)}else return r.match&&i.length===0?new ve(n.segments,{}):r.match&&!n.hasChildren()?w_(n,e,t):r.match?fu(n,0,i):w_(n,e,t)}function fu(n,e,t){if(t.length===0)return new ve(n.segments,{});{let r=MB(t),i={};if(Object.keys(r).some(o=>o!==ne)&&n.children[ne]&&n.numberOfChildren===1&&n.children[ne].segments.length===0){let o=fu(n.children[ne],e,t);return new ve(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=kR(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ve(n.segments,i)}}function PB(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(mu(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!gR(c,l,s))return o;r+=2}else{if(!gR(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function w_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(mu(o)){let c=xB(o.outlets);return new ve(r,c)}if(i===0&&df(t[0])){let c=n.segments[e];r.push(new fi(c.path,pR(t[0]))),i++;continue}let s=mu(o)?o.outlets[ne]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&df(a)?(r.push(new fi(s,pR(a))),i+=2):(r.push(new fi(s,{})),i++)}return new ve(r,{})}function xB(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=w_(new ve([],{}),0,r))}),e}function pR(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function gR(n,e,t){return n==t.path&&Hn(e,t.parameters)}var pu="imperative",st=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(st||{}),Yt=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ro=class extends Yt{type=st.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Gn=class extends Yt{urlAfterRedirects;type=st.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ft=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Ft||{}),yu=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(yu||{}),zn=class extends Yt{reason;code;type=st.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},br=class extends Yt{reason;code;type=st.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ta=class extends Yt{error;target;type=st.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},vu=class extends Yt{urlAfterRedirects;state;type=st.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ff=class extends Yt{urlAfterRedirects;state;type=st.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pf=class extends Yt{urlAfterRedirects;state;shouldActivate;type=st.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},gf=class extends Yt{urlAfterRedirects;state;type=st.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mf=class extends Yt{urlAfterRedirects;state;type=st.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yf=class{route;type=st.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},vf=class{route;type=st.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},_f=class{snapshot;type=st.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ef=class{snapshot;type=st.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},If=class{snapshot;type=st.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wf=class{snapshot;type=st.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var _u=class{},na=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function kB(n){return!(n instanceof _u)&&!(n instanceof na)}function OB(n,e){return n.providers&&!n._injector&&(n._injector=Gc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Dn(n){return n.outlet||ne}function FB(n,e){let t=n.filter(r=>Dn(r)===e);return t.push(...n.filter(r=>Dn(r)!==e)),t}function oa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Tf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return oa(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new sa(this.rootInjector)}},sa=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Tf(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(z(Fe))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Df=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=T_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=T_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=D_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return D_(e,this._root).map(t=>t.value)}};function T_(n,e){if(n===e.value)return e;for(let t of e.children){let r=T_(n,t);if(r)return r}return null}function D_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=D_(n,t);if(r.length)return r.unshift(e),r}return[]}var Qt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Js(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Eu=class extends Df{snapshot;constructor(e,t){super(e),this.snapshot=t,P_(this,e)}toString(){return this.snapshot.toString()}};function OR(n){let e=LB(n),t=new Xe([new fi("",{})]),r=new Xe({}),i=new Xe({}),o=new Xe({}),s=new Xe(""),a=new Cr(t,r,o,s,i,ne,n,e.root);return a.snapshot=e.root,new Eu(new Qt(a,[]),e)}function LB(n){let e={},t={},r={},o=new Co([],e,r,"",t,ne,n,null,{});return new Iu("",new Qt(o,[]))}var Cr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(se(l=>l[bu]))??Q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>So(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>So(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function bf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),n.params),data:O(O({},e.data),n.data),resolve:O(O(O(O({},n.data),e.data),i?.data),n._resolvedData)}:r={params:O({},n.params),data:O({},n.data),resolve:O(O({},n.data),n._resolvedData??{})},i&&LR(i)&&(r.resolve[bu]=i.title),r}var Co=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[bu]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=So(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=So(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Iu=class extends Df{url;constructor(e,t){super(t),this.url=e,P_(this,t)}toString(){return FR(this._root)}};function P_(n,e){e.value._routerState=n,e.children.forEach(t=>P_(n,t))}function FR(n){let e=n.children.length>0?` { ${n.children.map(FR).join(", ")} } `:"";return`${n.value}${e}`}function m_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Hn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Hn(e.params,t.params)||n.paramsSubject.next(t.params),lB(e.url,t.url)||n.urlSubject.next(t.url),Hn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function b_(n,e){let t=Hn(n.params,e.params)&&pB(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||b_(n.parent,e.parent))}function LR(n){return typeof n.title=="string"||n.title===null}var VR=new j(""),x_=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ne;activateEvents=new ze;deactivateEvents=new ze;attachEvents=new ze;detachEvents=new ze;routerOutletData=g0();parentContexts=P(sa);location=P(wr);changeDetector=P(Hs);inputBinder=P(Rf,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new C_(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=it({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Un]})}return n})(),C_=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Cr?this.route:e===sa?this.childContexts:e===VR?this.outletData:this.parent.get(e,t)}},Rf=new j("");var k_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Av({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Fh(0,"router-outlet")},dependencies:[x_],encapsulation:2})}return n})();function O_(n){let e=n.children&&n.children.map(O_),t=e?te(O({},n),{children:e}):O({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ne&&(t.component=k_),t}function VB(n,e,t){let r=wu(n,e._root,t?t._root:void 0);return new Eu(r,e)}function wu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=jB(n,e,t);return new Qt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>wu(n,a)),s}}let r=UB(e.value),i=e.children.map(o=>wu(n,o));return new Qt(r,i)}}function jB(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return wu(n,r,i);return wu(n,r)})}function UB(n){return new Cr(new Xe(n.url),new Xe(n.params),new Xe(n.queryParams),new Xe(n.fragment),new Xe(n.data),n.outlet,n.component,n)}var ra=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},jR="ngNavigationCancelingError";function Cf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=pi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=UR(!1,Ft.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function UR(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[jR]=!0,t.cancellationCode=e,t}function BB(n){return BR(n)&&pi(n.url)}function BR(n){return!!n&&n[jR]}var $B=(n,e,t,r)=>se(i=>(new S_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),S_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),m_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Js(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Js(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Js(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Js(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new wf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ef(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(m_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),m_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Sf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ea=class{component;route;constructor(e,t){this.component=e,this.route=t}};function HB(n,e,t){let r=n._root,i=e?e._root:null;return hu(r,i,t,[r.value])}function zB(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function aa(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!bm(n)?n:e.get(n):r}function hu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Js(e);return n.children.forEach(s=>{qB(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>gu(a,t.getContext(s),i)),i}function qB(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=GB(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Sf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?hu(n,e,a?a.children:null,r,i):hu(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ea(a.outlet.component,s))}else s&&gu(e,a,i),i.canActivateChecks.push(new Sf(r)),o.component?hu(n,null,a?a.children:null,r,i):hu(n,null,t,r,i);return i}function GB(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!bo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!bo(n.url,e.url)||!Hn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!b_(n,e)||!Hn(n.queryParams,e.queryParams);case"paramsChange":default:return!b_(n,e)}}function gu(n,e,t){let r=Js(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?gu(s,e.children.getContext(o),t):gu(s,null,t):gu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ea(e.outlet.component,i)):t.canDeactivateChecks.push(new ea(null,i)):t.canDeactivateChecks.push(new ea(null,i))}function Su(n){return typeof n=="function"}function WB(n){return typeof n=="boolean"}function KB(n){return n&&Su(n.canLoad)}function QB(n){return n&&Su(n.canActivate)}function YB(n){return n&&Su(n.canActivateChild)}function ZB(n){return n&&Su(n.canDeactivate)}function JB(n){return n&&Su(n.canMatch)}function $R(n){return n instanceof ar||n?.name==="EmptyError"}var af=Symbol("INITIAL_VALUE");function ia(){return It(n=>Ed(n.map(e=>e.pipe(cr(1),Dd(af)))).pipe(se(e=>{for(let t of e)if(t!==!0){if(t===af)return af;if(t===!1||XB(t))return t}return!0}),dt(e=>e!==af),cr(1)))}function XB(n){return pi(n)||n instanceof ra}function e$(n,e){return et(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Q(te(O({},t),{guardsResult:!0})):t$(s,r,i,n).pipe(et(a=>a&&WB(a)?n$(r,o,n,e):Q(a)),se(a=>te(O({},t),{guardsResult:a})))})}function t$(n,e,t,r){return Ne(n).pipe(et(i=>a$(i.component,i.route,t,e,r)),ur(i=>i!==!0,!0))}function n$(n,e,t,r){return Ne(e).pipe(Yr(i=>Es(i$(i.route.parent,r),r$(i.route,r),s$(n,i.path,t),o$(n,i.route,t))),ur(i=>i!==!0,!0))}function r$(n,e){return n!==null&&e&&e(new If(n)),Q(!0)}function i$(n,e){return n!==null&&e&&e(new _f(n)),Q(!0)}function o$(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>mc(()=>{let s=oa(e)??t,a=aa(o,s),c=QB(a)?a.canActivate(e,n):$e(s,()=>a(e,n));return Sr(c).pipe(ur())}));return Q(i).pipe(ia())}function s$(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>zB(s)).filter(s=>s!==null).map(s=>mc(()=>{let a=s.guards.map(c=>{let l=oa(s.node)??t,h=aa(c,l),p=YB(h)?h.canActivateChild(r,n):$e(l,()=>h(r,n));return Sr(p).pipe(ur())});return Q(a).pipe(ia())}));return Q(o).pipe(ia())}function a$(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(a=>{let c=oa(e)??i,l=aa(a,c),h=ZB(l)?l.canDeactivate(n,e,t,r):$e(c,()=>l(n,e,t,r));return Sr(h).pipe(ur())});return Q(s).pipe(ia())}function c$(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let o=i.map(s=>{let a=aa(s,n),c=KB(a)?a.canLoad(e,t):$e(n,()=>a(e,t));return Sr(c)});return Q(o).pipe(ia(),HR(r))}function HR(n){return ed(rt(e=>{if(typeof e!="boolean")throw Cf(n,e)}),se(e=>e===!0))}function u$(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let a=aa(s,n),c=JB(a)?a.canMatch(e,t):$e(n,()=>a(e,t));return Sr(c)});return Q(o).pipe(ia(),HR(r))}var Tu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Du=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Zs(n){return _s(new Tu(n))}function l$(n){return _s(new F(4e3,!1))}function d$(n){return _s(UR(!1,Ft.GuardRejected))}var A_=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[ne])return l$(`${e.redirectTo}`);i=i.children[ne]}}applyRedirectCommands(e,t,r,i,o){return h$(t,i,o).pipe(se(s=>{if(s instanceof qn)throw new Du(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Du(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new qn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new ve(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new F(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function h$(n,e,t){if(typeof n=="string")return Q(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:h,title:p}=e;return Sr($e(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:p})))}var R_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function f$(n,e,t,r,i){let o=zR(n,e,t);return o.matched?(r=OB(e,r),u$(r,e,t,i).pipe(se(s=>s===!0?o:O({},R_)))):Q(o)}function zR(n,e,t){if(e.path==="**")return p$(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?O({},R_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||_R)(t,n,e);if(!i)return O({},R_);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function p$(n){return{matched:!0,parameters:n.length>0?IR(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function mR(n,e,t,r){return t.length>0&&y$(n,t,r)?{segmentGroup:new ve(e,m$(r,new ve(t,n.children))),slicedSegments:[]}:t.length===0&&v$(n,t,r)?{segmentGroup:new ve(n.segments,g$(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ve(n.segments,n.children),slicedSegments:t}}function g$(n,e,t,r){let i={};for(let o of t)if(Nf(n,e,o)&&!r[Dn(o)]){let s=new ve([],{});i[Dn(o)]=s}return O(O({},r),i)}function m$(n,e){let t={};t[ne]=e;for(let r of n)if(r.path===""&&Dn(r)!==ne){let i=new ve([],{});t[Dn(r)]=i}return t}function y$(n,e,t){return t.some(r=>Nf(n,e,r)&&Dn(r)!==ne)}function v$(n,e,t){return t.some(r=>Nf(n,e,r))}function Nf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function _$(n,e,t){return e.length===0&&!n.children[t]}var N_=class{};function E$(n,e,t,r,i,o,s="emptyOnly"){return new M_(n,e,t,r,i,s,o).recognize()}var I$=31,M_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new A_(this.urlSerializer,this.urlTree)}noMatchError(e){return new F(4002,`'${e.segmentGroup}'`)}recognize(){let e=mR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:t,rootSnapshot:r})=>{let i=new Qt(r,t),o=new Iu("",i),s=NR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Co([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ne,t).pipe(se(r=>({children:r,rootSnapshot:t})),Qr(r=>{if(r instanceof Du)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Tu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(se(s=>s instanceof Qt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ne(o).pipe(Yr(s=>{let a=r.children[s],c=FB(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Td((s,a)=>(s.push(...a),s)),Zr(null),lm(),et(s=>{if(s===null)return Zs(r);let a=qR(s);return w$(a),Q(a)}))}processSegment(e,t,r,i,o,s,a){return Ne(t).pipe(Yr(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(Qr(l=>{if(l instanceof Tu)return Q(null);throw l}))),ur(c=>!!c),Qr(c=>{if($R(c))return _$(r,i,o)?Q(new N_):Zs(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Dn(r)!==s&&(s===ne||!Nf(i,o,r))?Zs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Zs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=zR(t,i,o);if(!c)return Zs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>I$&&(this.allowRedirects=!1));let m=new Co(o,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,yR(i),Dn(i),i.component??i._loadedComponent??null,i,vR(i)),w=bf(m,a,this.paramsInheritanceStrategy);return m.params=Object.freeze(w.params),m.data=Object.freeze(w.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,m,e).pipe(It(S=>this.applyRedirects.lineralizeSegments(i,S)),et(S=>this.processSegment(e,r,t,S.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=f$(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(It(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(It(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:m}=c,w=new Co(g,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,yR(r),Dn(r),r.component??r._loadedComponent??null,r,vR(r)),N=bf(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data);let{segmentGroup:S,slicedSegments:M}=mR(t,g,m,l);if(M.length===0&&S.hasChildren())return this.processChildren(h,l,S,w).pipe(se(H=>new Qt(w,H)));if(l.length===0&&M.length===0)return Q(new Qt(w,[]));let V=Dn(r)===o;return this.processSegment(h,l,S,M,V?ne:o,!0,w).pipe(se(H=>new Qt(w,H instanceof Qt?[H]:[])))}))):Zs(t)))}getChildConfig(e,t,r){return t.children?Q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Q({routes:t._loadedRoutes,injector:t._loadedInjector}):c$(e,t,r,this.urlSerializer).pipe(et(i=>i?this.configLoader.loadChildren(e,t).pipe(rt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):d$(t))):Q({routes:[],injector:e})}};function w$(n){n.sort((e,t)=>e.value.outlet===ne?-1:t.value.outlet===ne?1:e.value.outlet.localeCompare(t.value.outlet))}function T$(n){let e=n.value.routeConfig;return e&&e.path===""}function qR(n){let e=[],t=new Set;for(let r of n){if(!T$(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=qR(r.children);e.push(new Qt(r.value,i))}return e.filter(r=>!t.has(r))}function yR(n){return n.data||{}}function vR(n){return n.resolve||{}}function D$(n,e,t,r,i,o){return et(s=>E$(n,e,t,r,s.extractedUrl,i,o).pipe(se(({state:a,tree:c})=>te(O({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function b$(n,e){return et(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Q(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of GR(c))s.add(l);let a=0;return Ne(s).pipe(Yr(c=>o.has(c)?C$(c,r,n,e):(c.data=bf(c,c.parent,n).resolve,Q(void 0))),rt(()=>a++),Is(1),et(c=>a===s.size?Q(t):Et))})}function GR(n){let e=n.children.map(t=>GR(t)).flat();return[n,...e]}function C$(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!LR(i)&&(o[bu]=i.title),mc(()=>(n.data=bf(n,n.parent,t).resolve,S$(o,n,e,r).pipe(se(s=>(n._resolvedData=s,n.data=O(O({},n.data),s),null)))))}function S$(n,e,t,r){let i=__(n);if(i.length===0)return Q({});let o={};return Ne(i).pipe(et(s=>A$(n[s],e,t,r).pipe(ur(),rt(a=>{if(a instanceof ra)throw Cf(new Ao,a);o[s]=a}))),Is(1),se(()=>o),Qr(s=>$R(s)?Et:_s(s)))}function A$(n,e,t,r){let i=oa(e)??r,o=aa(n,i),s=o.resolve?o.resolve(e,t):$e(i,()=>o(e,t));return Sr(s)}function y_(n){return It(e=>{let t=n(e);return t?Ne(t).pipe(se(()=>e)):Q(e)})}var F_=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ne);return r}getResolvedTitleForRoute(t){return t.data[bu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(WR),providedIn:"root"})}return n})(),WR=(()=>{class n extends F_{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(z(dR))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ca=new j("",{providedIn:"root",factory:()=>({})}),Au=new j(""),KR=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(Lv);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Sr($e(t,()=>r.loadComponent())).pipe(se(YR),It(ZR),rt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Qi(()=>{this.componentLoaders.delete(r)})),o=new gs(i,()=>new Re).pipe(ps());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=QR(r,this.compiler,t,this.onLoadEndListener).pipe(Qi(()=>{this.childrenLoaders.delete(r)})),s=new gs(o,()=>new Re).pipe(ps());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QR(n,e,t,r){return Sr($e(t,()=>n.loadChildren())).pipe(se(YR),It(ZR),et(i=>i instanceof kh||Array.isArray(i)?Q(i):Ne(e.compileModuleAsync(i))),se(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Au,[],{optional:!0,self:!0}).flat()),{routes:s.map(O_),injector:o}}))}function R$(n){return n&&typeof n=="object"&&"default"in n}function YR(n){return R$(n)?n.default:n}function ZR(n){return Q(n)}var Mf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(N$),providedIn:"root"})}return n})(),N$=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JR=new j("");var XR=new j(""),eN=(()=>{class n{currentNavigation=Wt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Re;transitionAbortWithErrorSubject=new Re;configLoader=P(KR);environmentInjector=P(Fe);destroyRef=P(Gt);urlSerializer=P(Cu);rootContexts=P(sa);location=P(Gs);inputBindingEnabled=P(Rf,{optional:!0})!==null;titleStrategy=P(F_);options=P(ca,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(Mf);createViewTransition=P(JR,{optional:!0});navigationErrorHandler=P(XR,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new yf(i)),r=i=>this.events.next(new vf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;ot(()=>{this.transitions?.next(te(O({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new Xe(null),this.transitions.pipe(dt(r=>r!==null),It(r=>{let i=!1;return Q(r).pipe(It(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ft.SupersededByNewNavigation),Et;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?te(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new br(o.id,this.urlSerializer.serialize(o.rawUrl),"",yu.IgnoredSameUrlNavigation)),o.resolve(!1),Et;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Q(o).pipe(It(c=>(this.events.next(new Ro(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Et:Promise.resolve(c))),D$(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),rt(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=c.urlAfterRedirects,h));let l=new vu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:h,restoredState:p,extras:g}=o,m=new Ro(c,this.urlSerializer.serialize(l),h,p);this.events.next(m);let w=OR(this.rootComponentType).snapshot;return this.currentTransition=r=te(O({},o),{targetSnapshot:w,urlAfterRedirects:l,extras:te(O({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(N=>(N.finalUrl=l,N)),Q(r)}else return this.events.next(new br(o.id,this.urlSerializer.serialize(o.extractedUrl),"",yu.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Et}),rt(o=>{let s=new ff(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),se(o=>(this.currentTransition=r=te(O({},o),{guards:HB(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),e$(this.environmentInjector,o=>this.events.next(o)),rt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Cf(this.urlSerializer,o.guardsResult);let s=new pf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),dt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Ft.GuardRejected),!1)),y_(o=>{if(o.guards.canActivateChecks.length!==0)return Q(o).pipe(rt(s=>{let a=new gf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),It(s=>{let a=!1;return Q(s).pipe(b$(this.paramsInheritanceStrategy,this.environmentInjector),rt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ft.NoDataFromResolver)}}))}),rt(s=>{let a=new mf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),y_(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let l=oa(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(rt(h=>{a.component=h}),se(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return Ed(s(o.targetSnapshot.root)).pipe(Zr(null),cr(1))}),y_(()=>this.afterPreactivation()),It(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Ne(a).pipe(se(()=>r)):Q(r)}),se(o=>{let s=VB(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=te(O({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),rt(()=>{this.events.next(new _u)}),$B(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),cr(1),bd(new ee(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(dt(()=>!i&&!r.targetRouterState),rt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ft.Aborted)}))),rt({next:o=>{i=!0,this.lastSuccessfulNavigation=ot(this.currentNavigation),this.events.next(new Gn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),bd(this.transitionAbortWithErrorSubject.pipe(rt(o=>{throw o}))),Qi(()=>{i||this.cancelNavigationTransition(r,"",Ft.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Qr(o=>{if(this.destroyed)return r.resolve(!1),Et;if(i=!0,BR(o))this.events.next(new zn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),BB(o)?this.events.next(new na(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new ta(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=$e(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof ra){let{message:c,cancellationCode:l}=Cf(this.urlSerializer,a);this.events.next(new zn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new na(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Et}))}))}cancelNavigationTransition(t,r,i){let o=new zn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=ot(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function M$(n){return n!==pu}var tN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(P$),providedIn:"root"})}return n})(),Af=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},P$=(()=>{class n extends Af{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Vs(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nN=(()=>{class n{urlSerializer=P(Cu);options=P(ca,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(Gs);urlHandlingStrategy=P(Mf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new qn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof qn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=OR(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(x$),providedIn:"root"})}return n})(),x$=(()=>{class n extends nN{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ro?this.updateStateMemento():t instanceof br?this.commitTransition(r):t instanceof vu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof _u?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof zn&&t.code!==Ft.SupersededByNewNavigation&&t.code!==Ft.Redirect?this.restoreHistory(r):t instanceof ta?this.restoreHistory(r,!0):t instanceof Gn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=O(O({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=O(O({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Vs(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function L_(n,e){n.events.pipe(dt(t=>t instanceof Gn||t instanceof zn||t instanceof ta||t instanceof br),se(t=>t instanceof Gn||t instanceof br?0:(t instanceof zn?t.code===Ft.Redirect||t.code===Ft.SupersededByNewNavigation:!1)?2:1),dt(t=>t!==2),cr(1)).subscribe(()=>{e()})}var k$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},O$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ru=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(Rv);stateManager=P(nN);options=P(ca,{optional:!0})||{};pendingTasks=P(Ln);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(eN);urlSerializer=P(Cu);location=P(Gs);urlHandlingStrategy=P(Mf);injector=P(Fe);_events=new Re;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(tN);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(Au,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(Rf,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Oe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=ot(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof zn&&r.code!==Ft.Redirect&&r.code!==Ft.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Gn)this.navigated=!0;else if(r instanceof na){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||M$(i.source)},s);this.scheduleNavigation(a,pu,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}kB(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),pu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=O({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(kt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return ot(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(O_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=MR(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return PR(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=pi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,pu,null,r)}navigate(t,r={skipLocationChange:!1}){return F$(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(ei(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=O({},k$):r===!1?i=O({},O$):i=r,pi(t))return hR(this.currentUrlTree,t,i);let o=this.parseUrl(t);return hR(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,c=g});let h=this.pendingTasks.add();return L_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function F$(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new F(4008,!1)}var rN=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Wt(null);get href(){return ot(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Re;applicationErrorHandler=P(kt);options=P(ca,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(P(new Vh("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Gn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(pi(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:pi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(ae(Ru),ae(Cr),Uc("tabindex"),ae(Io),ae(En),ae(qs))};static \u0275dir=it({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&wo("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Kc("href",i.reactiveHref(),sv)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",zs],skipLocationChange:[2,"skipLocationChange","skipLocationChange",zs],replaceUrl:[2,"replaceUrl","replaceUrl",zs],routerLink:"routerLink"},features:[Un]})}return n})();var V$=new j("");function j$(n,...e){return Mt([{provide:Au,multi:!0,useValue:n},[],{provide:Cr,useFactory:U$,deps:[Ru]},{provide:Oh,multi:!0,useFactory:B$},e.map(t=>t.\u0275providers)])}function U$(n){return n.routerState.root}function B$(){let n=P(Le);return e=>{let t=n.get(li);if(e!==t.components[0])return;let r=n.get(Ru),i=n.get($$);n.get(H$)===1&&r.initialNavigation(),n.get(z$,null,{optional:!0})?.setUpPreloading(),n.get(V$,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var $$=new j("",{factory:()=>new Re}),H$=new j("",{providedIn:"root",factory:()=>1});var z$=new j("");var hN=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(ae(Io),ae(En))};static \u0275dir=it({type:n})}return n})(),q$=(()=>{class n extends hN{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Vs(n)))(i||n)}})();static \u0275dir=it({type:n,features:[Bn]})}return n})(),H_=new j("");var G$={provide:H_,useExisting:fr(()=>fN),multi:!0};function W$(){let n=cn()?cn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var K$=new j(""),fN=(()=>{class n extends hN{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!W$())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(ae(Io),ae(En),ae(K$,8))};static \u0275dir=it({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&wo("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Us([G$]),Bn]})}return n})();var z_=new j(""),q_=new j("");function pN(n){return n!=null}function gN(n){return ui(n)?Ne(n):n}function mN(n){let e={};return n.forEach(t=>{e=t!=null?O(O({},e),t):e}),Object.keys(e).length===0?null:e}function yN(n,e){return e.map(t=>t(n))}function Q$(n){return!n.validate}function vN(n){return n.map(e=>Q$(e)?e:t=>e.validate(t))}function Y$(n){if(!n)return null;let e=n.filter(pN);return e.length==0?null:function(t){return mN(yN(t,e))}}function _N(n){return n!=null?Y$(vN(n)):null}function Z$(n){if(!n)return null;let e=n.filter(pN);return e.length==0?null:function(t){let r=yN(t,e).map(gN);return cm(r).pipe(se(mN))}}function EN(n){return n!=null?Z$(vN(n)):null}function iN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function IN(n){return n._rawValidators}function wN(n){return n._rawAsyncValidators}function V_(n){return n?Array.isArray(n)?n:[n]:[]}function xf(n,e){return Array.isArray(n)?n.includes(e):n===e}function oN(n,e){let t=V_(e);return V_(n).forEach(i=>{xf(t,i)||t.push(i)}),t}function sN(n,e){return V_(e).filter(t=>!xf(n,t))}var kf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_N(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=EN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},No=class extends kf{name;get formDirective(){return null}get path(){return null}},Mo=class extends kf{_parent=null;name=null;valueAccessor=null},Of=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},J$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Lae=te(O({},J$),{"[class.ng-submitted]":"isSubmitted"}),Vae=(()=>{class n extends Of{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ae(Mo,2))};static \u0275dir=it({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Yc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Bn]})}return n})(),jae=(()=>{class n extends Of{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ae(No,10))};static \u0275dir=it({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Yc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Bn]})}return n})();var Nu="VALID",Pf="INVALID",ua="PENDING",Mu="DISABLED",gi=class{},Ff=class extends gi{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Pu=class extends gi{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},xu=class extends gi{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},la=class extends gi{status;source;constructor(e,t){super(),this.status=e,this.source=t}},j_=class extends gi{source;constructor(e){super(),this.source=e}},Ou=class extends gi{source;constructor(e){super(),this.source=e}};function G_(n){return(Uf(n)?n.validators:n)||null}function X$(n){return Array.isArray(n)?_N(n):n||null}function W_(n,e){return(Uf(e)?e.asyncValidators:n)||null}function eH(n){return Array.isArray(n)?EN(n):n||null}function Uf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function TN(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new F(1e3,"");if(!r[t])throw new F(1001,"")}function DN(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new F(1002,"")})}var da=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ot(this.statusReactive)}set status(e){ot(()=>this.statusReactive.set(e))}_status=$s(()=>this.statusReactive());statusReactive=Wt(void 0);get valid(){return this.status===Nu}get invalid(){return this.status===Pf}get pending(){return this.status==ua}get disabled(){return this.status===Mu}get enabled(){return this.status!==Mu}errors;get pristine(){return ot(this.pristineReactive)}set pristine(e){ot(()=>this.pristineReactive.set(e))}_pristine=$s(()=>this.pristineReactive());pristineReactive=Wt(!0);get dirty(){return!this.pristine}get touched(){return ot(this.touchedReactive)}set touched(e){ot(()=>this.touchedReactive.set(e))}_touched=$s(()=>this.touchedReactive());touchedReactive=Wt(!1);get untouched(){return!this.touched}_events=new Re;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(oN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(oN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(sN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(sN(e,this._rawAsyncValidators))}hasValidator(e){return xf(this._rawValidators,e)}hasAsyncValidator(e){return xf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(te(O({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new xu(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new xu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(te(O({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Pu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Pu(!0,r))}markAsPending(e={}){this.status=ua;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new la(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(te(O({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Mu,this.errors=null,this._forEachChild(i=>{i.disable(te(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ff(this.value,r)),this._events.next(new la(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(te(O({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Nu,this._forEachChild(r=>{r.enable(te(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(te(O({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nu||this.status===ua)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ff(this.value,t)),this._events.next(new la(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(te(O({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mu:Nu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ua,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=gN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new la(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new ze,this.statusChanges=new ze}_calculateStatus(){return this._allControlsDisabled()?Mu:this.errors?Pf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ua)?ua:this._anyControlsHaveStatus(Pf)?Pf:Nu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Pu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new xu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Uf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=X$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=eH(this._rawAsyncValidators)}},Lf=class extends da{constructor(e,t,r){super(G_(t),W_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){DN(this,!0,e),Object.keys(e).forEach(r=>{TN(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Ou(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var U_=class extends Lf{};var Bf=new j("",{providedIn:"root",factory:()=>$f}),$f="always";function bN(n,e){return[...e.path,n]}function B_(n,e,t=$f){K_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),nH(n,e),iH(n,e),rH(n,e),tH(n,e)}function aN(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),jf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Vf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function tH(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function K_(n,e){let t=IN(n);e.validator!==null?n.setValidators(iN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=wN(n);e.asyncValidator!==null?n.setAsyncValidators(iN(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Vf(e._rawValidators,i),Vf(e._rawAsyncValidators,i)}function jf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=IN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=wN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Vf(e._rawValidators,r),Vf(e._rawAsyncValidators,r),t}function nH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&CN(n,e)})}function rH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&CN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function CN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function iH(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function oH(n,e){n==null,K_(n,e)}function sH(n,e){return jf(n,e)}function SN(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function aH(n){return Object.getPrototypeOf(n.constructor)===q$}function cH(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function AN(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===fN?t=o:aH(o)?r=o:i=o}),i||r||t||null}function uH(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function cN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function uN(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var ku=class extends da{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(G_(t),W_(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Uf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(uN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Ou(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){uN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var lH=n=>n instanceof ku;var dH={provide:Mo,useExisting:fr(()=>hH)},lN=Promise.resolve(),hH=(()=>{class n extends Mo{_changeDetectorRef;callSetDisabledState;control=new ku;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ze;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=AN(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),SN(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){B_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){lN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&zs(r);lN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?bN(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(ae(No,9),ae(z_,10),ae(q_,10),ae(H_,10),ae(Hs,8),ae(Bf,8))};static \u0275dir=it({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Us([dH]),Bn,Un]})}return n})();var Bae=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=it({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var RN=new j("");var fH={provide:No,useExisting:fr(()=>pH)},pH=(()=>{class n extends No{callSetDisabledState;get submitted(){return ot(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=$s(()=>this._submittedReactive());_submittedReactive=Wt(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ze;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return B_(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){aN(t.control||null,t,!1),uH(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),cH(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new j_(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(aN(r||null,t),lH(i)&&(B_(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);oH(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&sH(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){K_(this.form,this),this._oldForm&&jf(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(ae(z_,10),ae(q_,10),ae(Bf,8))};static \u0275dir=it({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&wo("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Us([fH]),Bn,Un]})}return n})();var gH={provide:Mo,useExisting:fr(()=>mH)},mH=(()=>{class n extends Mo{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new ze;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=AN(this,o)}ngOnChanges(t){this._added||this._setUpControl(),SN(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return bN(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(ae(No,13),ae(z_,10),ae(q_,10),ae(H_,10),ae(RN,8))};static \u0275dir=it({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Us([gH]),Bn,Un]})}return n})();var NN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=In({type:n});static \u0275inj=tn({})}return n})(),$_=class extends da{constructor(e,t,r){super(G_(t),W_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){DN(this,!1,e),e.forEach((r,i)=>{TN(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Ou(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function dN(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var $ae=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return dN(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Lf(i,o)}record(t,r=null){let i=this._reduceControls(t);return new U_(i,r)}control(t,r,i){let o={};return this.useNonNullable?(dN(r)?o=r:(o.validators=r,o.asyncValidators=i),new ku(t,te(O({},o),{nonNullable:!0}))):new ku(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new $_(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof ku)return t;if(t instanceof da)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Hae=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Bf,useValue:t.callSetDisabledState??$f}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=In({type:n});static \u0275inj=tn({imports:[NN]})}return n})(),zae=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:RN,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Bf,useValue:t.callSetDisabledState??$f}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=In({type:n});static \u0275inj=tn({imports:[NN]})}return n})();var MN=()=>{};var kN=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},yH=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Hf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,m=l&63;c||(m=64,s||(g=64)),r.push(t[h],t[p],t[g],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(kN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):yH(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Y_;let g=o<<2|a>>4;if(r.push(g),l!==64){let m=a<<4&240|l>>2;if(r.push(m),p!==64){let w=l<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Y_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},vH=function(n){let e=kN(n);return Hf.encodeByteArray(e,!0)},Lu=function(n){return vH(n).replace(/\./g,"")},zf=function(n){try{return Hf.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function J_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var _H=()=>J_().__FIREBASE_DEFAULTS__,EH=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},IH=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&zf(n[1]);return e&&JSON.parse(e)},qf=()=>{try{return MN()||_H()||EH()||IH()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},X_=n=>{var e,t;return(t=(e=qf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ON=n=>{let e=X_(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},eE=()=>{var n;return(n=qf())===null||n===void 0?void 0:n.config},tE=n=>{var e;return(e=qf())===null||e===void 0?void 0:e[`_${n}`]};var Po=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function mi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Gf(n){return _(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function FN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Lu(JSON.stringify(t)),Lu(JSON.stringify(s)),""].join(".")}var Fu={};function wH(){let n={prod:[],emulator:[]};for(let e of Object.keys(Fu))Fu[e]?n.emulator.push(e):n.prod.push(e);return n}function TH(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var PN=!1;function Wf(n,e){if(typeof window>"u"||typeof document>"u"||!mi(window.location.host)||Fu[n]===e||Fu[n]||PN)return;Fu[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=wH().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{PN=!0,s()},g}function h(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=TH(r),m=t("text"),w=document.getElementById(m)||document.createElement("span"),N=t("learnmore"),S=document.getElementById(N)||document.createElement("a"),M=t("preprendIcon"),V=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let H=g.element;a(H),h(S,N);let K=l();c(V,M),H.append(V,w,S,K),document.body.appendChild(H)}o?(w.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function at(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function DH(){var n;let e=(n=qf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jN(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function UN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BN(){let n=at();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $N(){return!DH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vu(){try{return typeof indexedDB=="object"}catch{return!1}}function HN(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var bH="FirebaseError",Zt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=bH,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bn.prototype.create)}},bn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?CH(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Zt(i,a,r)}};function CH(n,e){return n.replace(SH,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var SH=/\{\$([^}]+)}/g;function zN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Cn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(xN(o)&&xN(s)){if(!Cn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function xN(n){return n!==null&&typeof n=="object"}function ju(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ha(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function fa(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function qN(n,e){let t=new Z_(n,e);return t.subscribe.bind(t)}var Z_=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");AH(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Q_),i.error===void 0&&(i.error=Q_),i.complete===void 0&&(i.complete=Q_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function AH(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Q_(){}var Qae=14400*1e3;function Ke(n){return n&&n._delegate?n._delegate:n}var Lt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var xo="[DEFAULT]";var nE=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Po;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NH(e))try{this.getOrInitializeService({instanceIdentifier:xo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=xo){return this.instances.has(e)}getOptions(e=xo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RH(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xo){return this.component?this.component.multipleInstances?e:xo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function RH(n){return n===xo?void 0:n}function NH(n){return n.instantiationMode==="EAGER"}var Kf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new nE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var MH=[],fe=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(fe||{}),PH={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},xH=fe.INFO,kH={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},OH=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=kH[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Wn=class{constructor(e){this.name=e,this._logLevel=xH,this._logHandler=OH,this._userLogHandler=null,MH.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var FH=(n,e)=>e.some(t=>n instanceof t),GN,WN;function LH(){return GN||(GN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VH(){return WN||(WN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var KN=new WeakMap,iE=new WeakMap,QN=new WeakMap,rE=new WeakMap,sE=new WeakMap;function jH(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Kn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&KN.set(t,n)}).catch(()=>{}),sE.set(e,n),e}function UH(n){if(iE.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});iE.set(n,e)}var oE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return iE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||QN.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Kn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function YN(n){oE=n(oE)}function BH(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Qf(this),e,...t);return QN.set(r,e.sort?e.sort():[e]),Kn(r)}:VH().includes(n)?function(...e){return n.apply(Qf(this),e),Kn(KN.get(this))}:function(...e){return Kn(n.apply(Qf(this),e))}}function $H(n){return typeof n=="function"?BH(n):(n instanceof IDBTransaction&&UH(n),FH(n,LH())?new Proxy(n,oE):n)}function Kn(n){if(n instanceof IDBRequest)return jH(n);if(rE.has(n))return rE.get(n);let e=$H(n);return e!==n&&(rE.set(n,e),sE.set(e,n)),e}var Qf=n=>sE.get(n);function JN(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Kn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Kn(s.result),c.oldVersion,c.newVersion,Kn(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var HH=["get","getKey","getAll","getAllKeys","count"],zH=["put","add","delete","clear"],aE=new Map;function ZN(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(aE.get(e))return aE.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=zH.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||HH.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return aE.set(e,o),o}YN(n=>te(O({},n),{get:(e,t,r)=>ZN(e,t)||n.get(e,t,r),has:(e,t)=>!!ZN(e,t)||n.has(e,t)}));var uE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(qH(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function qH(n){let e=n.getComponent();return e?.type==="VERSION"}var lE="@firebase/app",XN="0.13.2";var Ar=new Wn("@firebase/app"),GH="@firebase/app-compat",WH="@firebase/analytics-compat",KH="@firebase/analytics",QH="@firebase/app-check-compat",YH="@firebase/app-check",ZH="@firebase/auth",JH="@firebase/auth-compat",XH="@firebase/database",e4="@firebase/data-connect",t4="@firebase/database-compat",n4="@firebase/functions",r4="@firebase/functions-compat",i4="@firebase/installations",o4="@firebase/installations-compat",s4="@firebase/messaging",a4="@firebase/messaging-compat",c4="@firebase/performance",u4="@firebase/performance-compat",l4="@firebase/remote-config",d4="@firebase/remote-config-compat",h4="@firebase/storage",f4="@firebase/storage-compat",p4="@firebase/firestore",g4="@firebase/ai",m4="@firebase/firestore-compat",y4="firebase",v4="11.10.0";var dE="[DEFAULT]",_4={[lE]:"fire-core",[GH]:"fire-core-compat",[KH]:"fire-analytics",[WH]:"fire-analytics-compat",[YH]:"fire-app-check",[QH]:"fire-app-check-compat",[ZH]:"fire-auth",[JH]:"fire-auth-compat",[XH]:"fire-rtdb",[e4]:"fire-data-connect",[t4]:"fire-rtdb-compat",[n4]:"fire-fn",[r4]:"fire-fn-compat",[i4]:"fire-iid",[o4]:"fire-iid-compat",[s4]:"fire-fcm",[a4]:"fire-fcm-compat",[c4]:"fire-perf",[u4]:"fire-perf-compat",[l4]:"fire-rc",[d4]:"fire-rc-compat",[h4]:"fire-gcs",[f4]:"fire-gcs-compat",[p4]:"fire-fst",[m4]:"fire-fst-compat",[g4]:"fire-vertex","fire-js":"fire-js",[y4]:"fire-js-all"};var Uu=new Map,E4=new Map,hE=new Map;function eM(n,e){try{n.container.addComponent(e)}catch(t){Ar.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Sn(n){let e=n.name;if(hE.has(e))return Ar.debug(`There were multiple attempts to register component ${e}.`),!1;hE.set(e,n);for(let t of Uu.values())eM(t,n);for(let t of E4.values())eM(t,n);return!0}function pa(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ht(n){return n==null?!1:n.settings!==void 0}var I4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yi=new bn("app","Firebase",I4);var fE=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}};var vi=v4;function mE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:dE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw yi.create("bad-app-name",{appName:String(i)});if(t||(t=eE()),!t)throw yi.create("no-options");let o=Uu.get(i);if(o){if(Cn(t,o.options)&&Cn(r,o.config))return o;throw yi.create("duplicate-app",{appName:i})}let s=new Kf(i);for(let c of hE.values())s.addComponent(c);let a=new fE(t,r,s);return Uu.set(i,a),a}function ko(n=dE){let e=Uu.get(n);if(!e&&n===dE&&eE())return mE();if(!e)throw yi.create("no-app",{appName:n});return e}function Yf(){return Array.from(Uu.values())}function Ue(n,e,t){var r;let i=(r=_4[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ar.warn(a.join(" "));return}Sn(new Lt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var w4="firebase-heartbeat-database",T4=1,Bu="firebase-heartbeat-store",cE=null;function iM(){return cE||(cE=JN(w4,T4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Bu)}catch(t){console.warn(t)}}}}).catch(n=>{throw yi.create("idb-open",{originalErrorMessage:n.message})})),cE}function D4(n){return _(this,null,function*(){try{let t=(yield iM()).transaction(Bu),r=yield t.objectStore(Bu).get(oM(n));return yield t.done,r}catch(e){if(e instanceof Zt)Ar.warn(e.message);else{let t=yi.create("idb-get",{originalErrorMessage:e?.message});Ar.warn(t.message)}}})}function tM(n,e){return _(this,null,function*(){try{let r=(yield iM()).transaction(Bu,"readwrite");yield r.objectStore(Bu).put(e,oM(n)),yield r.done}catch(t){if(t instanceof Zt)Ar.warn(t.message);else{let r=yi.create("idb-set",{originalErrorMessage:t?.message});Ar.warn(r.message)}}})}function oM(n){return`${n.name}!${n.options.appId}`}var b4=1024,C4=30,pE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new gE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=nM();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>C4){let s=A4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ar.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=nM(),{heartbeatsToSend:r,unsentEntries:i}=S4(this._heartbeatsCache.heartbeats),o=Lu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ar.warn(t),""}})}};function nM(){return new Date().toISOString().substring(0,10)}function S4(n,e=b4){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),rM(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),rM(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var gE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Vu()?HN().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield D4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return tM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return tM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function rM(n){return Lu(JSON.stringify({version:2,heartbeats:n})).length}function A4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function R4(n){Sn(new Lt("platform-logger",e=>new uE(e),"PRIVATE")),Sn(new Lt("heartbeat",e=>new pE(e),"PRIVATE")),Ue(lE,XN,n),Ue(lE,XN,"esm2017"),Ue("fire-js","")}R4("");var N4="firebase",M4="11.10.0";Ue(N4,M4,"app");function sM(n){n===void 0&&(n=P(Le));let e=n.get(_r);return t=>new ee(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var _i=new Zi("ANGULARFIRE2_VERSION");function $u(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ma=(n,e)=>{let t=e?[e]:Yf(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ga=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(ga||{}),aM=Gv()&&typeof Zone<"u"?ga.WARN:ga.SILENT;var Zf=class{zone;delegate;constructor(e,t=im){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Ei=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=P(ye);this.outsideAngular=t.runOutsideAngular(()=>new Zf(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Zf(typeof Zone>"u"?void 0:Zone.current,Gr))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cM=!1;function P4(n,e){!cM&&(aM>ga.SILENT||Gv())&&(cM=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),aM>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function x4(n){let e=P(ye,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Oo(n){let e=P(ye,{optional:!0});return e?e.run(()=>n()):n()}var k4=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),$e(t,()=>Oo(()=>n.apply(void 0,r)))),Vt=(n,e,t)=>(t||=e?ga.WARN:ga.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=P(Ei),s=P(_r),a=P(Fe)}catch{return P4(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Oo(()=>s.add())),i[l]=k4(i[l],r,a));let c=x4(()=>n.apply(this,i));return e?c instanceof ee?c.pipe(Kr(o.outsideAngular),Wr(o.insideAngular),sM(a)):c instanceof Promise?Oo(()=>{let l=s.add();return new Promise((h,p)=>{c.then(g=>$e(a,()=>Oo(()=>h(g))),g=>$e(a,()=>Oo(()=>p(g)))).finally(l)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Oo(()=>c):c instanceof ee?c.pipe(Kr(o.outsideAngular),Wr(o.insideAngular)):Oo(()=>c)});var Rr=class{constructor(e){return e}},Fo=class{constructor(){return Yf()}};function O4(n){return n&&n.length===1?n[0]:new Rr(ko())}var yE=new j("angularfire2._apps"),F4={provide:Rr,useFactory:O4,deps:[[new Kt,yE]]},L4={provide:Fo,deps:[[new Kt,yE]]};function V4(n){return(e,t)=>{let r=t.get(_o);Ue("angularfire",_i.full,"core"),Ue("angularfire",_i.full,"app"),Ue("angular",Tm.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Rr(i)}}function Hce(n,...e){return Mt([F4,L4,{provide:yE,useFactory:V4(n),multi:!0,deps:[ye,Le,Ei,...e]}])}var zce=Vt(mE,!0);var j4=new Map,U4={activated:!1,tokenObservers:[]},B4={initialized:!1,enabled:!1};function An(n){return j4.get(n)||Object.assign({},U4)}function hM(){return B4}var $4="https://content-firebaseappcheck.googleapis.com/v1";var H4="exchangeDebugToken",uM={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Xce=1440*60*1e3;var EE=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new Po,this.pending.promise.catch(t=>{}),yield z4(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Po,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function z4(n){return new Promise(e=>{setTimeout(e,n)})}var q4={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Ii=new bn("appCheck","AppCheck",q4);function fM(n){if(!An(n).activated)throw Ii.create("use-before-activation",{appName:n.name})}function pM(r,i){return _(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(m){throw Ii.create("fetch-network-error",{originalErrorMessage:m?.message})}if(c.status!==200)throw Ii.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(m){throw Ii.create("fetch-parse-error",{originalErrorMessage:m?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Ii.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function gM(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${$4}/projects/${t}/apps/${r}:${H4}?key=${i}`,body:{debug_token:e}}}var G4="firebase-app-check-database",W4=1,IE="firebase-app-check-store";var Jf=null;function K4(){return Jf||(Jf=new Promise((n,e)=>{try{let t=indexedDB.open(G4,W4);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ii.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(IE,{keyPath:"compositeKey"})}}}catch(t){e(Ii.create("storage-open",{originalErrorMessage:t?.message}))}}),Jf)}function Q4(n,e){return Y4(Z4(n),e)}function Y4(n,e){return _(this,null,function*(){let r=(yield K4()).transaction(IE,"readwrite"),o=r.objectStore(IE).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(Ii.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function Z4(n){return`${n.options.appId}-${n.name}`}var Hu=new Wn("@firebase/app-check");function vE(n,e){return Vu()?Q4(n,e).catch(t=>{Hu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function mM(){return hM().enabled}function yM(){return _(this,null,function*(){let n=hM();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var J4={error:"UNKNOWN_ERROR"};function X4(n){return Hf.encodeString(JSON.stringify(n),!1)}function wE(n,e=!1,t=!1){return _(this,null,function*(){let r=n.app;fM(r);let i=An(r),o=i.token,s;if(o&&!zu(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(zu(l)?o=l:yield vE(r,void 0))}if(!e&&o&&zu(o))return{token:o.token};let a=!1;if(mM())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=pM(gM(r,yield yM()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield vE(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Hu.warn(l.message):t&&Hu.error(l),_E(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield An(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Hu.warn(l.message):t&&Hu.error(l),s=l}let c;return o?s?zu(o)?c={token:o.token,internalError:s}:c=_E(s):(c={token:o.token},i.token=o,yield vE(r,o)):c=_E(s),a&&rz(r,c),c})}function ez(n){return _(this,null,function*(){let e=n.app;fM(e);let{provider:t}=An(e);if(mM()){let r=yield yM(),{token:i}=yield pM(gM(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function tz(n,e,t,r){let{app:i}=n,o=An(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&zu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),lM(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>lM(n))}function vM(n,e){let t=An(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function lM(n){let{app:e}=n,t=An(e),r=t.tokenRefresher;r||(r=nz(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function nz(n){let{app:e}=n;return new EE(()=>_(null,null,function*(){let t=An(e),r;if(t.token?r=yield wE(n,!0):r=yield wE(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=An(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},uM.RETRIAL_MIN_WAIT,uM.RETRIAL_MAX_WAIT)}function rz(n,e){let t=An(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function zu(n){return n.expireTimeMillis-Date.now()>0}function _E(n){return{token:X4(J4),error:n}}var TE=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=An(this.app);for(let t of e)vM(this.app,t.next);return Promise.resolve()}};function iz(n,e){return new TE(n,e)}function oz(n){return{getToken:e=>wE(n,e),getLimitedUseToken:()=>ez(n),addTokenListener:e=>tz(n,"INTERNAL",e),removeTokenListener:e=>vM(n.app,e)}}var sz="@firebase/app-check",az="0.10.1";var cz="app-check",dM="app-check-internal";function uz(){Sn(new Lt(cz,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return iz(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(dM).initialize()})),Sn(new Lt(dM,n=>{let e=n.getProvider("app-check").getImmediate();return oz(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ue(sz,az)}uz();var lz="app-check";var ya=class{constructor(){return ma(lz)}};var dz=["localhost","0.0.0.0","127.0.0.1"],hue=typeof window<"u"&&dz.includes(window.location.hostname);function kM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var OM=kM,FM=new bn("auth","Firebase",kM());var ip=new Wn("@firebase/auth");function hz(n,...e){ip.logLevel<=fe.WARN&&ip.warn(`Auth (${vi}): ${n}`,...e)}function ep(n,...e){ip.logLevel<=fe.ERROR&&ip.error(`Auth (${vi}): ${n}`,...e)}function Yn(n,...e){throw KE(n,...e)}function Lo(n,...e){return KE(n,...e)}function LM(n,e,t){let r=Object.assign(Object.assign({},OM()),{[e]:t});return new bn("auth","Firebase",r).create(e,{appName:n.name})}function Pr(n){return LM(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return FM.create(n,...e)}function Z(n,e,...t){if(!n)throw KE(e,...t)}function Nr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw ep(e),new Error(e)}function Di(n,e){n||Nr(e)}function SE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function fz(){return _M()==="http:"||_M()==="https:"}function _M(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function pz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fz()||jN()||"connection"in navigator)?navigator.onLine:!0}function gz(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Vo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Di(t>e,"Short delay should be less than long delay!"),this.isMobile=LN()||UN()}get(){return pz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function QE(n,e){Di(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var op=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var mz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var yz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vz=new Vo(3e4,6e4);function bi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ci(o,s,a,c){return _(this,arguments,function*(n,e,t,r,i={}){return VM(n,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=ju(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:g},l);return VN()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&mi(n.emulatorConfig.host)&&(m.credentials="include"),op.fetch()(yield jM(n,n.config.apiHost,t,p),m)}))})}function VM(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},mz),e);try{let i=new AE(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Xf(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xf(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Xf(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Xf(n,"user-disabled",s);let h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw LM(n,h,l);Yn(n,h)}}catch(i){if(i instanceof Zt)throw i;Yn(n,"network-request-failed",{message:String(i)})}})}function Xu(o,s,a,c){return _(this,arguments,function*(n,e,t,r,i={}){let l=yield Ci(n,e,t,r,i);return"mfaPendingCredential"in l&&Yn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function jM(n,e,t,r){return _(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?QE(n.config,i):`${n.config.apiScheme}://${i}`;return yz.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function _z(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var AE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Lo(this.auth,"network-request-failed")),vz.get())})}};function Xf(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Lo(n,e,r);return i.customData._tokenResponse=t,i}function EM(n){return n!==void 0&&n.enterprise!==void 0}var RE=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return _z(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Ez(n,e){return _(this,null,function*(){return Ci(n,"GET","/v2/recaptchaConfig",bi(n,e))})}function Iz(n,e){return _(this,null,function*(){return Ci(n,"POST","/v1/accounts:delete",e)})}function sp(n,e){return _(this,null,function*(){return Ci(n,"POST","/v1/accounts:lookup",e)})}function Gu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function YE(n,e=!1){return _(this,null,function*(){let t=Ke(n),r=yield t.getIdToken(e),i=ZE(r);Z(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Gu(DE(i.auth_time)),issuedAtTime:Gu(DE(i.iat)),expirationTime:Gu(DE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function DE(n){return Number(n)*1e3}function ZE(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ep("JWT malformed, contained fewer than 3 sections"),null;try{let i=zf(t);return i?JSON.parse(i):(ep("Failed to decode base64 JWT payload"),null)}catch(i){return ep("Caught error parsing JWT payload as JSON",i?.toString()),null}}function IM(n){let e=ZE(n);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ku(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Zt&&wz(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function wz({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var NE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Qu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gu(this.lastLoginAt),this.creationTime=Gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ap(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Ku(n,sp(t,{idToken:r}));Z(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?UM(o.providerUserInfo):[],a=Tz(n.providerData,s),c=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=c?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Qu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function JE(n){return _(this,null,function*(){let e=Ke(n);yield ap(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Tz(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UM(n){return n.map(e=>{var{providerId:t}=e,r=sm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Dz(n,e){return _(this,null,function*(){let t=yield VM(n,{},()=>_(null,null,function*(){let r=ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield jM(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&mi(n.emulatorConfig.host)&&(c.credentials="include"),op.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function bz(n,e){return _(this,null,function*(){return Ci(n,"POST","/v2/accounts:revokeToken",bi(n,e))})}var Wu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Z(e.length!==0,"internal-error");let t=IM(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Dz(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Z(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Z(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Nr("not implemented")}};function wi(n,e){Z(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ti=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=sm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield Ku(this,this.stsTokenManager.getToken(this.auth,e));return Z(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return YE(this,e)}reload(){return JE(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield ap(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(Ht(this.auth.app))return Promise.reject(Pr(this.auth));let e=yield this.getIdToken();return yield Ku(this,Iz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=t.photoURL)!==null&&s!==void 0?s:void 0,N=(a=t.tenantId)!==null&&a!==void 0?a:void 0,S=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,M=(l=t.createdAt)!==null&&l!==void 0?l:void 0,V=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:H,emailVerified:K,isAnonymous:be,providerData:he,stsTokenManager:D}=t;Z(H&&D,e,"internal-error");let v=Wu.fromJSON(this.name,D);Z(typeof H=="string",e,"internal-error"),wi(p,e.name),wi(g,e.name),Z(typeof K=="boolean",e,"internal-error"),Z(typeof be=="boolean",e,"internal-error"),wi(m,e.name),wi(w,e.name),wi(N,e.name),wi(S,e.name),wi(M,e.name),wi(V,e.name);let I=new n({uid:H,auth:e,email:g,emailVerified:K,displayName:p,isAnonymous:be,photoURL:w,phoneNumber:m,tenantId:N,stsTokenManager:v,createdAt:M,lastLoginAt:V});return he&&Array.isArray(he)&&(I.providerData=he.map(T=>Object.assign({},T))),S&&(I._redirectEventId=S),I}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new Wu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ap(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];Z(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?UM(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Wu;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Qu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var wM=new Map;function Mr(n){Di(n instanceof Function,"Expected a class definition");let e=wM.get(n);return e?(Di(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,wM.set(n,e),e)}var Cz=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),ME=Cz;function tp(n,e,t){return`firebase:${n}:${e}:${t}`}var cp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=tp(this.userKey,i.apiKey,o),this.fullPersistenceKey=tp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield sp(this.auth,{idToken:e}).catch(()=>{});return t?Ti._fromGetAccountInfoResponse(this.auth,t,e):null}return Ti._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(Mr(ME),e,r);let i=(yield Promise.all(t.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Mr(ME),s=tp(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield sp(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield Ti._fromGetAccountInfoResponse(e,g,h)}else p=Ti._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function TM(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GM(e))return"Blackberry";if(WM(e))return"Webos";if($M(e))return"Safari";if((e.includes("chrome/")||HM(e))&&!e.includes("edge/"))return"Chrome";if(qM(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function BM(n=at()){return/firefox\//i.test(n)}function $M(n=at()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HM(n=at()){return/crios\//i.test(n)}function zM(n=at()){return/iemobile/i.test(n)}function qM(n=at()){return/android/i.test(n)}function GM(n=at()){return/blackberry/i.test(n)}function WM(n=at()){return/webos/i.test(n)}function XE(n=at()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Sz(n=at()){var e;return XE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Az(){return BN()&&document.documentMode===10}function KM(n=at()){return XE(n)||qM(n)||WM(n)||GM(n)||/windows phone/i.test(n)||zM(n)}function QM(n,e=[]){let t;switch(n){case"Browser":t=TM(at());break;case"Worker":t=`${TM(at())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vi}/${r}`}var PE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Rz(t){return _(this,arguments,function*(n,e={}){return Ci(n,"GET","/v2/passwordPolicy",bi(n,e))})}var Nz=6,xE=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:Nz,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var kE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new up(this),this.idTokenSubscription=new up(this),this.beforeStateQueue=new PE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mr(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield cp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield sp(this,{idToken:e}),r=yield Ti._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(Ht(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield ap(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=gz()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(Ht(this.app))return Promise.reject(Pr(this));let t=e?Ke(e):null;return t&&Z(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return Ht(this.app)?Promise.reject(Pr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ht(this.app)?Promise.reject(Pr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Mr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield Rz(this),t=new xE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield bz(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Mr(e)||this._popupRedirectResolver;Z(t,this,"argument-error"),this.redirectPersistenceManager=yield cp.create(this,[Mr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;if(Ht(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&hz(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Uo(n){return Ke(n)}var up=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=qN(t=>this.observer=t)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var mp={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mz(n){mp=n}function YM(n){return mp.loadJS(n)}function Pz(){return mp.recaptchaEnterpriseScript}function xz(){return mp.gapiScript}function ZM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var OE=class{constructor(){this.enterprise=new FE}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},FE=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var kz="recaptcha-enterprise",JM="NO_RECAPTCHA",LE=class{constructor(e){this.type=kz,this.auth=Uo(e)}verify(e="verify",t=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(null,null,function*(){Ez(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new RE(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;EM(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(JM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OE().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&EM(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Pz();c.length!==0&&(c+=a),YM(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function qu(n,e,t,r=!1,i=!1){return _(this,null,function*(){let o=new LE(n),s;if(i)s=JM;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function VE(n,e,t,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield qu(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>_(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield qu(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield qu(n,e,t);return r(n,a).catch(c=>_(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield qu(n,e,t,!1,!0);return r(n,h)}return Promise.reject(c)}))}else{let a=yield qu(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function eI(n,e){let t=pa(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Cn(o,e??{}))return i;Yn(i,"already-initialized")}return t.initialize({options:e})}function Oz(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Mr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function tI(n,e,t){let r=Uo(n);Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=XM(e),{host:s,port:a}=Fz(e),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Z(Cn(l,r.config.emulator)&&Cn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,mi(s)?(Gf(`${o}//${s}${c}`),Wf("Auth",!0)):i||Lz()}function XM(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Fz(n){let e=XM(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:DM(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:DM(s)}}}function DM(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Lz(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Yu=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,t){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}};function Vz(n,e){return _(this,null,function*(){return Ci(n,"POST","/v1/accounts:signUp",e)})}function jz(n,e){return _(this,null,function*(){return Xu(n,"POST","/v1/accounts:signInWithPassword",bi(n,e))})}function Uz(n,e){return _(this,null,function*(){return Xu(n,"POST","/v1/accounts:signInWithEmailLink",bi(n,e))})}function Bz(n,e){return _(this,null,function*(){return Xu(n,"POST","/v1/accounts:signInWithEmailLink",bi(n,e))})}var Zu=class n extends Yu{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VE(e,t,"signInWithPassword",jz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Uz(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}})}_linkToIdToken(e,t){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VE(e,r,"signUpPassword",Vz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Bz(e,{idToken:t,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function bE(n,e){return _(this,null,function*(){return Xu(n,"POST","/v1/accounts:signInWithIdp",bi(n,e))})}function $z(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Hz(n){let e=ha(fa(n)).link,t=e?ha(fa(e)).deep_link_id:null,r=ha(fa(n)).deep_link_id;return(r?ha(fa(r)).link:null)||r||t||e||n}var lp=class n{constructor(e){var t,r,i,o,s,a;let c=ha(fa(e)),l=(t=c.apiKey)!==null&&t!==void 0?t:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,p=$z((i=c.mode)!==null&&i!==void 0?i:null);Z(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=Hz(e);try{return new n(t)}catch{return null}}};var eP=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Zu._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=lp.parseLink(r);return Z(i,"argument-error"),Zu._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),dp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var jE=class extends dp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function zz(n,e){return _(this,null,function*(){return Xu(n,"POST","/v1/accounts:signUp",bi(n,e))})}var va=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield Ti._fromIdTokenResponse(e,r,i),s=bM(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=bM(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function bM(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var UE=class n extends Zt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function tP(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?UE._fromErrorAndOperation(n,o,e,r):o})}function qz(n,e,t=!1){return _(this,null,function*(){let r=yield Ku(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return va._forOperation(n,"link",r)})}function Gz(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(Ht(r.app))return Promise.reject(Pr(r));let i="reauthenticate";try{let o=yield Ku(n,tP(r,i,e,n),t);Z(o.idToken,r,"internal-error");let s=ZE(o.idToken);Z(s,r,"internal-error");let{sub:a}=s;return Z(n.uid===a,r,"user-mismatch"),va._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Yn(r,"user-mismatch"),o}})}function nP(n,e,t=!1){return _(this,null,function*(){if(Ht(n.app))return Promise.reject(Pr(n));let r="signIn",i=yield tP(n,r,e),o=yield va._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function nI(n,e){return _(this,null,function*(){return nP(Uo(n),e)})}function rP(n){return _(this,null,function*(){let e=Uo(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function rI(n,e,t){return _(this,null,function*(){if(Ht(n.app))return Promise.reject(Pr(n));let r=Uo(n),s=yield VE(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zz,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&rP(n),c}),a=yield va._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function iI(n,e,t){return Ht(n.app)?Promise.reject(Pr(n)):nI(Ke(n),eP.credential(e,t)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&rP(n),r}))}function oI(n,e,t,r){return Ke(n).onIdTokenChanged(e,t,r)}function sI(n,e,t){return Ke(n).beforeAuthStateChanged(e,t)}function aI(n,e,t,r){return Ke(n).onAuthStateChanged(e,t,r)}function cI(n){return Ke(n).signOut()}var hp="__sak";var fp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hp,"1"),this.storage.removeItem(hp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Wz=1e3,Kz=10,Qz=(()=>{class n extends fp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);Az()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Kz):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},Wz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield qr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield qr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield qr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),iP=Qz;var Yz=(()=>{class n extends fp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),uI=Yz;function Zz(n){return Promise.all(n.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var Jz=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield Zz(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function oP(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var BE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=oP("",20);i.port1.start();let h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Qn(){return window}function Xz(n){Qn().location.href=n}function sP(){return typeof Qn().WorkerGlobalScope<"u"&&typeof Qn().importScripts=="function"}function eq(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function tq(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function nq(){return sP()?self:null}var aP="firebaseLocalStorageDb",rq=1,pp="firebaseLocalStorage",cP="fbase_key",jo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function yp(n,e){return n.transaction([pp],e?"readwrite":"readonly").objectStore(pp)}function iq(){let n=indexedDB.deleteDatabase(aP);return new jo(n).toPromise()}function $E(){let n=indexedDB.open(aP,rq);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(pp,{keyPath:cP})}catch(i){t(i)}}),n.addEventListener("success",()=>_(null,null,function*(){let r=n.result;r.objectStoreNames.contains(pp)?e(r):(r.close(),yield iq(),e(yield $E()))}))})}function CM(n,e,t){return _(this,null,function*(){let r=yp(n,!0).put({[cP]:e,value:t});return new jo(r).toPromise()})}function oq(n,e){return _(this,null,function*(){let t=yp(n,!1).get(e),r=yield new jo(t).toPromise();return r===void 0?null:r.value})}function SM(n,e){let t=yp(n,!0).delete(e);return new jo(t).toPromise()}var sq=800,aq=3,cq=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield $E(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>aq)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return sP()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=Jz._getInstance(nq()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield eq(),!this.activeServiceWorker)return;this.sender=new BE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||tq()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield $E();return yield CM(t,hp,"1"),yield SM(t,hp),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>CM(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>oq(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>SM(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=yp(o,!1).getAll();return new jo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),sq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),uP=cq;var Eue=ZM("rcb"),Iue=new Vo(3e4,6e4);function uq(n,e){return e?Mr(e):(Z(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Ju=class extends Yu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bE(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bE(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bE(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function lq(n){return nP(n.auth,new Ju(n),n.bypassAuthState)}function dq(n){let{auth:e,user:t}=n;return Z(t,e,"internal-error"),Gz(t,new Ju(n),n.bypassAuthState)}function hq(n){return _(this,null,function*(){let{auth:e,user:t}=n;return Z(t,e,"internal-error"),qz(t,new Ju(n),n.bypassAuthState)})}var HE=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lq;case"linkViaPopup":case"linkViaRedirect":return hq;case"reauthViaPopup":case"reauthViaRedirect":return dq;default:Yn(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var wue=new Vo(2e3,1e4);var fq="pendingRedirect",np=new Map,zE=class n extends HE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=np.get(this.auth._key());if(!e){try{let r=(yield pq(this.resolver,this.auth))?yield qr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}np.set(this.auth._key(),e)}return this.bypassAuthState||np.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return qr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,qr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function pq(n,e){return _(this,null,function*(){let t=yq(e),r=mq(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function gq(n,e){np.set(n._key(),e)}function mq(n){return Mr(n._redirectPersistence)}function yq(n){return tp(fq,n.config.apiKey,n.name)}function vq(n,e,t=!1){return _(this,null,function*(){if(Ht(n.app))return Promise.reject(Pr(n));let r=Uo(n),i=uq(r,e),s=yield new zE(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var _q=600*1e3,qE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Eq(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!lP(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Lo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_q&&this.cachedEventUids.clear(),this.cachedEventUids.has(AM(e))}saveEventToCache(e){this.cachedEventUids.add(AM(e)),this.lastProcessedEventTime=Date.now()}};function AM(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function lP({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Eq(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lP(n);default:return!1}}function Iq(t){return _(this,arguments,function*(n,e={}){return Ci(n,"GET","/v1/projects",e)})}var wq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tq=/^https?/;function Dq(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield Iq(n);for(let t of e)try{if(bq(t))return}catch{}Yn(n,"unauthorized-domain")})}function bq(n){let e=SE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!Tq.test(t))return!1;if(wq.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Cq=new Vo(3e4,6e4);function RM(){let n=Qn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Sq(n){return new Promise((e,t)=>{var r,i,o;function s(){RM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RM(),t(Lo(n,"network-request-failed"))},timeout:Cq.get()})}if(!((i=(r=Qn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Qn().gapi)===null||o===void 0)&&o.load)s();else{let a=ZM("iframefcb");return Qn()[a]=()=>{gapi.load?s():t(Lo(n,"network-request-failed"))},YM(`${xz()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw rp=null,e})}var rp=null;function Aq(n){return rp=rp||Sq(n),rp}var Rq=new Vo(5e3,15e3),Nq="__/auth/iframe",Mq="emulator/auth/iframe",Pq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kq(n){let e=n.config;Z(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?QE(e,Mq):`https://${n.config.authDomain}/${Nq}`,r={apiKey:e.apiKey,appName:n.name,v:vi},i=xq.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${ju(r).slice(1)}`}function Oq(n){return _(this,null,function*(){let e=yield Aq(n),t=Qn().gapi;return Z(t,n,"internal-error"),e.open({where:document.body,url:kq(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pq,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Lo(n,"network-request-failed"),a=Qn().setTimeout(()=>{o(s)},Rq.get());function c(){Qn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var Fq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lq=500,Vq=600,jq="_blank",Uq="http://localhost",gp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Bq(n,e,t,r=Lq,i=Vq){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},Fq),{width:r.toString(),height:i.toString(),top:o,left:s}),l=at().toLowerCase();t&&(a=HM(l)?jq:t),BM(l)&&(e=e||Uq,c.scrollbars="yes");let h=Object.entries(c).reduce((g,[m,w])=>`${g}${m}=${w},`,"");if(Sz(l)&&a!=="_self")return $q(e||"",a),new gp(null);let p=window.open(e||"",a,h);Z(p,n,"popup-blocked");try{p.focus()}catch{}return new gp(p)}function $q(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var Hq="__/auth/handler",zq="emulator/auth/handler",qq=encodeURIComponent("fac");function NM(n,e,t,r,i,o){return _(this,null,function*(){Z(n.config.authDomain,n,"auth-domain-config-required"),Z(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:vi,eventId:i};if(e instanceof dp){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",zN(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof jE){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let c=yield n._getAppCheckToken(),l=c?`#${qq}=${encodeURIComponent(c)}`:"";return`${Gq(n)}?${ju(a).slice(1)}${l}`})}function Gq({config:n}){return n.emulator?QE(n,zq):`https://${n.authDomain}/${Hq}`}var CE="webStorageSupport",GE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uI,this._completeRedirectFn=vq,this._overrideRedirectResult=gq}_openPopup(e,t,r,i){return _(this,null,function*(){var o;Di((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield NM(e,t,r,SE(),i);return Bq(e,s,oP())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield NM(e,t,r,SE(),i);return Xz(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Di(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield Oq(e),r=new qE(e);return t.register("authEvent",i=>(Z(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(CE,{type:CE},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[CE];s!==void 0&&t(!!s),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Dq(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return KM()||$M()||XE()}},dP=GE;var MM="@firebase/auth",PM="1.10.8";var WE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Wq(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Kq(n){Sn(new Lt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QM(n)},l=new kE(r,i,o,c);return Oz(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Sn(new Lt("auth-internal",e=>{let t=Uo(e.getProvider("auth").getImmediate());return(r=>new WE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ue(MM,PM,Wq(n)),Ue(MM,PM,"esm2017")}var Qq=300,Yq=tE("authIdTokenMaxAge")||Qq,xM=null,Zq=n=>e=>_(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Yq)return;let i=t?.token;xM!==i&&(xM=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function lI(n=ko()){let e=pa(n,"auth");if(e.isInitialized())return e.getImmediate();let t=eI(n,{popupRedirectResolver:dP,persistence:[uP,iP,uI]}),r=tE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=Zq(o.toString());sI(t,s,()=>s(t.currentUser)),oI(t,a=>s(a))}}let i=X_("auth");return i&&tI(t,`http://${i}`),t}function Jq(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Mz({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Lo("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Jq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Kq("Browser");var hP="auth",Bo=class{constructor(e){return e}},el=class{constructor(){return ma(hP)}};var dI=new j("angularfire2.auth-instances");function UG(n,e){let t=$u(hP,n,e);return t&&new Bo(t)}function BG(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Bo(r)}}var $G={provide:el,deps:[[new Kt,dI]]},HG={provide:Bo,useFactory:UG,deps:[[new Kt,dI],Rr]};function cle(n,...e){return Ue("angularfire",_i.full,"auth"),Mt([HG,$G,{provide:dI,useFactory:BG(n),multi:!0,deps:[ye,Le,Ei,Fo,[new Kt,ya],...e]}])}var fP=Vt(rI,!0,2);var pP=Vt(lI,!0);var gP=Vt(aI,!0);var mP=Vt(iI,!0,2);var yP=Vt(cI,!0,2);var vP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_P={};var xr,hI;(function(){var n;function e(D,v){function I(){}I.prototype=v.prototype,D.D=v.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(T,b,A){for(var E=Array(arguments.length-2),rr=2;rr<arguments.length;rr++)E[rr-2]=arguments[rr];return v.prototype[b].apply(T,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,I){I||(I=0);var T=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)T[b]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(b=0;16>b;++b)T[b]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=D.g[0],I=D.g[1],b=D.g[2];var A=D.g[3],E=v+(A^I&(b^A))+T[0]+3614090360&4294967295;v=I+(E<<7&4294967295|E>>>25),E=A+(b^v&(I^b))+T[1]+3905402710&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(I^A&(v^I))+T[2]+606105819&4294967295,b=A+(E<<17&4294967295|E>>>15),E=I+(v^b&(A^v))+T[3]+3250441966&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(A^I&(b^A))+T[4]+4118548399&4294967295,v=I+(E<<7&4294967295|E>>>25),E=A+(b^v&(I^b))+T[5]+1200080426&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(I^A&(v^I))+T[6]+2821735955&4294967295,b=A+(E<<17&4294967295|E>>>15),E=I+(v^b&(A^v))+T[7]+4249261313&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(A^I&(b^A))+T[8]+1770035416&4294967295,v=I+(E<<7&4294967295|E>>>25),E=A+(b^v&(I^b))+T[9]+2336552879&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(I^A&(v^I))+T[10]+4294925233&4294967295,b=A+(E<<17&4294967295|E>>>15),E=I+(v^b&(A^v))+T[11]+2304563134&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(A^I&(b^A))+T[12]+1804603682&4294967295,v=I+(E<<7&4294967295|E>>>25),E=A+(b^v&(I^b))+T[13]+4254626195&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(I^A&(v^I))+T[14]+2792965006&4294967295,b=A+(E<<17&4294967295|E>>>15),E=I+(v^b&(A^v))+T[15]+1236535329&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(b^A&(I^b))+T[1]+4129170786&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^b&(v^I))+T[6]+3225465664&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(A^v))+T[11]+643717713&4294967295,b=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(b^A))+T[0]+3921069994&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(b^A&(I^b))+T[5]+3593408605&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^b&(v^I))+T[10]+38016083&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(A^v))+T[15]+3634488961&4294967295,b=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(b^A))+T[4]+3889429448&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(b^A&(I^b))+T[9]+568446438&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^b&(v^I))+T[14]+3275163606&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(A^v))+T[3]+4107603335&4294967295,b=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(b^A))+T[8]+1163531501&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(b^A&(I^b))+T[13]+2850285829&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^b&(v^I))+T[2]+4243563512&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(A^v))+T[7]+1735328473&4294967295,b=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(b^A))+T[12]+2368359562&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(I^b^A)+T[5]+4294588738&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^b)+T[8]+2272392833&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^I)+T[11]+1839030562&4294967295,b=A+(E<<16&4294967295|E>>>16),E=I+(b^A^v)+T[14]+4259657740&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(I^b^A)+T[1]+2763975236&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^b)+T[4]+1272893353&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^I)+T[7]+4139469664&4294967295,b=A+(E<<16&4294967295|E>>>16),E=I+(b^A^v)+T[10]+3200236656&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(I^b^A)+T[13]+681279174&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^b)+T[0]+3936430074&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^I)+T[3]+3572445317&4294967295,b=A+(E<<16&4294967295|E>>>16),E=I+(b^A^v)+T[6]+76029189&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(I^b^A)+T[9]+3654602809&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^b)+T[12]+3873151461&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^I)+T[15]+530742520&4294967295,b=A+(E<<16&4294967295|E>>>16),E=I+(b^A^v)+T[2]+3299628645&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(b^(I|~A))+T[0]+4096336452&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~b))+T[7]+1126891415&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~I))+T[14]+2878612391&4294967295,b=A+(E<<15&4294967295|E>>>17),E=I+(A^(b|~v))+T[5]+4237533241&4294967295,I=b+(E<<21&4294967295|E>>>11),E=v+(b^(I|~A))+T[12]+1700485571&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~b))+T[3]+2399980690&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~I))+T[10]+4293915773&4294967295,b=A+(E<<15&4294967295|E>>>17),E=I+(A^(b|~v))+T[1]+2240044497&4294967295,I=b+(E<<21&4294967295|E>>>11),E=v+(b^(I|~A))+T[8]+1873313359&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~b))+T[15]+4264355552&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~I))+T[6]+2734768916&4294967295,b=A+(E<<15&4294967295|E>>>17),E=I+(A^(b|~v))+T[13]+1309151649&4294967295,I=b+(E<<21&4294967295|E>>>11),E=v+(b^(I|~A))+T[4]+4149444226&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~b))+T[11]+3174756917&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~I))+T[2]+718787259&4294967295,b=A+(E<<15&4294967295|E>>>17),E=I+(A^(b|~v))+T[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(b+(E<<21&4294967295|E>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+A&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var I=v-this.blockSize,T=this.B,b=this.h,A=0;A<v;){if(b==0)for(;A<=I;)i(this,D,A),A+=this.blockSize;if(typeof D=="string"){for(;A<v;)if(T[b++]=D.charCodeAt(A++),b==this.blockSize){i(this,T),b=0;break}}else for(;A<v;)if(T[b++]=D[A++],b==this.blockSize){i(this,T),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var I=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=I&255,I/=256;for(this.u(D),D=Array(16),v=I=0;4>v;++v)for(var T=0;32>T;T+=8)D[I++]=this.g[v]>>>T&255;return D};function o(D,v){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=v(D)}function s(D,v){this.h=v;for(var I=[],T=!0,b=D.length-1;0<=b;b--){var A=D[b]|0;T&&A==v||(I[b]=A,T=!1)}this.g=I}var a={};function c(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return S(l(-D));for(var v=[],I=1,T=0;D>=I;T++)v[T]=D/I|0,I*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return S(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),T=p,b=0;b<D.length;b+=8){var A=Math.min(8,D.length-b),E=parseInt(D.substring(b,b+A),v);8>A?(A=l(Math.pow(v,A)),T=T.j(A).add(l(E))):(T=T.j(I),T=T.add(l(E)))}return T}var p=c(0),g=c(1),m=c(16777216);n=s.prototype,n.m=function(){if(N(this))return-S(this).m();for(var D=0,v=1,I=0;I<this.g.length;I++){var T=this.i(I);D+=(0<=T?T:4294967296+T)*v,v*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(N(this))return"-"+S(this).toString(D);for(var v=l(Math.pow(D,6)),I=this,T="";;){var b=K(I,v).g;I=M(I,b.j(v));var A=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=b,w(I))return A+T;for(;6>A.length;)A="0"+A;T=A+T}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function N(D){return D.h==-1}n.l=function(D){return D=M(this,D),N(D)?-1:w(D)?0:1};function S(D){for(var v=D.g.length,I=[],T=0;T<v;T++)I[T]=~D.g[T];return new s(I,~D.h).add(g)}n.abs=function(){return N(this)?S(this):this},n.add=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],T=0,b=0;b<=v;b++){var A=T+(this.i(b)&65535)+(D.i(b)&65535),E=(A>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);T=E>>>16,A&=65535,E&=65535,I[b]=E<<16|A}return new s(I,I[I.length-1]&-2147483648?-1:0)};function M(D,v){return D.add(S(v))}n.j=function(D){if(w(this)||w(D))return p;if(N(this))return N(D)?S(this).j(S(D)):S(S(this).j(D));if(N(D))return S(this.j(S(D)));if(0>this.l(m)&&0>D.l(m))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,I=[],T=0;T<2*v;T++)I[T]=0;for(T=0;T<this.g.length;T++)for(var b=0;b<D.g.length;b++){var A=this.i(T)>>>16,E=this.i(T)&65535,rr=D.i(b)>>>16,Ga=D.i(b)&65535;I[2*T+2*b]+=E*Ga,V(I,2*T+2*b),I[2*T+2*b+1]+=A*Ga,V(I,2*T+2*b+1),I[2*T+2*b+1]+=E*rr,V(I,2*T+2*b+1),I[2*T+2*b+2]+=A*rr,V(I,2*T+2*b+2)}for(T=0;T<v;T++)I[T]=I[2*T+1]<<16|I[2*T];for(T=v;T<2*v;T++)I[T]=0;return new s(I,0)};function V(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function H(D,v){this.g=D,this.h=v}function K(D,v){if(w(v))throw Error("division by zero");if(w(D))return new H(p,p);if(N(D))return v=K(S(D),v),new H(S(v.g),S(v.h));if(N(v))return v=K(D,S(v)),new H(S(v.g),v.h);if(30<D.g.length){if(N(D)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var I=g,T=v;0>=T.l(D);)I=be(I),T=be(T);var b=he(I,1),A=he(T,1);for(T=he(T,2),I=he(I,2);!w(T);){var E=A.add(T);0>=E.l(D)&&(b=b.add(I),A=E),T=he(T,1),I=he(I,1)}return v=M(D,b.j(v)),new H(b,v)}for(b=p;0<=D.l(v);){for(I=Math.max(1,Math.floor(D.m()/v.m())),T=Math.ceil(Math.log(I)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),A=l(I),E=A.j(v);N(E)||0<E.l(D);)I-=T,A=l(I),E=A.j(v);w(A)&&(A=g),b=b.add(A),D=M(D,E)}return new H(b,D)}n.A=function(D){return K(this,D).h},n.and=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],T=0;T<v;T++)I[T]=this.i(T)&D.i(T);return new s(I,this.h&D.h)},n.or=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],T=0;T<v;T++)I[T]=this.i(T)|D.i(T);return new s(I,this.h|D.h)},n.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],T=0;T<v;T++)I[T]=this.i(T)^D.i(T);return new s(I,this.h^D.h)};function be(D){for(var v=D.g.length+1,I=[],T=0;T<v;T++)I[T]=D.i(T)<<1|D.i(T-1)>>>31;return new s(I,D.h)}function he(D,v){var I=v>>5;v%=32;for(var T=D.g.length-I,b=[],A=0;A<T;A++)b[A]=0<v?D.i(A+I)>>>v|D.i(A+I+1)<<32-v:D.i(A+I);return new s(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hI=_P.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,xr=_P.Integer=s}).apply(typeof vP<"u"?vP:typeof self<"u"?self:typeof window<"u"?window:{});var vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kr={};var fI,qG,_a,pI,tl,_p,gI,mI,yI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,f){return u==Array.prototype||u==Object.prototype||(u[d]=f.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof vp=="object"&&vp];for(var d=0;d<u.length;++d){var f=u[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(u,d){if(d)e:{var f=r;u=u.split(".");for(var y=0;y<u.length-1;y++){var C=u[y];if(!(C in f))break e;f=f[C]}u=u[u.length-1],y=f[u],d=d(y),d!=y&&d!=null&&e(f,u,{configurable:!0,writable:!0,value:d})}}function o(u,d){u instanceof String&&(u+="");var f=0,y=!1,C={next:function(){if(!y&&f<u.length){var R=f++;return{value:d(R,u[R]),done:!1}}return y=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(u){return u||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function c(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function l(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function h(u,d,f){return u.call.apply(u.bind,arguments)}function p(u,d,f){if(!u)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,y),u.apply(d,C)}}return function(){return u.apply(d,arguments)}}function g(u,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function m(u,d){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),u.apply(this,y)}}function w(u,d){function f(){}f.prototype=d.prototype,u.aa=d.prototype,u.prototype=new f,u.prototype.constructor=u,u.Qb=function(y,C,R){for(var L=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)L[Te-2]=arguments[Te];return d.prototype[C].apply(y,L)}}function N(u){let d=u.length;if(0<d){let f=Array(d);for(let y=0;y<d;y++)f[y]=u[y];return f}return[]}function S(u,d){for(let f=1;f<arguments.length;f++){let y=arguments[f];if(c(y)){let C=u.length||0,R=y.length||0;u.length=C+R;for(let L=0;L<R;L++)u[C+L]=y[L]}else u.push(y)}}class M{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function V(u){return/^[\s\xa0]*$/.test(u)}function H(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function K(u){return K[" "](u),u}K[" "]=function(){};var be=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function he(u,d,f){for(let y in u)d.call(f,u[y],y,u)}function D(u,d){for(let f in u)d.call(void 0,u[f],f,u)}function v(u){let d={};for(let f in u)d[f]=u[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(u,d){let f,y;for(let C=1;C<arguments.length;C++){y=arguments[C];for(f in y)u[f]=y[f];for(let R=0;R<I.length;R++)f=I[R],Object.prototype.hasOwnProperty.call(y,f)&&(u[f]=y[f])}}function b(u){var d=1;u=u.split(":");let f=[];for(;0<d&&u.length;)f.push(u.shift()),d--;return u.length&&f.push(u.join(":")),f}function A(u){a.setTimeout(()=>{throw u},0)}function E(){var u=mg;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class rr{constructor(){this.h=this.g=null}add(d,f){let y=Ga.get();y.set(d,f),this.h?this.h.next=y:this.g=y,this.h=y}}var Ga=new M(()=>new Kk,u=>u.reset());class Kk{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Wa,Ka=!1,mg=new rr,PT=()=>{let u=a.Promise.resolve(void 0);Wa=()=>{u.then(Qk)}};var Qk=()=>{for(var u;u=E();){try{u.h.call(u.g)}catch(f){A(f)}var d=Ga;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}Ka=!1};function Br(){this.s=this.s,this.C=this.C}Br.prototype.s=!1,Br.prototype.ma=function(){this.s||(this.s=!0,this.N())},Br.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pt(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}pt.prototype.h=function(){this.defaultPrevented=!0};var Yk=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return u})();function Qa(u,d){if(pt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var f=this.type=u.type,y=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(be){e:{try{K(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=u.fromElement:f=="mouseout"&&(d=u.toElement);this.relatedTarget=d,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Zk[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Qa.aa.h.call(this)}}w(Qa,pt);var Zk={2:"touch",3:"pen",4:"mouse"};Qa.prototype.h=function(){Qa.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ya="closure_listenable_"+(1e6*Math.random()|0),Jk=0;function Xk(u,d,f,y,C){this.listener=u,this.proxy=null,this.src=d,this.type=f,this.capture=!!y,this.ha=C,this.key=++Jk,this.da=this.fa=!1}function wl(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Tl(u){this.src=u,this.g={},this.h=0}Tl.prototype.add=function(u,d,f,y,C){var R=u.toString();u=this.g[R],u||(u=this.g[R]=[],this.h++);var L=vg(u,d,y,C);return-1<L?(d=u[L],f||(d.fa=!1)):(d=new Xk(d,this.src,R,!!y,C),d.fa=f,u.push(d)),d};function yg(u,d){var f=d.type;if(f in u.g){var y=u.g[f],C=Array.prototype.indexOf.call(y,d,void 0),R;(R=0<=C)&&Array.prototype.splice.call(y,C,1),R&&(wl(d),u.g[f].length==0&&(delete u.g[f],u.h--))}}function vg(u,d,f,y){for(var C=0;C<u.length;++C){var R=u[C];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==y)return C}return-1}var _g="closure_lm_"+(1e6*Math.random()|0),Eg={};function xT(u,d,f,y,C){if(y&&y.once)return OT(u,d,f,y,C);if(Array.isArray(d)){for(var R=0;R<d.length;R++)xT(u,d[R],f,y,C);return null}return f=Dg(f),u&&u[Ya]?u.K(d,f,l(y)?!!y.capture:!!y,C):kT(u,d,f,!1,y,C)}function kT(u,d,f,y,C,R){if(!d)throw Error("Invalid event type");var L=l(C)?!!C.capture:!!C,Te=wg(u);if(Te||(u[_g]=Te=new Tl(u)),f=Te.add(d,f,y,L,R),f.proxy)return f;if(y=eO(),f.proxy=y,y.src=u,y.listener=f,u.addEventListener)Yk||(C=L),C===void 0&&(C=!1),u.addEventListener(d.toString(),y,C);else if(u.attachEvent)u.attachEvent(LT(d.toString()),y);else if(u.addListener&&u.removeListener)u.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function eO(){function u(f){return d.call(u.src,u.listener,f)}let d=tO;return u}function OT(u,d,f,y,C){if(Array.isArray(d)){for(var R=0;R<d.length;R++)OT(u,d[R],f,y,C);return null}return f=Dg(f),u&&u[Ya]?u.L(d,f,l(y)?!!y.capture:!!y,C):kT(u,d,f,!0,y,C)}function FT(u,d,f,y,C){if(Array.isArray(d))for(var R=0;R<d.length;R++)FT(u,d[R],f,y,C);else y=l(y)?!!y.capture:!!y,f=Dg(f),u&&u[Ya]?(u=u.i,d=String(d).toString(),d in u.g&&(R=u.g[d],f=vg(R,f,y,C),-1<f&&(wl(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete u.g[d],u.h--)))):u&&(u=wg(u))&&(d=u.g[d.toString()],u=-1,d&&(u=vg(d,f,y,C)),(f=-1<u?d[u]:null)&&Ig(f))}function Ig(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[Ya])yg(d.i,u);else{var f=u.type,y=u.proxy;d.removeEventListener?d.removeEventListener(f,y,u.capture):d.detachEvent?d.detachEvent(LT(f),y):d.addListener&&d.removeListener&&d.removeListener(y),(f=wg(d))?(yg(f,u),f.h==0&&(f.src=null,d[_g]=null)):wl(u)}}}function LT(u){return u in Eg?Eg[u]:Eg[u]="on"+u}function tO(u,d){if(u.da)u=!0;else{d=new Qa(d,this);var f=u.listener,y=u.ha||u.src;u.fa&&Ig(u),u=f.call(y,d)}return u}function wg(u){return u=u[_g],u instanceof Tl?u:null}var Tg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dg(u){return typeof u=="function"?u:(u[Tg]||(u[Tg]=function(d){return u.handleEvent(d)}),u[Tg])}function gt(){Br.call(this),this.i=new Tl(this),this.M=this,this.F=null}w(gt,Br),gt.prototype[Ya]=!0,gt.prototype.removeEventListener=function(u,d,f,y){FT(this,u,d,f,y)};function Ct(u,d){var f,y=u.F;if(y)for(f=[];y;y=y.F)f.push(y);if(u=u.M,y=d.type||d,typeof d=="string")d=new pt(d,u);else if(d instanceof pt)d.target=d.target||u;else{var C=d;d=new pt(y,u),T(d,C)}if(C=!0,f)for(var R=f.length-1;0<=R;R--){var L=d.g=f[R];C=Dl(L,y,!0,d)&&C}if(L=d.g=u,C=Dl(L,y,!0,d)&&C,C=Dl(L,y,!1,d)&&C,f)for(R=0;R<f.length;R++)L=d.g=f[R],C=Dl(L,y,!1,d)&&C}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var f=u.g[d],y=0;y<f.length;y++)wl(f[y]);delete u.g[d],u.h--}}this.F=null},gt.prototype.K=function(u,d,f,y){return this.i.add(String(u),d,!1,f,y)},gt.prototype.L=function(u,d,f,y){return this.i.add(String(u),d,!0,f,y)};function Dl(u,d,f,y){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,R=0;R<d.length;++R){var L=d[R];if(L&&!L.da&&L.capture==f){var Te=L.listener,lt=L.ha||L.src;L.fa&&yg(u.i,L),C=Te.call(lt,y)!==!1&&C}}return C&&!y.defaultPrevented}function VT(u,d,f){if(typeof u=="function")f&&(u=g(u,f));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(u,d||0)}function jT(u){u.g=VT(()=>{u.g=null,u.i&&(u.i=!1,jT(u))},u.l);let d=u.h;u.h=null,u.m.apply(null,d)}class nO extends Br{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:jT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Za(u){Br.call(this),this.h=u,this.g={}}w(Za,Br);var UT=[];function BT(u){he(u.g,function(d,f){this.g.hasOwnProperty(f)&&Ig(d)},u),u.g={}}Za.prototype.N=function(){Za.aa.N.call(this),BT(this)},Za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bg=a.JSON.stringify,rO=a.JSON.parse,iO=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Cg(){}Cg.prototype.h=null;function $T(u){return u.h||(u.h=u.i())}function HT(){}var Ja={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sg(){pt.call(this,"d")}w(Sg,pt);function Ag(){pt.call(this,"c")}w(Ag,pt);var Vi={},zT=null;function bl(){return zT=zT||new gt}Vi.La="serverreachability";function qT(u){pt.call(this,Vi.La,u)}w(qT,pt);function Xa(u){let d=bl();Ct(d,new qT(d))}Vi.STAT_EVENT="statevent";function GT(u,d){pt.call(this,Vi.STAT_EVENT,u),this.stat=d}w(GT,pt);function St(u){let d=bl();Ct(d,new GT(d,u))}Vi.Ma="timingevent";function WT(u,d){pt.call(this,Vi.Ma,u),this.size=d}w(WT,pt);function ec(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},d)}function tc(){this.g=!0}tc.prototype.xa=function(){this.g=!1};function oO(u,d,f,y,C,R){u.info(function(){if(u.g)if(R)for(var L="",Te=R.split("&"),lt=0;lt<Te.length;lt++){var me=Te[lt].split("=");if(1<me.length){var mt=me[0];me=me[1];var yt=mt.split("_");L=2<=yt.length&&yt[1]=="type"?L+(mt+"="+me+"&"):L+(mt+"=redacted&")}}else L=null;else L=R;return"XMLHTTP REQ ("+y+") [attempt "+C+"]: "+d+`
`+f+`
`+L})}function sO(u,d,f,y,C,R,L){u.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+C+"]: "+d+`
`+f+`
`+R+" "+L})}function es(u,d,f,y){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+cO(u,f)+(y?" "+y:"")})}function aO(u,d){u.info(function(){return"TIMEOUT: "+d})}tc.prototype.info=function(){};function cO(u,d){if(!u.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(u=0;u<f.length;u++)if(Array.isArray(f[u])){var y=f[u];if(!(2>y.length)){var C=y[1];if(Array.isArray(C)&&!(1>C.length)){var R=C[0];if(R!="noop"&&R!="stop"&&R!="close")for(var L=1;L<C.length;L++)C[L]=""}}}}return bg(f)}catch{return d}}var Cl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},KT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rg;function Sl(){}w(Sl,Cg),Sl.prototype.g=function(){return new XMLHttpRequest},Sl.prototype.i=function(){return{}},Rg=new Sl;function $r(u,d,f,y){this.j=u,this.i=d,this.l=f,this.R=y||1,this.U=new Za(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new QT}function QT(){this.i=null,this.g="",this.h=!1}var YT={},Ng={};function Mg(u,d,f){u.L=1,u.v=Ml(ir(d)),u.m=f,u.P=!0,ZT(u,null)}function ZT(u,d){u.F=Date.now(),Al(u),u.A=ir(u.v);var f=u.A,y=u.R;Array.isArray(y)||(y=[String(y)]),dD(f.i,"t",y),u.C=0,f=u.j.J,u.h=new QT,u.g=RD(u.j,f?d:null,!u.m),0<u.O&&(u.M=new nO(g(u.Y,u,u.g),u.O)),d=u.U,f=u.g,y=u.ca;var C="readystatechange";Array.isArray(C)||(C&&(UT[0]=C.toString()),C=UT);for(var R=0;R<C.length;R++){var L=xT(f,C[R],y||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),Xa(),oO(u.i,u.u,u.A,u.l,u.R,u.m)}$r.prototype.ca=function(u){u=u.target;let d=this.M;d&&or(u)==3?d.j():this.Y(u)},$r.prototype.Y=function(u){try{if(u==this.g)e:{let yt=or(this.g);var d=this.g.Ba();let rs=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||vD(this.g)))){this.J||yt!=4||d==7||(d==8||0>=rs?Xa(3):Xa(2)),Pg(this);var f=this.g.Z();this.X=f;t:if(JT(this)){var y=vD(this.g);u="";var C=y.length,R=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ji(this),nc(this);var L="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,u+=this.h.i.decode(y[d],{stream:!(R&&d==C-1)});y.length=0,this.h.g+=u,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=f==200,sO(this.i,this.u,this.A,this.l,this.R,yt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,lt=this.g;if((Te=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Te)){var me=Te;break t}}me=null}if(f=me)es(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xg(this,f);else{this.o=!1,this.s=3,St(12),ji(this),nc(this);break e}}if(this.P){f=!0;let hn;for(;!this.J&&this.C<L.length;)if(hn=uO(this,L),hn==Ng){yt==4&&(this.s=4,St(14),f=!1),es(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==YT){this.s=4,St(15),es(this.i,this.l,L,"[Invalid Chunk]"),f=!1;break}else es(this.i,this.l,hn,null),xg(this,hn);if(JT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||L.length!=0||this.h.h||(this.s=1,St(16),f=!1),this.o=this.o&&f,!f)es(this.i,this.l,L,"[Invalid Chunked Response]"),ji(this),nc(this);else if(0<L.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),jg(mt),mt.M=!0,St(11))}}else es(this.i,this.l,L,null),xg(this,L);yt==4&&ji(this),this.o&&!this.J&&(yt==4?bD(this.j,this):(this.o=!1,Al(this)))}else CO(this.g),f==400&&0<L.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),ji(this),nc(this)}}}catch{}finally{}};function JT(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function uO(u,d){var f=u.C,y=d.indexOf(`
`,f);return y==-1?Ng:(f=Number(d.substring(f,y)),isNaN(f)?YT:(y+=1,y+f>d.length?Ng:(d=d.slice(y,y+f),u.C=y+f,d)))}$r.prototype.cancel=function(){this.J=!0,ji(this)};function Al(u){u.S=Date.now()+u.I,XT(u,u.I)}function XT(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ec(g(u.ba,u),d)}function Pg(u){u.B&&(a.clearTimeout(u.B),u.B=null)}$r.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(aO(this.i,this.A),this.L!=2&&(Xa(),St(17)),ji(this),this.s=2,nc(this)):XT(this,this.S-u)};function nc(u){u.j.G==0||u.J||bD(u.j,u)}function ji(u){Pg(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,BT(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function xg(u,d){try{var f=u.j;if(f.G!=0&&(f.g==u||kg(f.h,u))){if(!u.K&&kg(f.h,u)&&f.G==3){try{var y=f.Da.g.parse(d)}catch{y=null}if(Array.isArray(y)&&y.length==3){var C=y;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<u.F)Fl(f),kl(f);else break e;Vg(f),St(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=ec(g(f.Za,f),6e3));if(1>=nD(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Bi(f,11)}else if((u.K||f.g==u)&&Fl(f),!V(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let me=C[d];if(f.T=me[0],me=me[1],f.G==2)if(me[0]=="c"){f.K=me[1],f.ia=me[2];let mt=me[3];mt!=null&&(f.la=mt,f.j.info("VER="+f.la));let yt=me[4];yt!=null&&(f.Aa=yt,f.j.info("SVER="+f.Aa));let rs=me[5];rs!=null&&typeof rs=="number"&&0<rs&&(y=1.5*rs,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;let hn=u.g;if(hn){let Vl=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vl){var R=y.h;R.g||Vl.indexOf("spdy")==-1&&Vl.indexOf("quic")==-1&&Vl.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Og(R,R.h),R.h=null))}if(y.D){let Ug=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ug&&(y.ya=Ug,Ae(y.I,y.D,Ug))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-u.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var L=u;if(y.qa=AD(y,y.J?y.ia:null,y.W),L.K){rD(y.h,L);var Te=L,lt=y.L;lt&&(Te.I=lt),Te.B&&(Pg(Te),Al(Te)),y.g=L}else TD(y);0<f.i.length&&Ol(f)}else me[0]!="stop"&&me[0]!="close"||Bi(f,7);else f.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?Bi(f,7):Lg(f):me[0]!="noop"&&f.l&&f.l.ta(me),f.v=0)}}Xa(4)}catch{}}var lO=class{constructor(u,d){this.g=u,this.map=d}};function eD(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tD(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function nD(u){return u.h?1:u.g?u.g.size:0}function kg(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function Og(u,d){u.g?u.g.add(d):u.h=d}function rD(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}eD.prototype.cancel=function(){if(this.i=iD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function iD(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(let f of u.g.values())d=d.concat(f.D);return d}return N(u.i)}function dO(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var d=[],f=u.length,y=0;y<f;y++)d.push(u[y]);return d}d=[],f=0;for(y in u)d[f++]=u[y];return d}function hO(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var d=[];u=u.length;for(var f=0;f<u;f++)d.push(f);return d}d=[],f=0;for(let y in u)d[f++]=y;return d}}}function oD(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var f=hO(u),y=dO(u),C=y.length,R=0;R<C;R++)d.call(void 0,y[R],f&&f[R],u)}var sD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fO(u,d){if(u){u=u.split("&");for(var f=0;f<u.length;f++){var y=u[f].indexOf("="),C=null;if(0<=y){var R=u[f].substring(0,y);C=u[f].substring(y+1)}else R=u[f];d(R,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Ui(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ui){this.h=u.h,Rl(this,u.j),this.o=u.o,this.g=u.g,Nl(this,u.s),this.l=u.l;var d=u.i,f=new oc;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),aD(this,f),this.m=u.m}else u&&(d=String(u).match(sD))?(this.h=!1,Rl(this,d[1]||"",!0),this.o=rc(d[2]||""),this.g=rc(d[3]||"",!0),Nl(this,d[4]),this.l=rc(d[5]||"",!0),aD(this,d[6]||"",!0),this.m=rc(d[7]||"")):(this.h=!1,this.i=new oc(null,this.h))}Ui.prototype.toString=function(){var u=[],d=this.j;d&&u.push(ic(d,cD,!0),":");var f=this.g;return(f||d=="file")&&(u.push("//"),(d=this.o)&&u.push(ic(d,cD,!0),"@"),u.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&u.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&u.push("/"),u.push(ic(f,f.charAt(0)=="/"?mO:gO,!0))),(f=this.i.toString())&&u.push("?",f),(f=this.m)&&u.push("#",ic(f,vO)),u.join("")};function ir(u){return new Ui(u)}function Rl(u,d,f){u.j=f?rc(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function Nl(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function aD(u,d,f){d instanceof oc?(u.i=d,_O(u.i,u.h)):(f||(d=ic(d,yO)),u.i=new oc(d,u.h))}function Ae(u,d,f){u.i.set(d,f)}function Ml(u){return Ae(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function rc(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ic(u,d,f){return typeof u=="string"?(u=encodeURI(u).replace(d,pO),f&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pO(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var cD=/[#\/\?@]/g,gO=/[#\?:]/g,mO=/[#\?]/g,yO=/[#\?@]/g,vO=/#/g;function oc(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function Hr(u){u.g||(u.g=new Map,u.h=0,u.i&&fO(u.i,function(d,f){u.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=oc.prototype,n.add=function(u,d){Hr(this),this.i=null,u=ts(this,u);var f=this.g.get(u);return f||this.g.set(u,f=[]),f.push(d),this.h+=1,this};function uD(u,d){Hr(u),d=ts(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function lD(u,d){return Hr(u),d=ts(u,d),u.g.has(d)}n.forEach=function(u,d){Hr(this),this.g.forEach(function(f,y){f.forEach(function(C){u.call(d,C,y,this)},this)},this)},n.na=function(){Hr(this);let u=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let y=0;y<d.length;y++){let C=u[y];for(let R=0;R<C.length;R++)f.push(d[y])}return f},n.V=function(u){Hr(this);let d=[];if(typeof u=="string")lD(this,u)&&(d=d.concat(this.g.get(ts(this,u))));else{u=Array.from(this.g.values());for(let f=0;f<u.length;f++)d=d.concat(u[f])}return d},n.set=function(u,d){return Hr(this),this.i=null,u=ts(this,u),lD(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},n.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function dD(u,d,f){uD(u,d),0<f.length&&(u.i=null,u.g.set(ts(u,d),N(f)),u.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var y=d[f];let R=encodeURIComponent(String(y)),L=this.V(y);for(y=0;y<L.length;y++){var C=R;L[y]!==""&&(C+="="+encodeURIComponent(String(L[y]))),u.push(C)}}return this.i=u.join("&")};function ts(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function _O(u,d){d&&!u.j&&(Hr(u),u.i=null,u.g.forEach(function(f,y){var C=y.toLowerCase();y!=C&&(uD(this,y),dD(this,C,f))},u)),u.j=d}function EO(u,d){let f=new tc;if(a.Image){let y=new Image;y.onload=m(zr,f,"TestLoadImage: loaded",!0,d,y),y.onerror=m(zr,f,"TestLoadImage: error",!1,d,y),y.onabort=m(zr,f,"TestLoadImage: abort",!1,d,y),y.ontimeout=m(zr,f,"TestLoadImage: timeout",!1,d,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=u}else d(!1)}function IO(u,d){let f=new tc,y=new AbortController,C=setTimeout(()=>{y.abort(),zr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:y.signal}).then(R=>{clearTimeout(C),R.ok?zr(f,"TestPingServer: ok",!0,d):zr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),zr(f,"TestPingServer: error",!1,d)})}function zr(u,d,f,y,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),y(f)}catch{}}function wO(){this.g=new iO}function TO(u,d,f){let y=f||"";try{oD(u,function(C,R){let L=C;l(C)&&(L=bg(C)),d.push(y+R+"="+encodeURIComponent(L))})}catch(C){throw d.push(y+"type="+encodeURIComponent("_badmap")),C}}function sc(u){this.l=u.Ub||null,this.j=u.eb||!1}w(sc,Cg),sc.prototype.g=function(){return new Pl(this.l,this.j)},sc.prototype.i=(function(u){return function(){return u}})({});function Pl(u,d){gt.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Pl,gt),n=Pl.prototype,n.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,cc(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ac(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,cc(this)),this.g&&(this.readyState=3,cc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hD(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function hD(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?ac(this):cc(this),this.readyState==3&&hD(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,ac(this))},n.Qa=function(u){this.g&&(this.response=u,ac(this))},n.ga=function(){this.g&&ac(this)};function ac(u){u.readyState=4,u.l=null,u.j=null,u.v=null,cc(u)}n.setRequestHeader=function(u,d){this.u.append(u,d)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,u.push(f[0]+": "+f[1]),f=d.next();return u.join(`\r
`)};function cc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Pl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function fD(u){let d="";return he(u,function(f,y){d+=y,d+=":",d+=f,d+=`\r
`}),d}function Fg(u,d,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=fD(f),typeof u=="string"?f!=null&&encodeURIComponent(String(f)):Ae(u,d,f))}function ke(u){gt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(ke,gt);var DO=/^https?$/i,bO=["POST","PUT"];n=ke.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,d,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rg.g(),this.v=this.o?$T(this.o):$T(Rg),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(R){pD(this,R);return}if(u=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var C in y)f.set(C,y[C]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let R of y.keys())f.set(R,y.get(R));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),C=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(bO,d,void 0))||y||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,L]of f)this.g.setRequestHeader(R,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yD(this),this.u=!0,this.g.send(u),this.u=!1}catch(R){pD(this,R)}};function pD(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,gD(u),xl(u)}function gD(u){u.A||(u.A=!0,Ct(u,"complete"),Ct(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ct(this,"complete"),Ct(this,"abort"),xl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xl(this,!0)),ke.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?mD(this):this.bb())},n.bb=function(){mD(this)};function mD(u){if(u.h&&typeof s<"u"&&(!u.v[1]||or(u)!=4||u.Z()!=2)){if(u.u&&or(u)==4)VT(u.Ea,0,u);else if(Ct(u,"readystatechange"),or(u)==4){u.h=!1;try{let L=u.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var y;if(y=L===0){var C=String(u.D).match(sD)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),y=!DO.test(C?C.toLowerCase():"")}f=y}if(f)Ct(u,"complete"),Ct(u,"success");else{u.m=6;try{var R=2<or(u)?u.g.statusText:""}catch{R=""}u.l=R+" ["+u.Z()+"]",gD(u)}}finally{xl(u)}}}}function xl(u,d){if(u.g){yD(u);let f=u.g,y=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||Ct(u,"ready");try{f.onreadystatechange=y}catch{}}}function yD(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function or(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),rO(d)}};function vD(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function CO(u){let d={};u=(u.g&&2<=or(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<u.length;y++){if(V(u[y]))continue;var f=b(u[y]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[C]||[];d[C]=R,R.push(f)}D(d,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function uc(u,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[u]||d}function _D(u){this.Aa=0,this.i=[],this.j=new tc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=uc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=uc("baseRetryDelayMs",5e3,u),this.cb=uc("retryDelaySeedMs",1e4,u),this.Wa=uc("forwardChannelMaxRetries",2,u),this.wa=uc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new eD(u&&u.concurrentRequestLimit),this.Da=new wO,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=_D.prototype,n.la=8,n.G=1,n.connect=function(u,d,f,y){St(0),this.W=u,this.H=d||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=AD(this,null,this.W),Ol(this)};function Lg(u){if(ED(u),u.G==3){var d=u.U++,f=ir(u.I);if(Ae(f,"SID",u.K),Ae(f,"RID",d),Ae(f,"TYPE","terminate"),lc(u,f),d=new $r(u,u.j,d),d.L=2,d.v=Ml(ir(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=RD(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Al(d)}SD(u)}function kl(u){u.g&&(jg(u),u.g.cancel(),u.g=null)}function ED(u){kl(u),u.u&&(a.clearTimeout(u.u),u.u=null),Fl(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Ol(u){if(!tD(u.h)&&!u.s){u.s=!0;var d=u.Ga;Wa||PT(),Ka||(Wa(),Ka=!0),mg.add(d,u),u.B=0}}function SO(u,d){return nD(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ec(g(u.Ga,u,d),CD(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let C=new $r(this,this.j,u),R=this.o;if(this.S&&(R?(R=v(R),T(R,this.S)):R=this.S),this.m!==null||this.O||(C.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(d+=y,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=wD(this,C,d),f=ir(this.I),Ae(f,"RID",u),Ae(f,"CVER",22),this.D&&Ae(f,"X-HTTP-Session-Id",this.D),lc(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(fD(R)))+"&"+d:this.m&&Fg(f,this.m,R)),Og(this.h,C),this.Ua&&Ae(f,"TYPE","init"),this.P?(Ae(f,"$req",d),Ae(f,"SID","null"),C.T=!0,Mg(C,f,null)):Mg(C,f,d),this.G=2}}else this.G==3&&(u?ID(this,u):this.i.length==0||tD(this.h)||ID(this))};function ID(u,d){var f;d?f=d.l:f=u.U++;let y=ir(u.I);Ae(y,"SID",u.K),Ae(y,"RID",f),Ae(y,"AID",u.T),lc(u,y),u.m&&u.o&&Fg(y,u.m,u.o),f=new $r(u,u.j,f,u.B+1),u.m===null&&(f.H=u.o),d&&(u.i=d.D.concat(u.i)),d=wD(u,f,1e3),f.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Og(u.h,f),Mg(f,y,d)}function lc(u,d){u.H&&he(u.H,function(f,y){Ae(d,y,f)}),u.l&&oD({},function(f,y){Ae(d,y,f)})}function wD(u,d,f){f=Math.min(u.i.length,f);var y=u.l?g(u.l.Na,u.l,u):null;e:{var C=u.i;let R=-1;for(;;){let L=["count="+f];R==-1?0<f?(R=C[0].g,L.push("ofs="+R)):R=0:L.push("ofs="+R);let Te=!0;for(let lt=0;lt<f;lt++){let me=C[lt].g,mt=C[lt].map;if(me-=R,0>me)R=Math.max(0,C[lt].g-100),Te=!1;else try{TO(mt,L,"req"+me+"_")}catch{y&&y(mt)}}if(Te){y=L.join("&");break e}}}return u=u.i.splice(0,f),d.D=u,y}function TD(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;Wa||PT(),Ka||(Wa(),Ka=!0),mg.add(d,u),u.v=0}}function Vg(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ec(g(u.Fa,u),CD(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,DD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ec(g(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),kl(this),DD(this))};function jg(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function DD(u){u.g=new $r(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=ir(u.qa);Ae(d,"RID","rpc"),Ae(d,"SID",u.K),Ae(d,"AID",u.T),Ae(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ae(d,"TO",u.ja),Ae(d,"TYPE","xmlhttp"),lc(u,d),u.m&&u.o&&Fg(d,u.m,u.o),u.L&&(u.g.I=u.L);var f=u.g;u=u.ia,f.L=1,f.v=Ml(ir(d)),f.m=null,f.P=!0,ZT(f,u)}n.Za=function(){this.C!=null&&(this.C=null,kl(this),Vg(this),St(19))};function Fl(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function bD(u,d){var f=null;if(u.g==d){Fl(u),jg(u),u.g=null;var y=2}else if(kg(u.h,d))f=d.D,rD(u.h,d),y=1;else return;if(u.G!=0){if(d.o)if(y==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=u.B;y=bl(),Ct(y,new WT(y,f)),Ol(u)}else TD(u);else if(C=d.s,C==3||C==0&&0<d.X||!(y==1&&SO(u,d)||y==2&&Vg(u)))switch(f&&0<f.length&&(d=u.h,d.i=d.i.concat(f)),C){case 1:Bi(u,5);break;case 4:Bi(u,10);break;case 3:Bi(u,6);break;default:Bi(u,2)}}}function CD(u,d){let f=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(f*=2),f*d}function Bi(u,d){if(u.j.info("Error code "+d),d==2){var f=g(u.fb,u),y=u.Xa;let C=!y;y=new Ui(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Rl(y,"https"),Ml(y),C?EO(y.toString(),f):IO(y.toString(),f)}else St(2);u.G=0,u.l&&u.l.sa(d),SD(u),ED(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function SD(u){if(u.G=0,u.ka=[],u.l){let d=iD(u.h);(d.length!=0||u.i.length!=0)&&(S(u.ka,d),S(u.ka,u.i),u.h.i.length=0,N(u.i),u.i.length=0),u.l.ra()}}function AD(u,d,f){var y=f instanceof Ui?ir(f):new Ui(f);if(y.g!="")d&&(y.g=d+"."+y.g),Nl(y,y.s);else{var C=a.location;y=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var R=new Ui(null);y&&Rl(R,y),d&&(R.g=d),C&&Nl(R,C),f&&(R.l=f),y=R}return f=u.D,d=u.ya,f&&d&&Ae(y,f,d),Ae(y,"VER",u.la),lc(u,y),y}function RD(u,d,f){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new ke(new sc({eb:f})):new ke(u.pa),d.Ha(u.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ND(){}n=ND.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ll(){}Ll.prototype.g=function(u,d){return new zt(u,d)};function zt(u,d){gt.call(this),this.g=new _D(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!V(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!V(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new ns(this)}w(zt,gt),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){Lg(this.g)},zt.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var f={};f.__data__=u,u=f}else this.u&&(f={},f.__data__=bg(u),u=f);d.i.push(new lO(d.Ya++,u)),d.G==3&&Ol(d)},zt.prototype.N=function(){this.g.l=null,delete this.j,Lg(this.g),delete this.g,zt.aa.N.call(this)};function MD(u){Sg.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){e:{for(let f in d){u=f;break e}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}w(MD,Sg);function PD(){Ag.call(this),this.status=1}w(PD,Ag);function ns(u){this.g=u}w(ns,ND),ns.prototype.ua=function(){Ct(this.g,"a")},ns.prototype.ta=function(u){Ct(this.g,new MD(u))},ns.prototype.sa=function(u){Ct(this.g,new PD)},ns.prototype.ra=function(){Ct(this.g,"b")},Ll.prototype.createWebChannel=Ll.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,yI=kr.createWebChannelTransport=function(){return new Ll},mI=kr.getStatEventTarget=function(){return bl()},gI=kr.Event=Vi,_p=kr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cl.NO_ERROR=0,Cl.TIMEOUT=8,Cl.HTTP_ERROR=6,tl=kr.ErrorCode=Cl,KT.COMPLETE="complete",pI=kr.EventType=KT,HT.EventType=Ja,Ja.OPEN="a",Ja.CLOSE="b",Ja.ERROR="c",Ja.MESSAGE="d",gt.prototype.listen=gt.prototype.K,_a=kr.WebChannel=HT,qG=kr.FetchXmlHttpFactory=sc,ke.prototype.listenOnce=ke.prototype.L,ke.prototype.getLastError=ke.prototype.Ka,ke.prototype.getLastErrorCode=ke.prototype.Ba,ke.prototype.getStatus=ke.prototype.Z,ke.prototype.getResponseJson=ke.prototype.Oa,ke.prototype.getResponseText=ke.prototype.oa,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Ha,fI=kr.XhrIo=ke}).apply(typeof vp<"u"?vp:typeof self<"u"?self:typeof window<"u"?window:{});var EP="@firebase/firestore",IP="4.8.0";var ct=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ct.UNAUTHENTICATED=new ct(null),ct.GOOGLE_CREDENTIALS=new ct("google-credentials-uid"),ct.FIRST_PARTY=new ct("first-party-uid"),ct.MOCK_USER=new ct("mock-user");var $a="11.10.0";var Go=new Wn("@firebase/firestore");function Ea(){return Go.logLevel}function U(n,...e){if(Go.logLevel<=fe.DEBUG){let t=e.map(oT);Go.debug(`Firestore (${$a}): ${n}`,...t)}}function Fr(n,...e){if(Go.logLevel<=fe.ERROR){let t=e.map(oT);Go.error(`Firestore (${$a}): ${n}`,...t)}}function Pi(n,...e){if(Go.logLevel<=fe.WARN){let t=e.map(oT);Go.warn(`Firestore (${$a}): ${n}`,...t)}}function oT(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function G(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,lx(n,r,t)}function lx(n,e,t){let r=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Fr(r),new Error(r)}function Ee(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||lx(e,i,r)}function re(n,e){return n}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends Zt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Or=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Cp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},wI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ct.UNAUTHENTICATED))}shutdown(){}},TI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},DI=class{constructor(e){this.t=e,this.currentUser=ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ee(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Or,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>_(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Or)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string",31837,{l:r}),new Cp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string",2055,{h:e}),new ct(e)}},bI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ct.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},CI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new bI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Sp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},SI=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ht(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ee(this.o===void 0,3512);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Sp(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ee(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Sp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function GG(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function dx(){return new TextEncoder}var al=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=GG(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function de(n,e){return n<e?-1:n>e?1:0}function AI(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return de(r,i);{let o=dx(),s=WG(o.encode(wP(n,t)),o.encode(wP(e,t)));return s!==0?s:de(r,i)}}t+=r>65535?2:1}return de(n.length,e.length)}function wP(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function WG(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return de(n[t],e[t]);return de(n.length,e.length)}function Aa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var TP="__name__",Ap=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&G(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&G(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return de(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):AI(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xr.fromString(e.substring(4,e.length-2))}},qe=class n extends Ap{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},KG=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Xt=class n extends Ap{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return KG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TP}static keyField(){return new n([TP])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new $(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new $(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new $(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var W=class n{constructor(e){this.path=e}static fromPath(e){return new n(qe.fromString(e))}static fromName(e){return new n(qe.fromString(e).popFirst(5))}static empty(){return new n(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new qe(e.slice()))}};function QG(n,e,t){if(!t)throw new $(x.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function YG(n,e,t,r){if(e===!0&&r===!0)throw new $(x.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function DP(n){if(!W.isDocumentKey(n))throw new $(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function hx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function sT(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":G(12329,{type:typeof n})}function Si(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=sT(n);throw new $(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ze(n,e){let t={typeString:n};return e&&(t.value=e),t}function vl(n,e){if(!hx(n))throw new $(x.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new $(x.INVALID_ARGUMENT,t);return!0}var bP=-62135596800,CP=1e6,Je=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*CP);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<bP)throw new $(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CP}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vl(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-bP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:Ze("string",Je._jsonSchemaVersion),seconds:Ze("number"),nanoseconds:Ze("number")};var ce=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Je(0,0))}static max(){return new n(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var cl=-1,RI=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};RI.UNKNOWN_ID=-1;function ZG(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new Je(t+1,0):new Je(t,r));return new Wo(i,W.empty(),e)}function JG(n){return new Wo(n.readTime,n.key,cl)}var Wo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ce.min(),W.empty(),cl)}static max(){return new n(ce.max(),W.empty(),cl)}};function XG(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=W.comparator(n.documentKey,e.documentKey),t!==0?t:de(n.largestBatchId,e.largestBatchId))}var e3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",NI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ha(n){return _(this,null,function*(){if(n.code!==x.FAILED_PRECONDITION||n.message!==e3)throw n;U("LocalStore","Unexpectedly lost primary lease")})}var k=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&G(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function t3(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function za(n){return n.name==="IndexedDbTransactionError"}var aT=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),cT=-1;function ag(n){return n==null}function ul(n){return n===0&&1/n==-1/0}function n3(n){return typeof n=="number"&&Number.isInteger(n)&&!ul(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var fx="";function r3(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=SP(e)),e=i3(n.get(t),e);return SP(e)}function i3(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case fx:t+="";break;default:t+=o}}return t}function SP(n){return n+fx+""}var o3="remoteDocuments",px="owner";var gx="mutationQueues";var mx="mutations";var yx="documentMutations",s3="remoteDocumentsV14";var vx="remoteDocumentGlobal";var _x="targets";var Ex="targetDocuments";var Ix="targetGlobal",wx="collectionParents";var Tx="clientMetadata";var Dx="bundles";var bx="namedQueries";var a3="indexConfiguration";var c3="indexState";var u3="indexEntries";var Cx="documentOverlays";var l3="globals";var d3=[gx,mx,yx,o3,_x,px,Ix,Ex,Tx,vx,wx,Dx,bx],wle=[...d3,Cx],h3=[gx,mx,yx,s3,_x,px,Ix,Ex,Tx,vx,wx,Dx,bx,Cx],f3=h3,p3=[...f3,a3,c3,u3];var Tle=[...p3,l3];function AP(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Li(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Sx(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Be=class n{constructor(e,t){this.comparator=e,this.root=t||Zn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Da(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Da(this.root,e,this.comparator,!1)}getReverseIterator(){return new Da(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Da(this.root,e,this.comparator,!0)}},Da=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Zn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw G(43730,{key:this.key,value:this.value});if(this.right.isRed())throw G(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw G(27949);return e+(this.isRed()?0:1)}};Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1;Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw G(57766)}get value(){throw G(16141)}get color(){throw G(16727)}get left(){throw G(29726)}get right(){throw G(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Zn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ut=class n{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Rp(this.data.getIterator())}getIteratorFrom(e){return new Rp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Rp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var dn=class n{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new n([])}unionWith(e){let t=new ut(Xt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Aa(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Np=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var bt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Np("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};bt.EMPTY_BYTE_STRING=new bt("");var g3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(n){if(Ee(!!n,39018),typeof n=="string"){let e=0,t=g3.exec(n);if(Ee(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pe(n.seconds),nanos:Pe(n.nanos)}}function Pe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Vr(n){return typeof n=="string"?bt.fromBase64String(n):bt.fromUint8Array(n)}var Ax="server_timestamp",Rx="__type__",Nx="__previous_value__",Mx="__local_write_time__";function uT(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Rx])===null||t===void 0?void 0:t.stringValue)===Ax}function cg(n){let e=n.mapValue.fields[Nx];return uT(e)?cg(e):e}function ll(n){let e=Lr(n.mapValue.fields[Mx].timestampValue);return new Je(e.seconds,e.nanos)}var MI=class{constructor(e,t,r,i,o,s,a,c,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=h}},Mp="(default)",Pp=class n{constructor(e,t){this.projectId=e,this.database=t||Mp}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Mp}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var lT="__type__",Px="__max__",Ep={mapValue:{fields:{__type__:{stringValue:Px}}}},dT="__vector__",Ra="value";function xi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uT(n)?4:kx(n)?9007199254740991:xx(n)?10:11:G(28295,{value:n})}function er(n,e){if(n===e)return!0;let t=xi(n);if(t!==xi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ll(n).isEqual(ll(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Lr(i.timestampValue),a=Lr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Vr(i.bytesValue).isEqual(Vr(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Pe(i.geoPointValue.latitude)===Pe(o.geoPointValue.latitude)&&Pe(i.geoPointValue.longitude)===Pe(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Pe(i.integerValue)===Pe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Pe(i.doubleValue),a=Pe(o.doubleValue);return s===a?ul(s)===ul(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return Aa(n.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(AP(s)!==AP(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!er(s[c],a[c])))return!1;return!0})(n,e);default:return G(52216,{left:n})}}function dl(n,e){return(n.values||[]).find(t=>er(t,e))!==void 0}function Na(n,e){if(n===e)return 0;let t=xi(n),r=xi(e);if(t!==r)return de(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return de(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Pe(o.integerValue||o.doubleValue),c=Pe(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(n,e);case 3:return RP(n.timestampValue,e.timestampValue);case 4:return RP(ll(n),ll(e));case 5:return AI(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Vr(o),c=Vr(s);return a.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let h=de(a[l],c[l]);if(h!==0)return h}return de(a.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=de(Pe(o.latitude),Pe(s.latitude));return a!==0?a:de(Pe(o.longitude),Pe(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return NP(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,c,l,h;let p=o.fields||{},g=s.fields||{},m=(a=p[Ra])===null||a===void 0?void 0:a.arrayValue,w=(c=g[Ra])===null||c===void 0?void 0:c.arrayValue,N=de(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((h=w?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:NP(m,w)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Ep.mapValue&&s===Ep.mapValue)return 0;if(o===Ep.mapValue)return 1;if(s===Ep.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){let g=AI(c[p],h[p]);if(g!==0)return g;let m=Na(a[c[p]],l[h[p]]);if(m!==0)return m}return de(c.length,h.length)})(n.mapValue,e.mapValue);default:throw G(23264,{le:t})}}function RP(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return de(n,e);let t=Lr(n),r=Lr(e),i=de(t.seconds,r.seconds);return i!==0?i:de(t.nanos,r.nanos)}function NP(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Na(t[i],r[i]);if(o)return o}return de(t.length,r.length)}function Ma(n){return PI(n)}function PI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Lr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Vr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return W.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=PI(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${PI(t.fields[s])}`;return i+"}"})(n.mapValue):G(61005,{value:n})}function Tp(n){switch(xi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=cg(n);return e?16+Tp(e):16;case 5:return 2*n.stringValue.length;case 6:return Vr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Tp(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Li(r.fields,(o,s)=>{i+=o.length+Tp(s)}),i})(n.mapValue);default:throw G(13486,{value:n})}}function xI(n){return!!n&&"integerValue"in n}function hT(n){return!!n&&"arrayValue"in n}function MP(n){return!!n&&"nullValue"in n}function PP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Dp(n){return!!n&&"mapValue"in n}function xx(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[lT])===null||t===void 0?void 0:t.stringValue)===dT}function rl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Li(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=rl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function kx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Px}var ble={mapValue:{fields:{[lT]:{stringValue:dT},[Ra]:{arrayValue:{}}}}};var Jt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Dp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rl(t)}setAll(e){let t=Xt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=rl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Dp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Dp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Li(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(rl(this.value))}};function Ox(n){let e=[];return Li(n.fields,(t,r)=>{let i=new Xt([t]);if(Dp(r)){let o=Ox(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new dn(e)}var Rn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ce.min(),ce.min(),ce.min(),Jt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ce.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ce.min(),ce.min(),Jt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ce.min(),ce.min(),Jt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Pa=class{constructor(e,t){this.position=e,this.inclusive=t}};function xP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),t.key):r=Na(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function kP(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!er(n.position[t],e.position[t]))return!1;return!0}var xa=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function m3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var xp=class{},nt=class n extends xp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new OI(e,t,r):t==="array-contains"?new VI(e,r):t==="in"?new jI(e,r):t==="not-in"?new UI(e,r):t==="array-contains-any"?new BI(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new FI(e,r):new LI(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Na(t,this.value)):t!==null&&xi(this.value)===xi(t)&&this.matchesComparison(Na(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},tr=class n extends xp{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return Fx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function Fx(n){return n.op==="and"}function Lx(n){return y3(n)&&Fx(n)}function y3(n){for(let e of n.filters)if(e instanceof tr)return!1;return!0}function kI(n){if(n instanceof nt)return n.field.canonicalString()+n.op.toString()+Ma(n.value);if(Lx(n))return n.filters.map(e=>kI(e)).join(",");{let e=n.filters.map(t=>kI(t)).join(",");return`${n.op}(${e})`}}function Vx(n,e){return n instanceof nt?(function(r,i){return i instanceof nt&&r.op===i.op&&r.field.isEqual(i.field)&&er(r.value,i.value)})(n,e):n instanceof tr?(function(r,i){return i instanceof tr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Vx(s,i.filters[a]),!0):!1})(n,e):void G(19439)}function jx(n){return n instanceof nt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ma(t.value)}`})(n):n instanceof tr?(function(t){return t.op.toString()+" {"+t.getFilters().map(jx).join(" ,")+"}"})(n):"Filter"}var OI=class extends nt{constructor(e,t,r){super(e,t,r),this.key=W.fromName(r.referenceValue)}matches(e){let t=W.comparator(e.key,this.key);return this.matchesComparison(t)}},FI=class extends nt{constructor(e,t){super(e,"in",t),this.keys=Ux("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},LI=class extends nt{constructor(e,t){super(e,"not-in",t),this.keys=Ux("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Ux(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>W.fromName(r.referenceValue))}var VI=class extends nt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return hT(t)&&dl(t.arrayValue,this.value)}},jI=class extends nt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&dl(this.value.arrayValue,t)}},UI=class extends nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!dl(this.value.arrayValue,t)}},BI=class extends nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!hT(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>dl(this.value.arrayValue,r))}};var $I=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function OP(n,e=null,t=[],r=[],i=null,o=null,s=null){return new $I(n,e,t,r,i,o,s)}function fT(n){let e=re(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>kI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),ag(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ma(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ma(r)).join(",")),e.Pe=t}return e.Pe}function pT(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!m3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Vx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!kP(n.startAt,e.startAt)&&kP(n.endAt,e.endAt)}function HI(n){return W.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ka=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function v3(n,e,t,r,i,o,s,a){return new ka(n,e,t,r,i,o,s,a)}function gT(n){return new ka(n)}function FP(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _3(n){return n.collectionGroup!==null}function il(n){let e=re(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ut(Xt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new xa(o,r))}),t.has(Xt.keyField().canonicalString())||e.Te.push(new xa(Xt.keyField(),r))}return e.Te}function Jn(n){let e=re(n);return e.Ie||(e.Ie=E3(e,il(n))),e.Ie}function E3(n,e){if(n.limitType==="F")return OP(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new xa(i.field,o)});let t=n.endAt?new Pa(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Pa(n.startAt.position,n.startAt.inclusive):null;return OP(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function zI(n,e,t){return new ka(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ug(n,e){return pT(Jn(n),Jn(e))&&n.limitType===e.limitType}function Bx(n){return`${fT(Jn(n))}|lt:${n.limitType}`}function Ia(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>jx(i)).join(", ")}]`),ag(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ma(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ma(i)).join(",")),`Target(${r})`})(Jn(n))}; limitType=${n.limitType})`}function lg(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of il(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,c){let l=xP(s,a,c);return s.inclusive?l<=0:l<0})(r.startAt,il(r),i)||r.endAt&&!(function(s,a,c){let l=xP(s,a,c);return s.inclusive?l>=0:l>0})(r.endAt,il(r),i))})(n,e)}function I3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function $x(n){return(e,t)=>{let r=!1;for(let i of il(n)){let o=w3(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function w3(n,e,t){let r=n.field.isKeyField()?W.comparator(e.key,t.key):(function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?Na(c,l):G(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return G(19790,{direction:n.dir})}}var jr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Li(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Sx(this.inner)}size(){return this.innerSize}};var T3=new Be(W.comparator);function Ur(){return T3}var Hx=new Be(W.comparator);function nl(...n){let e=Hx;for(let t of n)e=e.insert(t.key,t);return e}function zx(n){let e=Hx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function $o(){return ol()}function qx(){return ol()}function ol(){return new jr(n=>n.toString(),(n,e)=>n.isEqual(e))}var D3=new Be(W.comparator),b3=new ut(W.comparator);function pe(...n){let e=b3;for(let t of n)e=e.add(t);return e}var C3=new ut(de);function S3(){return C3}function mT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ul(e)?"-0":e}}function Gx(n){return{integerValue:""+n}}function A3(n,e){return n3(e)?Gx(e):mT(n,e)}var Oa=class{constructor(){this._=void 0}};function R3(n,e,t){return n instanceof Fa?(function(i,o){let s={fields:{[Rx]:{stringValue:Ax},[Mx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&uT(o)&&(o=cg(o)),o&&(s.fields[Nx]=o),{mapValue:s}})(t,e):n instanceof ki?Kx(n,e):n instanceof Ko?Qx(n,e):(function(i,o){let s=Wx(i,o),a=LP(s)+LP(i.Ee);return xI(s)&&xI(i.Ee)?Gx(a):mT(i.serializer,a)})(n,e)}function N3(n,e,t){return n instanceof ki?Kx(n,e):n instanceof Ko?Qx(n,e):t}function Wx(n,e){return n instanceof La?(function(r){return xI(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Fa=class extends Oa{},ki=class extends Oa{constructor(e){super(),this.elements=e}};function Kx(n,e){let t=Yx(e);for(let r of n.elements)t.some(i=>er(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ko=class extends Oa{constructor(e){super(),this.elements=e}};function Qx(n,e){let t=Yx(e);for(let r of n.elements)t=t.filter(i=>!er(i,r));return{arrayValue:{values:t}}}var La=class extends Oa{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function LP(n){return Pe(n.integerValue||n.doubleValue)}function Yx(n){return hT(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var qI=class{constructor(e,t){this.field=e,this.transform=t}};function M3(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof ki&&i instanceof ki||r instanceof Ko&&i instanceof Ko?Aa(r.elements,i.elements,er):r instanceof La&&i instanceof La?er(r.Ee,i.Ee):r instanceof Fa&&i instanceof Fa})(n.transform,e.transform)}var GI=class{constructor(e,t){this.version=e,this.transformResults=t}},Ai=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function bp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Va=class{};function Zx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new kp(n.key,Ai.none()):new Qo(n.key,n.data,Ai.none());{let t=n.data,r=Jt.empty(),i=new ut(Xt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new nr(n.key,r,new dn(i.toArray()),Ai.none())}}function P3(n,e,t){n instanceof Qo?(function(i,o,s){let a=i.value.clone(),c=jP(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof nr?(function(i,o,s){if(!bp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=jP(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(Jx(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function sl(n,e,t,r){return n instanceof Qo?(function(o,s,a,c){if(!bp(o.precondition,s))return a;let l=o.value.clone(),h=UP(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof nr?(function(o,s,a,c){if(!bp(o.precondition,s))return a;let l=UP(o.fieldTransforms,c,s),h=s.data;return h.setAll(Jx(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return bp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function x3(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=Wx(r.transform,i||null);o!=null&&(t===null&&(t=Jt.empty()),t.set(r.field,o))}return t||null}function VP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Aa(r,i,(o,s)=>M3(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Qo=class extends Va{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},nr=class extends Va{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Jx(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function jP(n,e,t){let r=new Map;Ee(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,N3(s,a,t[i]))}return r}function UP(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,R3(o,s,e))}return r}var kp=class extends Va{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},WI=class extends Va{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var KI=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&P3(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=sl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=sl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=qx();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=Zx(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pe())}isEqual(e){return this.batchId===e.batchId&&Aa(this.mutations,e.mutations,(t,r)=>VP(t,r))&&Aa(this.baseMutations,e.baseMutations,(t,r)=>VP(t,r))}},QI=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ee(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return D3})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var YI=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ZI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Qe,ge;function k3(n){switch(n){case x.OK:return G(64938);case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0;default:return G(15467,{code:n})}}function Xx(n){if(n===void 0)return Fr("GRPC error has no .code"),x.UNKNOWN;switch(n){case Qe.OK:return x.OK;case Qe.CANCELLED:return x.CANCELLED;case Qe.UNKNOWN:return x.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return x.INTERNAL;case Qe.UNAVAILABLE:return x.UNAVAILABLE;case Qe.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Qe.NOT_FOUND:return x.NOT_FOUND;case Qe.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Qe.ABORTED:return x.ABORTED;case Qe.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Qe.DATA_LOSS:return x.DATA_LOSS;default:return G(39323,{code:n})}}(ge=Qe||(Qe={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";var BP=null;var O3=new xr([4294967295,4294967295],0);function $P(n){let e=dx().encode(n),t=new hI;return t.update(e),new Uint8Array(t.digest())}function HP(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xr([t,r],0),new xr([i,o],0)]}var JI=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ho(`Invalid padding: ${t}`);if(r<0)throw new Ho(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ho(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ho(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=xr.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(xr.fromNumber(r)));return i.compare(O3)===1&&(i=new xr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=$P(e),[r,i]=HP(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=$P(e),[r,i]=HP(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ho=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Op=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,hl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ce.min(),i,new Be(de),Ur(),pe())}},hl=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,pe(),pe(),pe())}};var ba=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Fp=class{constructor(e,t){this.targetId=e,this.De=t}},Lp=class{constructor(e,t,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Vp=class{constructor(){this.ve=0,this.Ce=zP(),this.Fe=bt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=pe(),t=pe(),r=pe();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:G(38017,{changeType:o})}}),new hl(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=zP()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ee(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},XI=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ur(),this.je=Ip(),this.Je=Ip(),this.He=new Be(de)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:G(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(HI(o))if(r===0){let s=new W(o.path);this.Xe(t,s,Rn.newNoDocument(s,ce.min()))}else Ee(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}BP?.ct((function(h,p,g,m,w){var N,S,M,V,H,K;let be={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},he=p.unchangedNames;return he&&(be.bloomFilter={applied:w===0,hashCount:(N=he?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(V=(M=(S=he?.bits)===null||S===void 0?void 0:S.bitmap)===null||M===void 0?void 0:M.length)!==null&&V!==void 0?V:0,padding:(K=(H=he?.bits)===null||H===void 0?void 0:H.padding)!==null&&K!==void 0?K:0,mightContain:D=>{var v;return(v=m?.mightContain(D))!==null&&v!==void 0&&v}}),be})(s,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Vr(r).toUint8Array()}catch(c){if(c instanceof Np)return Pi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new JI(s,i,o)}catch(c){return Pi(c instanceof Ho?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&HI(a.target)){let c=new W(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,Rn.newNoDocument(c,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=pe();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.st(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Op(e,t,this.He,this.ze,r);return this.ze=Ur(),this.je=Ip(),this.Je=Ip(),this.He=new Be(de),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Vp,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new ut(de),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new ut(de),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||U("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Vp),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Ip(){return new Be(W.comparator)}function zP(){return new Be(W.comparator)}var F3={asc:"ASCENDING",desc:"DESCENDING"},L3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V3={and:"AND",or:"OR"},ew=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function tw(n,e){return n.useProto3Json||ag(e)?e:{value:e}}function jp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ek(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function j3(n,e){return jp(n,e.toTimestamp())}function Xn(n){return Ee(!!n,49232),ce.fromTimestamp((function(t){let r=Lr(t);return new Je(r.seconds,r.nanos)})(n))}function yT(n,e){return nw(n,e).canonicalString()}function nw(n,e){let t=(function(i){return new qe(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function tk(n){let e=qe.fromString(n);return Ee(sk(e),10190,{key:e.toString()}),e}function rw(n,e){return yT(n.databaseId,e.path)}function vI(n,e){let t=tk(e);if(t.get(1)!==n.databaseId.projectId)throw new $(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new W(rk(t))}function nk(n,e){return yT(n.databaseId,e)}function U3(n){let e=tk(n);return e.length===4?qe.emptyPath():rk(e)}function iw(n){return new qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rk(n){return Ee(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function qP(n,e,t){return{name:rw(n,e),fields:t.value.mapValue.fields}}function B3(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(Ee(h===void 0||typeof h=="string",58123),bt.fromBase64String(h||"")):(Ee(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),bt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?x.UNKNOWN:Xx(l.code);return new $(h,l.message||"")})(s);t=new Lp(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=vI(n,r.document.name),o=Xn(r.document.updateTime),s=r.document.createTime?Xn(r.document.createTime):ce.min(),a=new Jt({mapValue:{fields:r.document.fields}}),c=Rn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new ba(l,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=vI(n,r.document),o=r.readTime?Xn(r.readTime):ce.min(),s=Rn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new ba([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=vI(n,r.document),o=r.removedTargetIds||[];t=new ba([],o,i,null)}else{if(!("filter"in e))return G(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new ZI(i,o),a=r.targetId;t=new Fp(a,s)}}return t}function $3(n,e){let t;if(e instanceof Qo)t={update:qP(n,e.key,e.value)};else if(e instanceof kp)t={delete:rw(n,e.key)};else if(e instanceof nr)t={update:qP(n,e.key,e.data),updateMask:Z3(e.fieldMask)};else{if(!(e instanceof WI))return G(16599,{Rt:e.type});t={verify:rw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof Fa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ki)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ko)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof La)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw G(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:j3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:G(27497)})(n,e.precondition)),t}function H3(n,e){return n&&n.length>0?(Ee(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?Xn(i.updateTime):Xn(o);return s.isEqual(ce.min())&&(s=Xn(o)),new GI(s,i.transformResults||[])})(t,e))):[]}function z3(n,e){return{documents:[nk(n,e.path)]}}function q3(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=nk(n,i);let o=(function(l){if(l.length!==0)return ok(tr.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(g){return{field:wa(g.field),direction:K3(g.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=tw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function G3(n){let e=U3(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ee(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let g=ik(p);return g instanceof tr&&Lx(g)?g.getFilters():[g]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(g=>(function(w){return new xa(Ta(w.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(g))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,ag(g)?null:g})(t.limit));let c=null;t.startAt&&(c=(function(p){let g=!!p.before,m=p.values||[];return new Pa(m,g)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let g=!p.before,m=p.values||[];return new Pa(m,g)})(t.endAt)),v3(e,i,s,o,a,"F",c,l)}function W3(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ik(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ta(t.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ta(t.unaryFilter.field);return nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ta(t.unaryFilter.field);return nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ta(t.unaryFilter.field);return nt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return G(61313);default:return G(60726)}})(n):n.fieldFilter!==void 0?(function(t){return nt.create(Ta(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return G(58110);default:return G(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return tr.create(t.compositeFilter.filters.map(r=>ik(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G(1026)}})(t.compositeFilter.op))})(n):G(30097,{filter:n})}function K3(n){return F3[n]}function Q3(n){return L3[n]}function Y3(n){return V3[n]}function wa(n){return{fieldPath:n.canonicalString()}}function Ta(n){return Xt.fromServerFormat(n.fieldPath)}function ok(n){return n instanceof nt?(function(t){if(t.op==="=="){if(PP(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NAN"}};if(MP(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(PP(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NOT_NAN"}};if(MP(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wa(t.field),op:Q3(t.op),value:t.value}}})(n):n instanceof tr?(function(t){let r=t.getFilters().map(i=>ok(i));return r.length===1?r[0]:{compositeFilter:{op:Y3(t.op),filters:r}}})(n):G(54877,{filter:n})}function Z3(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sk(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var fl=class n{constructor(e,t,r,i,o=ce.min(),s=ce.min(),a=bt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var ow=class{constructor(e){this.gt=e}};function J3(n){let e=G3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zI(e,e.limit,"L"):e}var Up=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Pe(e.integerValue));else if("doubleValue"in e){let r=Pe(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),ul(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Lr(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Vr(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?kx(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):xx(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):G(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Ra,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Pe(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),W.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Up.Ut=new Up;var sw=class{constructor(){this.Dn=new aw}addToCollectionParentIndex(e,t){return this.Dn.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return k.resolve()}deleteFieldIndex(e,t){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,t){return k.resolve()}getDocumentsMatchingTarget(e,t){return k.resolve(null)}getIndexType(e,t){return k.resolve(0)}getFieldIndexes(e,t){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,t){return k.resolve(Wo.min())}getMinOffsetFromCollectionGroup(e,t){return k.resolve(Wo.min())}updateCollectionGroup(e,t,r){return k.resolve()}updateIndexEntries(e,t){return k.resolve()}},aw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ut(qe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut(qe.comparator)).toArray()}};var Cle=new Uint8Array(0);var GP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ak=41943040,ln=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(ak,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);var pl=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var WP="LruGarbageCollector",X3=1048576;function KP([n,e],[t,r]){let i=de(n,t);return i===0?de(e,r):i}var cw=class{constructor(e){this.Tr=e,this.buffer=new ut(KP),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();KP(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},uw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){U(WP,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){za(t)?U(WP,"Ignoring IndexedDB error during garbage collection: ",t):yield Ha(t)}yield this.Rr(3e5)}))}},lw=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return k.resolve(aT.ue);let r=new cw(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(GP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GP):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,c,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ea()<=fe.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(l-c)+`ms
Total Duration: ${l-h}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function e6(n,e){return new lw(n,e)}var dw=class{constructor(){this.changes=new jr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?k.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var hw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var fw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&sl(r.mutation,i,dn.empty(),Je.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pe()){let i=$o();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=nl();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=$o();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Ur(),s=ol(),a=(function(){return ol()})();return t.forEach((c,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof nr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),sl(h.mutation,l,h.mutation.getFieldMask(),Je.now())):s.set(l.key,dn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new hw(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=ol(),i=new Be((s,a)=>s-a),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let h=r.get(c)||dn.empty();h=a.applyToLocalView(l,h),r.set(c,h);let p=(i.get(a.batchId)||pe()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,h=c.value,p=qx();h.forEach(g=>{if(!o.has(g)){let m=Zx(t.get(g),r.get(g));m!==null&&p.set(g,m),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):k.resolve($o()),a=cl,c=o;return s.next(l=>k.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?k.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,pe())).next(h=>({batchId:a,changes:zx(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new W(t)).next(r=>{let i=nl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=nl();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,c=>{let l=(function(p,g){return new ka(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Rn.newInvalidDocument(h)))});let a=nl();return s.forEach((c,l)=>{let h=o.get(c);h!==void 0&&sl(h.mutation,l,dn.empty(),Je.now()),lg(t,l)&&(a=a.insert(c,l))}),a})}};var pw=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return k.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Xn(i.createTime)}})(t)),k.resolve()}getNamedQuery(e,t){return k.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:J3(i.bundledQuery),readTime:Xn(i.readTime)}})(t)),k.resolve()}};var gw=class{constructor(){this.overlays=new Be(W.comparator),this.kr=new Map}getOverlay(e,t){return k.resolve(this.overlays.get(t))}getOverlays(e,t){let r=$o();return k.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),k.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),k.resolve()}getOverlaysForCollection(e,t,r){let i=$o(),o=t.length+1,s=new W(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return k.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Be((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=$o(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=$o(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return k.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new YI(t,r));let o=this.kr.get(t);o===void 0&&(o=pe(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var mw=class{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,k.resolve()}};var gl=class{constructor(){this.qr=new ut(Ye.Qr),this.$r=new ut(Ye.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Ye(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Ye(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new W(new qe([])),r=new Ye(t,e),i=new Ye(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new W(new qe([])),r=new Ye(t,e),i=new Ye(t,e+1),o=pe();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ye(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ye=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return W.comparator(e.key,t.key)||de(e.Hr,t.Hr)}static Ur(e,t){return de(e.Hr,t.Hr)||W.comparator(e.key,t.key)}};var yw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new ut(Ye.Qr)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new KI(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Ye(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,t){return k.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?cT:this.er-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ye(t,0),i=new Ye(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ut(de);return t.forEach(i=>{let o=new Ye(i,0),s=new Ye(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),k.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;W.isDocumentKey(o)||(o=o.child(""));let s=new Ye(new W(o),0),a=new ut(de);return this.Yr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Hr)),!0)},s),k.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ee(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return k.forEach(t.mutations,i=>{let o=new Ye(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Ye(t,0),i=this.Yr.firstAfterOrEqual(r);return k.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var vw=class{constructor(e){this.ni=e,this.docs=(function(){return new Be(W.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return k.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(t))}getEntries(e,t){let r=Ur();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Rn.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ur(),s=t.path,a=new W(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||XG(JG(h),r)<=0||(i.has(h.key)||lg(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,t,r,i){G(9500)}ri(e,t){return k.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _w(this)}getSize(e){return k.resolve(this.size)}},_w=class extends dw{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),k.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var Ew=class{constructor(e){this.persistence=e,this.ii=new jr(t=>fT(t),pT),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.si=0,this.oi=new gl,this.targetCount=0,this._i=pl.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),k.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new pl(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.hr(t),k.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return k.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),k.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),k.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return k.resolve(r)}containsKey(e,t){return k.resolve(this.oi.containsKey(t))}};var Bp=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new aT(0),this.ci=!1,this.ci=!0,this.li=new mw,this.referenceDelegate=e(this),this.hi=new Ew(this),this.indexManager=new sw,this.remoteDocumentCache=(function(i){return new vw(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new ow(t),this.Ti=new pw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new yw(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){U("MemoryPersistence","Starting transaction:",e);let i=new Iw(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return k.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},Iw=class extends NI{constructor(e){super(),this.currentSequenceNumber=e}},ww=class n{constructor(e){this.persistence=e,this.Ai=new gl,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw G(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),k.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),k.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.mi,r=>{let i=W.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ce.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return k.or([()=>k.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},$p=class n{constructor(e,t){this.persistence=e,this.gi=new jr(r=>r3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=e6(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return k.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return k.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?k.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ce.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),k.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),k.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),k.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),k.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Tp(e.data.value)),t}Sr(e,t,r){return k.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return k.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Tw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=pe(),i=pe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Dw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var bw=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return $N()?8:t3(at())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Dw;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Ea()<=fe.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Ia(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),k.resolve()):(Ea()<=fe.DEBUG&&U("QueryEngine","Query:",Ia(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ea()<=fe.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Ia(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(t))):k.resolve())}ps(e,t){if(FP(t))return k.resolve(null);let r=Jn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=zI(t,null,"F"),r=Jn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=pe(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.bs(t,a);return this.Ds(t,l,s,c.readTime)?this.ps(e,zI(t,null,"F")):this.vs(e,l,t,c)}))})))}ys(e,t,r,i){return FP(t)||i.isEqual(ce.min())?k.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?k.resolve(null):(Ea()<=fe.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ia(t)),this.vs(e,s,t,ZG(i,cl)).next(a=>a))})}bs(e,t){let r=new ut($x(e));return t.forEach((i,o)=>{lg(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Ea()<=fe.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Ia(t)),this.gs.getDocumentsMatchingQuery(e,t,Wo.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var vT="LocalStore",t6=3e8,Cw=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Be(de),this.Ms=new jr(o=>fT(o),pT),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function n6(n,e,t,r){return new Cw(n,e,t,r)}function ck(n,e){return _(this,null,function*(){let t=re(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=pe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(r,c).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function r6(n,e){let t=re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,c,l,h){let p=l.batch,g=p.keys(),m=k.resolve();return g.forEach(w=>{m=m.next(()=>h.getEntry(c,w)).next(N=>{let S=l.docVersions.get(w);Ee(S!==null,48541),N.version.compareTo(S)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=pe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function uk(n){let e=re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function i6(n,e){let t=re(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let m=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(bt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),(function(N,S,M){return N.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=t6?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(g,m,h)&&a.push(t.hi.updateTargetData(o,m))});let c=Ur(),l=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(o6(o,s,e.documentUpdates).next(h=>{c=h.Ls,l=h.ks})),!r.isEqual(ce.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.Fs=i,o))}function o6(n,e,t){let r=pe(),i=pe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Ur();return t.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ce.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):U(vT,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function s6(n,e){let t=re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=cT),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function a6(n,e){let t=re(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new fl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function Sw(n,e,t){return _(this,null,function*(){let r=re(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!za(s))throw s;U(vT,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function QP(n,e,t){let r=re(n),i=ce.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(c,l,h){let p=re(c),g=p.Ms.get(h);return g!==void 0?k.resolve(p.Fs.get(g)):p.hi.getTargetData(l,h)})(r,s,Jn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ce.min(),t?o:pe())).next(a=>(c6(r,I3(e),a),{documents:a,qs:o})))}function c6(n,e,t){let r=n.xs.get(e)||ce.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Hp=class{constructor(){this.activeTargetIds=S3()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Aw=class{constructor(){this.Fo=new Hp,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Hp,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Rw=class{xo(e){}shutdown(){}};var YP="ConnectivityMonitor",zp=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){U(YP,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){U(YP,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var wp=null;function Nw(){return wp===null?wp=(function(){return 268435456+Math.round(2147483648*Math.random())})():wp++,"0x"+wp.toString(16)}var _I="RestConnection",u6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Mw=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Mp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=Nw(),a=this.Go(e,t.toUriEncodedString());U(_I,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:l}=new URL(a),h=mi(l);return this.jo(e,a,c,r,h).then(p=>(U(_I,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Pi(_I,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$a})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=u6[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var Pw=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Tt="WebChannelConnection",xw=class extends Mw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=Nw();return new Promise((a,c)=>{let l=new fI;l.setWithCredentials(!0),l.listenOnce(pI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case tl.NO_ERROR:let p=l.getResponseJson();U(Tt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case tl.TIMEOUT:U(Tt,`RPC '${e}' ${s} timed out`),c(new $(x.DEADLINE_EXCEEDED,"Request time out"));break;case tl.HTTP_ERROR:let g=l.getStatus();if(U(Tt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let w=m?.error;if(w&&w.status&&w.message){let N=(function(M){let V=M.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(V)>=0?V:x.UNKNOWN})(w.status);c(new $(N,w.message))}else c(new $(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new $(x.UNAVAILABLE,"Connection failed."));break;default:G(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{U(Tt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);U(Tt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=Nw(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yI(),a=mI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let h=o.join("");U(Tt,`Creating RPC '${e}' stream ${i}: ${h}`,c);let p=s.createWebChannel(h,c);this.T_(p);let g=!1,m=!1,w=new Pw({Ho:S=>{m?U(Tt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(g||(U(Tt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),U(Tt,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Yo:()=>p.close()}),N=(S,M,V)=>{S.listen(M,H=>{try{V(H)}catch(K){setTimeout(()=>{throw K},0)}})};return N(p,_a.EventType.OPEN,()=>{m||(U(Tt,`RPC '${e}' stream ${i} transport opened.`),w.s_())}),N(p,_a.EventType.CLOSE,()=>{m||(m=!0,U(Tt,`RPC '${e}' stream ${i} transport closed`),w.__(),this.I_(p))}),N(p,_a.EventType.ERROR,S=>{m||(m=!0,Pi(Tt,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),w.__(new $(x.UNAVAILABLE,"The operation could not be completed")))}),N(p,_a.EventType.MESSAGE,S=>{var M;if(!m){let V=S.data[0];Ee(!!V,16349);let H=V,K=H?.error||((M=H[0])===null||M===void 0?void 0:M.error);if(K){U(Tt,`RPC '${e}' stream ${i} received error:`,K);let be=K.status,he=(function(I){let T=Qe[I];if(T!==void 0)return Xx(T)})(be),D=K.message;he===void 0&&(he=x.INTERNAL,D="Unknown error status: "+be+" with message "+K.message),m=!0,w.__(new $(he,D)),p.close()}else U(Tt,`RPC '${e}' stream ${i} received:`,V),w.a_(V)}}),N(a,gI.STAT_EVENT,S=>{S.stat===_p.PROXY?U(Tt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===_p.NOPROXY&&U(Tt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.o_()},0),w}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function EI(){return typeof document<"u"?document:null}function dg(n){return new ew(n,!0)}var qp=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var ZP="PersistentStream",Gp=class{constructor(e,t,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new qp(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return _(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return _(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return _(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===x.RESOURCE_EXHAUSTED?(Fr(t.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new $(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>_(this,null,function*(){this.state=0,this.start()}))}G_(e){return U(ZP,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(U(ZP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},kw=class extends Gp{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=B3(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ce.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ce.min():s.readTime?Xn(s.readTime):ce.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=iw(this.serializer),t.addTarget=(function(o,s){let a,c=s.target;if(a=HI(c)?{documents:z3(o,c)}:{query:q3(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=ek(o,s.resumeToken);let l=tw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ce.min())>0){a.readTime=jp(o,s.snapshotVersion.toTimestamp());let l=tw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=W3(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=iw(this.serializer),t.removeTarget=e,this.k_(t)}},Ow=class extends Gp{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=H3(e.writeResults,e.commitTime),r=Xn(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=iw(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>$3(this.serializer,r))};this.k_(t)}};var Fw=class{},Lw=class extends Fw{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new $(x.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,nw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(x.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,nw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(x.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},Vw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Fr(t),this._a=!1):U("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Yo="RemoteStore",jw=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Jo(this)&&(U(Yo,"Restarting streams for network reachability change."),yield(function(c){return _(this,null,function*(){let l=re(c);l.Ia.add(4),yield _l(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield hg(l)})})(this))}))}),this.Aa=new Vw(r,i)}};function hg(n){return _(this,null,function*(){if(Jo(n))for(let e of n.da)yield e(!0)})}function _l(n){return _(this,null,function*(){for(let e of n.da)yield e(!1)})}function lk(n,e){let t=re(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),wT(t)?IT(t):qa(t).x_()&&ET(t,e))}function _T(n,e){let t=re(n),r=qa(t);t.Ta.delete(e),r.x_()&&dk(t,e),t.Ta.size===0&&(r.x_()?r.B_():Jo(t)&&t.Aa.set("Unknown"))}function ET(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}qa(n).H_(e)}function dk(n,e){n.Ra.$e(e),qa(n).Y_(e)}function IT(n){n.Ra=new XI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),qa(n).start(),n.Aa.aa()}function wT(n){return Jo(n)&&!qa(n).M_()&&n.Ta.size>0}function Jo(n){return re(n).Ia.size===0}function hk(n){n.Ra=void 0}function l6(n){return _(this,null,function*(){n.Aa.set("Online")})}function d6(n){return _(this,null,function*(){n.Ta.forEach((e,t)=>{ET(n,e)})})}function h6(n,e){return _(this,null,function*(){hk(n),wT(n)?(n.Aa.la(e),IT(n)):n.Aa.set("Unknown")})}function f6(n,e,t){return _(this,null,function*(){if(n.Aa.set("Online"),e instanceof Lp&&e.state===2&&e.cause)try{yield(function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){U(Yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Wp(n,r)}else if(e instanceof ba?n.Ra.Ye(e):e instanceof Fp?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ce.min()))try{let r=yield uk(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let h=o.Ta.get(c);if(!h)return;o.Ta.set(c,h.withResumeToken(bt.EMPTY_BYTE_STRING,h.snapshotVersion)),dk(o,c);let p=new fl(h.target,c,l,h.sequenceNumber);ET(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){U(Yo,"Failed to raise snapshot:",r),yield Wp(n,r)}})}function Wp(n,e,t){return _(this,null,function*(){if(!za(e))throw e;n.Ia.add(1),yield _l(n),n.Aa.set("Offline"),t||(t=()=>uk(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){U(Yo,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield hg(n)}))})}function fk(n,e){return e().catch(t=>Wp(n,t,e))}function fg(n){return _(this,null,function*(){let e=re(n),t=Oi(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:cT;for(;p6(e);)try{let i=yield s6(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,g6(e,i)}catch(i){yield Wp(e,i)}pk(e)&&gk(e)})}function p6(n){return Jo(n)&&n.Pa.length<10}function g6(n,e){n.Pa.push(e);let t=Oi(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function pk(n){return Jo(n)&&!Oi(n).M_()&&n.Pa.length>0}function gk(n){Oi(n).start()}function m6(n){return _(this,null,function*(){Oi(n).na()})}function y6(n){return _(this,null,function*(){let e=Oi(n);for(let t of n.Pa)e.X_(t.mutations)})}function v6(n,e,t){return _(this,null,function*(){let r=n.Pa.shift(),i=QI.from(r,e,t);yield fk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield fg(n)})}function _6(n,e){return _(this,null,function*(){e&&Oi(n).Z_&&(yield(function(r,i){return _(this,null,function*(){if((function(s){return k3(s)&&s!==x.ABORTED})(i.code)){let o=r.Pa.shift();Oi(r).N_(),yield fk(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield fg(r)}})})(n,e)),pk(n)&&gk(n)})}function JP(n,e){return _(this,null,function*(){let t=re(n);t.asyncQueue.verifyOperationInProgress(),U(Yo,"RemoteStore received new credentials");let r=Jo(t);t.Ia.add(3),yield _l(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield hg(t)})}function E6(n,e){return _(this,null,function*(){let t=re(n);e?(t.Ia.delete(2),yield hg(t)):e||(t.Ia.add(2),yield _l(t),t.Aa.set("Unknown"))})}function qa(n){return n.Va||(n.Va=(function(t,r,i){let o=re(t);return o.ia(),new kw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:l6.bind(null,n),e_:d6.bind(null,n),n_:h6.bind(null,n),J_:f6.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.Va.N_(),wT(n)?IT(n):n.Aa.set("Unknown")):(yield n.Va.stop(),hk(n))}))),n.Va}function Oi(n){return n.ma||(n.ma=(function(t,r,i){let o=re(t);return o.ia(),new Ow(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:m6.bind(null,n),n_:_6.bind(null,n),ea:y6.bind(null,n),ta:v6.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.ma.N_(),yield fg(n)):(yield n.ma.stop(),n.Pa.length>0&&(U(Yo,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var Uw=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function TT(n,e){if(Fr("AsyncQueue",`${e}: ${n}`),za(n))return new $(x.UNAVAILABLE,`${e}: ${n}`);throw n}var Kp=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||W.comparator(t.key,r.key):(t,r)=>W.comparator(t.key,r.key),this.keyedMap=nl(),this.sortedSet=new Be(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Qp=class{constructor(){this.fa=new Be(W.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):G(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},ja=class n{constructor(e,t,r,i,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Kp.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ug(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Bw=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},$w=class{constructor(){this.queries=XP(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=re(t),o=i.queries;i.queries=XP(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new $(x.ABORTED,"Firestore shutting down"))}};function XP(){return new jr(n=>Bx(n),ug)}function I6(n,e){return _(this,null,function*(){let t=re(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new Bw,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=TT(s,`Initialization of query '${Ia(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&DT(t)})}function w6(n,e){return _(this,null,function*(){let t=re(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function T6(n,e){let t=re(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&DT(t)}function D6(n,e,t){let r=re(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function DT(n){n.Da.forEach(e=>{e.next()})}var Hw,ex;(ex=Hw||(Hw={})).Fa="default",ex.Cache="cache";var zw=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ja(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Hw.Cache}};var Yp=class{constructor(e){this.key=e}},Zp=class{constructor(e){this.key=e}},qw=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=pe(),this.mutatedKeys=pe(),this.Xa=$x(e),this.eu=new Kp(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Qp,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),m=lg(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),N=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),S=!1;g&&m?g.data.isEqual(m.data)?w!==N&&(r.track({type:3,doc:m}),S=!0):this.iu(g,m)||(r.track({type:2,doc:m}),S=!0,(c&&this.Xa(m,c)>0||l&&this.Xa(m,l)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),S=!0):g&&!m&&(r.track({type:1,doc:g}),S=!0,(c||l)&&(a=!0)),S&&(m?(s=s.add(m),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(m,w){let N=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G(20277,{At:S})}};return N(m)-N(w)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,l=c!==this.Ya;return this.Ya=c,s.length!==0||l?{snapshot:new ja(this.query,e.eu,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Qp,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=pe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Zp(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Yp(r))}),t}uu(e){this.Ha=e.qs,this.Za=pe();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return ja.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},bT="SyncEngine",Gw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Ww=class{constructor(e){this.key=e,this.lu=!1}},Kw=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new jr(a=>Bx(a),ug),this.Tu=new Map,this.Iu=new Set,this.du=new Be(W.comparator),this.Eu=new Map,this.Au=new gl,this.Ru={},this.Vu=new Map,this.mu=pl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function b6(n,e,t=!0){return _(this,null,function*(){let r=Ik(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield mk(r,e,t,!0),i})}function C6(n,e){return _(this,null,function*(){let t=Ik(n);yield mk(t,e,!0,!1)})}function mk(n,e,t,r){return _(this,null,function*(){let i=yield a6(n.localStore,Jn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield S6(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&lk(n.remoteStore,i),a})}function S6(n,e,t,r,i){return _(this,null,function*(){n.gu=(p,g,m)=>(function(N,S,M,V){return _(this,null,function*(){let H=S.view.nu(M);H.Ds&&(H=yield QP(N.localStore,S.query,!1).then(({documents:D})=>S.view.nu(D,H)));let K=V&&V.targetChanges.get(S.targetId),be=V&&V.targetMismatches.get(S.targetId)!=null,he=S.view.applyChanges(H,N.isPrimaryClient,K,be);return nx(N,S.targetId,he._u),he.snapshot})})(n,p,g,m);let o=yield QP(n.localStore,e,!0),s=new qw(e,o.qs),a=s.nu(o.documents),c=hl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,c);nx(n,t,l._u);let h=new Gw(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function A6(n,e,t){return _(this,null,function*(){let r=re(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!ug(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Sw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&_T(r.remoteStore,i.targetId),Qw(r,i.targetId)}).catch(Ha))):(Qw(r,i.targetId),yield Sw(r.localStore,i.targetId,!0))})}function R6(n,e){return _(this,null,function*(){let t=re(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),_T(t.remoteStore,r.targetId))})}function N6(n,e,t){return _(this,null,function*(){let r=L6(n);try{let i=yield(function(s,a){let c=re(s),l=Je.now(),h=a.reduce((m,w)=>m.add(w.key),pe()),p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=Ur(),N=pe();return c.Os.getEntries(m,h).next(S=>{w=S,w.forEach((M,V)=>{V.isValidDocument()||(N=N.add(M))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,w)).next(S=>{p=S;let M=[];for(let V of a){let H=x3(V,p.get(V.key).overlayedDocument);H!=null&&M.push(new nr(V.key,H,Ox(H.value.mapValue),Ai.exists(!0)))}return c.mutationQueue.addMutationBatch(m,l,M,a)}).next(S=>{g=S;let M=S.applyToLocalDocumentSet(p,N);return c.documentOverlayCache.saveOverlays(m,S.batchId,M)})}).then(()=>({batchId:g.batchId,changes:zx(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,c){let l=s.Ru[s.currentUser.toKey()];l||(l=new Be(de)),l=l.insert(a,c),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),yield El(r,i.changes),yield fg(r.remoteStore)}catch(i){let o=TT(i,"Failed to persist write");t.reject(o)}})}function yk(n,e){return _(this,null,function*(){let t=re(n);try{let r=yield i6(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Ee(s.lu,14607):i.removedDocuments.size>0&&(Ee(s.lu,42227),s.lu=!1))}),yield El(t,r,e)}catch(r){yield Ha(r)}})}function tx(n,e,t){let r=re(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let c=re(s);c.onlineState=a;let l=!1;c.queries.forEach((h,p)=>{for(let g of p.wa)g.va(a)&&(l=!0)}),l&&DT(c)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function M6(n,e,t){return _(this,null,function*(){let r=re(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Be(W.comparator);s=s.insert(o,Rn.newNoDocument(o,ce.min()));let a=pe().add(o),c=new Op(ce.min(),new Map,new Be(de),s,a);yield yk(r,c),r.du=r.du.remove(o),r.Eu.delete(e),CT(r)}else yield Sw(r.localStore,e,!1).then(()=>Qw(r,e,t)).catch(Ha)})}function P6(n,e){return _(this,null,function*(){let t=re(n),r=e.batch.batchId;try{let i=yield r6(t.localStore,e);_k(t,r,null),vk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield El(t,i)}catch(i){yield Ha(i)}})}function x6(n,e,t){return _(this,null,function*(){let r=re(n);try{let i=yield(function(s,a){let c=re(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ee(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(l,p))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})})(r.localStore,e);_k(r,e,t),vk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield El(r,i)}catch(i){yield Ha(i)}})}function vk(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function _k(n,e,t){let r=re(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Qw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||Ek(n,r)})}function Ek(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(_T(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),CT(n))}function nx(n,e,t){for(let r of t)r instanceof Yp?(n.Au.addReference(r.key,e),k6(n,r)):r instanceof Zp?(U(bT,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||Ek(n,r.key)):G(19791,{yu:r})}function k6(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(U(bT,"New document in limbo: "+t),n.Iu.add(r),CT(n))}function CT(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new W(qe.fromString(e)),r=n.mu.next();n.Eu.set(r,new Ww(t)),n.du=n.du.insert(t,r),lk(n.remoteStore,new fl(Jn(gT(t.path)),r,"TargetPurposeLimboResolution",aT.ue))}}function El(n,e,t){return _(this,null,function*(){let r=re(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Tw.Es(c.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(c,l){return _(this,null,function*(){let h=re(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(l,g=>k.forEach(g.Is,m=>h.persistence.referenceDelegate.addReference(p,g.targetId,m)).next(()=>k.forEach(g.ds,m=>h.persistence.referenceDelegate.removeReference(p,g.targetId,m)))))}catch(p){if(!za(p))throw p;U(vT,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let m=h.Fs.get(g),w=m.snapshotVersion,N=m.withLastLimboFreeSnapshotVersion(w);h.Fs=h.Fs.insert(g,N)}}})})(r.localStore,o))})}function O6(n,e){return _(this,null,function*(){let t=re(n);if(!t.currentUser.isEqual(e)){U(bT,"User change. New user:",e.toKey());let r=yield ck(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new $(x.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield El(t,r.Bs)}})}function F6(n,e){let t=re(n),r=t.Eu.get(e);if(r&&r.lu)return pe().add(r.key);{let i=pe(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function Ik(n){let e=re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=F6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M6.bind(null,e),e.hu.J_=T6.bind(null,e.eventManager),e.hu.pu=D6.bind(null,e.eventManager),e}function L6(n){let e=re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x6.bind(null,e),e}var wk=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=dg(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return n6(this.persistence,new bw,t.initialUser,this.serializer)}Du(t){return new Bp(ww.Vi,this.serializer)}bu(t){return new Aw}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Yw=class extends wk{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ee(this.persistence.referenceDelegate instanceof $p,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new uw(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new Bp(r=>$p.Vi(r,t),this.serializer)}};var V6=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>tx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=O6.bind(null,this.syncEngine),yield E6(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new $w})()}createDatastore(t){let r=dg(t.databaseInfo.databaseId),i=(function(s){return new xw(s)})(t.databaseInfo);return(function(s,a,c,l){return new Lw(s,a,c,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,c){return new jw(i,o,s,a,c)})(this.localStore,this.datastore,t.asyncQueue,r=>tx(this.syncEngine,r,0),(function(){return zp.C()?new zp:new Rw})())}createSyncEngine(t,r){return(function(o,s,a,c,l,h,p){let g=new Kw(o,s,a,c,l,h);return p&&(g.fu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield(function(o){return _(this,null,function*(){let s=re(o);U(Yo,"RemoteStore shutting down."),s.Ia.add(5),yield _l(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Zw=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Fi="FirestoreClient",Jw=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ct.UNAUTHENTICATED,this.clientId=al.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){U(Fi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U(Fi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=TT(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function II(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),U(Fi,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield ck(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Pi("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{U("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Pi("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function rx(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield j6(n);U(Fi,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>JP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>JP(e.remoteStore,i)),n._onlineComponents=e})}function j6(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U(Fi,"Using user provided OfflineComponentProvider");try{yield II(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Pi("Error using user provided cache. Falling back to memory cache: "+t),yield II(n,new wk)}}else U(Fi,"Using default OfflineComponentProvider"),yield II(n,new Yw(void 0));return n._offlineComponents})}function Tk(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(U(Fi,"Using user provided OnlineComponentProvider"),yield rx(n,n._uninitializedComponentsProvider._online)):(U(Fi,"Using default OnlineComponentProvider"),yield rx(n,new V6))),n._onlineComponents})}function U6(n){return Tk(n).then(e=>e.syncEngine)}function ix(n){return _(this,null,function*(){let e=yield Tk(n),t=e.eventManager;return t.onListen=b6.bind(null,e.syncEngine),t.onUnlisten=A6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=C6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=R6.bind(null,e.syncEngine),t})}function Dk(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var ox=new Map;var bk="firestore.googleapis.com",sx=!0,Jp=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bk,this.ssl=sx}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:sx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ak;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<X3)throw new $(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ml=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new wI;switch(r.type){case"firstParty":return new CI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=ox.get(t);r&&(U("ComponentProvider","Removing Datastore"),ox.delete(t),r.terminate())})(this),Promise.resolve()}};function Ck(n,e,t,r={}){var i;n=Si(n,ml);let o=mi(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(Gf(`https://${c}`),Wf("Firestore",!0)),s.host!==bk&&s.host!==c&&Pi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!Cn(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=ct.MOCK_USER;else{h=FN(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new $(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ct(g)}n._authCredentials=new TI(new Cp(h,p))}}var Xp=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Dt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(vl(t,n._jsonSchema))return new n(e,r||null,new W(qe.fromString(t.referencePath)))}};Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Ze("string",Dt._jsonSchemaVersion),referencePath:Ze("string")};var yl=class n extends Xp{constructor(e,t,r){super(e,t,gT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new W(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Sk(n,e,...t){if(n=Ke(n),arguments.length===1&&(e=al.newId()),QG("doc","path",e),n instanceof ml){let r=qe.fromString(e,...t);return DP(r),new Dt(n,null,new W(r))}{if(!(n instanceof Dt||n instanceof yl))throw new $(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(qe.fromString(e,...t));return DP(r),new Dt(n.firestore,n instanceof yl?n.converter:null,new W(r))}}var ax="AsyncQueue",eg=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new qp(this,"async_queue_retry"),this.oc=()=>{let r=EI();r&&U(ax,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=EI();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=EI();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Or;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return _(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!za(e))throw e;U(ax,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Fr("INTERNAL UNHANDLED ERROR: ",cx(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=Uw.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&G(47125,{hc:cx(this.tc)})}verifyOperationInProgress(){}Pc(){return _(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function cx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function ux(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var Zo=class extends ml{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new eg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new eg(e),this._firestoreClient=void 0,yield e}})}};function Ak(n,e){let t=typeof n=="object"?n:ko(),r=typeof n=="string"?n:e||Mp,i=pa(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=ON("firestore");o&&Ck(i,...o)}return i}function Rk(n){if(n._terminated)throw new $(x.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||B6(n),n._firestoreClient}function B6(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,c,l,h){return new MI(a,c,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Dk(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Jw(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(n._componentsProvider))}var Ri=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(bt.fromBase64String(e))}catch(t){throw new $(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vl(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Ri._jsonSchemaVersion="firestore/bytes/1.0",Ri._jsonSchema={type:Ze("string",Ri._jsonSchemaVersion),bytes:Ze("string")};var Ua=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ba=class{constructor(e){this._methodName=e}};var Ni=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(vl(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Ze("string",Ni._jsonSchemaVersion),latitude:Ze("number"),longitude:Ze("number")};var Mi=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vl(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new $(x.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Ze("string",Mi._jsonSchemaVersion),vectorValues:Ze("object")};var $6=/^__.*__$/,Xw=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new nr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qo(e,this.data,t,this.fieldTransforms)}},tg=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new nr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function Nk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G(40011,{Ec:n})}}var ng=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return ig(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Nk(this.Ec)&&$6.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},eT=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||dg(e)}Dc(e,t,r,i=!1){return new ng({Ec:e,methodName:t,bc:r,path:Xt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Mk(n){let e=n._freezeSettings(),t=dg(n._databaseId);return new eT(n._databaseId,!!e.ignoreUndefinedProperties,t)}function H6(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);ST("Data must be an object, but it was:",s,r);let a=Pk(r,s),c,l;if(o.merge)c=new dn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=nT(e,p,t);if(!s.contains(g))throw new $(x.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);kk(h,g)||h.push(g)}c=new dn(h),l=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,l=s.fieldTransforms;return new Xw(new Jt(a),c,l)}var rg=class n extends Ba{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function z6(n,e,t){return new ng({Ec:3,bc:e.settings.bc,methodName:n._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var tT=class n extends Ba{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){let t=z6(this,e,!0),r=this.vc.map(o=>Il(o,t)),i=new ki(r);return new qI(e.path,i)}isEqual(e){return e instanceof n&&Cn(this.vc,e.vc)}};function q6(n,e,t,r){let i=n.Dc(1,e,t);ST("Data must be an object, but it was:",i,r);let o=[],s=Jt.empty();Li(r,(c,l)=>{let h=AT(e,c,t);l=Ke(l);let p=i.gc(h);if(l instanceof rg)o.push(h);else{let g=Il(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new dn(o);return new tg(s,a,i.fieldTransforms)}function G6(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[nT(e,r,t)],c=[i];if(o.length%2!=0)throw new $(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(nT(e,o[g])),c.push(o[g+1]);let l=[],h=Jt.empty();for(let g=a.length-1;g>=0;--g)if(!kk(l,a[g])){let m=a[g],w=c[g];w=Ke(w);let N=s.gc(m);if(w instanceof rg)l.push(m);else{let S=Il(w,N);S!=null&&(l.push(m),h.set(m,S))}}let p=new dn(l);return new tg(h,p,s.fieldTransforms)}function Il(n,e){if(xk(n=Ke(n)))return ST("Unsupported field value:",e,n),Pk(n,e);if(n instanceof Ba)return(function(r,i){if(!Nk(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let c=Il(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return A3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Je.fromDate(r);return{timestampValue:jp(i.serializer,o)}}if(r instanceof Je){let o=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jp(i.serializer,o)}}if(r instanceof Ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ri)return{bytesValue:ek(i.serializer,r._byteString)};if(r instanceof Dt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Mi)return(function(s,a){return{mapValue:{fields:{[lT]:{stringValue:dT},[Ra]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return mT(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${sT(r)}`)})(n,e)}function Pk(n,e){let t={};return Sx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Li(n,(r,i)=>{let o=Il(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function xk(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Je||n instanceof Ni||n instanceof Ri||n instanceof Dt||n instanceof Ba||n instanceof Mi)}function ST(n,e,t){if(!xk(t)||!hx(t)){let r=sT(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function nT(n,e,t){if((e=Ke(e))instanceof Ua)return e._internalPath;if(typeof e=="string")return AT(n,e);throw ig("Field path arguments must be of type string or ",n,!1,void 0,t)}var W6=new RegExp("[~\\*/\\[\\]]");function AT(n,e,t){if(e.search(W6)>=0)throw ig(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ua(...e.split("."))._internalPath}catch{throw ig(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ig(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new $(x.INVALID_ARGUMENT,a+n+c)}function kk(n,e){return n.some(t=>t.isEqual(e))}var og=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new rT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Ok("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},rT=class extends og{data(){return super.data()}};function Ok(n,e){return typeof e=="string"?AT(n,e):e instanceof Ua?e._internalPath:e._delegate._internalPath}function K6(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var iT=class{convertValue(e,t="none"){switch(xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw G(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Li(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ra].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Pe(s.doubleValue));return new Mi(o)}convertGeoPoint(e){return new Ni(Pe(e.latitude),Pe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=cg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ll(e));default:return null}}convertTimestamp(e){let t=Lr(e);return new Je(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=qe.fromString(e);Ee(sk(r),9688,{name:e});let i=new Pp(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(t)||Fr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function Q6(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var zo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},qo=class n extends og{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ca(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Ok("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(x.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};qo._jsonSchemaVersion="firestore/documentSnapshot/1.0",qo._jsonSchema={type:Ze("string",qo._jsonSchemaVersion),bundleSource:Ze("string","DocumentSnapshot"),bundleName:Ze("string"),bundle:Ze("string")};var Ca=class extends qo{data(e={}){return super.data(e)}},Sa=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new zo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ca(this._firestore,this._userDataWriter,r.key,r,new zo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new Ca(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Ca(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Y6(a.type),doc:c,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(x.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=al.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Y6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G(61501,{type:n})}}Sa._jsonSchemaVersion="firestore/querySnapshot/1.0",Sa._jsonSchema={type:Ze("string",Sa._jsonSchemaVersion),bundleSource:Ze("string","QuerySnapshot"),bundleName:Ze("string"),bundle:Ze("string")};var sg=class extends iT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ri(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,t)}};function Fk(n,e,t){n=Si(n,Dt);let r=Si(n.firestore,Zo),i=Q6(n.converter,e,t);return Vk(r,[H6(Mk(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ai.none())])}function Lk(n,e,t,...r){n=Si(n,Dt);let i=Si(n.firestore,Zo),o=Mk(i),s;return s=typeof(e=Ke(e))=="string"||e instanceof Ua?G6(o,"updateDoc",n._key,e,t,r):q6(o,"updateDoc",n._key,e),Vk(i,[s.toMutation(n._key,Ai.exists(!0))])}function RT(n,...e){var t,r,i;n=Ke(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||ux(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(ux(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,l,h;if(n instanceof Dt)l=Si(n.firestore,Zo),h=gT(n._key.path),c={next:p=>{e[s]&&e[s](Z6(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Si(n,Xp);l=Si(p.firestore,Zo),h=p._query;let g=new sg(l);c={next:m=>{e[s]&&e[s](new Sa(l,g,p,m))},error:e[s+1],complete:e[s+2]},K6(n._query)}return(function(g,m,w,N){let S=new Zw(N),M=new zw(m,S,w);return g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return I6(yield ix(g),M)})),()=>{S.Ou(),g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return w6(yield ix(g),M)}))}})(Rk(l),h,a,c)}function Vk(n,e){return(function(r,i){let o=new Or;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return N6(yield U6(r),i,o)})),o.promise})(Rk(n),e)}function Z6(n,e,t){let r=t.docs.get(e._key),i=new sg(n);return new qo(n,i,e._key,r,new zo(t.hasPendingWrites,t.fromCache),e.converter)}function Sle(...n){return new tT("arrayUnion",n)}(function(e,t=!0){(function(i){$a=i})(vi),Sn(new Lt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Zo(new DI(r.getProvider("auth-internal")),new SI(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new $(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pp(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ue(EP,IP,e),Ue(EP,IP,"esm2017")})();var pg=function(){return pg=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},pg.apply(this,arguments)};var eW={includeMetadataChanges:!1};function jk(n,e){return e===void 0&&(e=eW),new ee(function(t){var r=RT(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Uk(n){return jk(n,{includeMetadataChanges:!0})}function Bk(n,e){return e===void 0&&(e={}),Uk(n).pipe(se(function(t){return $k(t,e)}))}function $k(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:pg(pg({},r),(t={},t[e.idField]=n.id,t))}var Xo=class{constructor(e){return e}},Hk="firestore",NT=class{constructor(){return ma(Hk)}};var MT=new j("angularfire2.firestore-instances");function tW(n,e){let t=$u(Hk,n,e);return t&&new Xo(t)}function nW(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Xo(r)}}var rW={provide:NT,deps:[[new Kt,MT]]},iW={provide:Xo,useFactory:tW,deps:[[new Kt,MT],Rr]};function Qde(n,...e){return Ue("angularfire",_i.full,"fst"),Mt([iW,rW,{provide:MT,useFactory:nW(n),multi:!0,deps:[ye,Le,Ei,Fo,[new Kt,el],[new Kt,ya],...e]}])}var zk=Vt(Bk,!0);var gg=Vt(Sk,!0,2);var Yde=Vt(Ak,!0);var qk=Vt(Fk,!0,2);var Gk=Vt(Lk,!0,2);var Wk=class n{constructor(e,t,r){this.http=e;this.auth=t;this.firestore=r;let i=pP();gP(i,o=>{this.user$.next(o)})}favorites=[];user$=new Xe(null);apiKey="e8b239c035a81c1ebff0c13d0e949899";baseUrl="https://api.themoviedb.org/3";getPopularMovies(e){return this.http.get(`${this.baseUrl}/movie/popular`,{params:{api_key:this.apiKey,language:"en-US",page:e.toString()}})}gettopratedMovies(){return this.http.get(`${this.baseUrl}/movie/top_rated`,{params:{api_key:this.apiKey,language:"en-US",page:"1"}})}getupcomingMovies(e){return this.http.get(`${this.baseUrl}/movie/upcoming`,{params:{api_key:this.apiKey,language:"en-US",page:e.toString()}})}getnowplayingMovies(){return this.http.get(`${this.baseUrl}/movie/now_playing`,{params:{api_key:this.apiKey,language:"en-US",page:"1"}})}getmoviedetails(e){return this.http.get(`${this.baseUrl}/movie/${e}`,{params:{api_key:this.apiKey,language:"en-US"}})}getsimilarMovies(e,t){return this.http.get(`${this.baseUrl}/movie/${e}/similar`,{params:{api_key:this.apiKey,language:"en-US",page:t.toString()}})}signupuser(e,t){return fP(this.auth,e,t)}login(e,t){return mP(this.auth,e,t)}signout(){return yP(this.auth)}adduser(e,t){let r=gg(this.firestore,`user/${e}`);return qk(r,t)}addfav(e,t){let r=gg(this.firestore,`user/${e}`);return Gk(r,t)}getdoc(e){let t=gg(this.firestore,`user/${e}`);return zk(t)}searchMovies(e){return this.http.get(`${this.baseUrl}/search/movie?api_key=${this.apiKey}&query=${e}`)}static \u0275fac=function(t){return new(t||n)(z(of),z(Bo),z(Xo))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};export{O as a,_ as b,Oe as c,ee as d,Re as e,Xe as f,Et as g,Q as h,se as i,Ed as j,Es as k,um as l,c1 as m,dt as n,u1 as o,l1 as p,cr as q,pb as r,f1 as s,p1 as t,Dd as u,It as v,bd as w,rt as x,B as y,tn as z,j as A,P as B,Fe as C,Yb as D,Zb as E,lC as F,dC as G,Le as H,Ge as I,j1 as J,uy as K,Wt as L,Un as M,Vs as N,En as O,ah as P,Th as Q,_o as R,EF as S,bh as T,SS as U,KF as V,ze as W,ye as X,gv as Y,ci as Z,go as _,Io as $,ae as aa,wr as ba,yo as ca,Av as da,In as ea,it as fa,Bn as ga,MA as ha,PA as ia,li as ja,FA as ka,Kc as la,rj as ma,ij as na,oj as oa,sj as pa,aj as qa,cj as ra,LA as sa,kv as ta,Ov as ua,Fh as va,pj as wa,wo as xa,_j as ya,Ij as za,wj as Aa,UA as Ba,Dj as Ca,BA as Da,$A as Ea,bj as Fa,qA as Ga,Yc as Ha,Fj as Ia,Wj as Ja,JA as Ka,Fv as La,XA as Ma,t0 as Na,Yj as Oa,n0 as Pa,Zj as Qa,Us as Ra,nU as Sa,oU as Ta,aU as Ua,cU as Va,lU as Wa,fU as Xa,Hs as Ya,zs as Za,tie as _a,nie as $a,B0 as ab,f2 as bb,g2 as cb,m2 as db,_2 as eb,z0 as fb,uoe as gb,x2 as hb,aB as ib,Cr as jb,x_ as kb,Ru as lb,rN as mb,j$ as nb,fN as ob,Vae as pb,jae as qb,hH as rb,Bae as sb,pH as tb,mH as ub,$ae as vb,Hae as wb,zae as xb,Hce as yb,zce as zb,cle as Ab,pP as Bb,Sle as Cb,Qde as Db,Yde as Eb,Wk as Fb};
